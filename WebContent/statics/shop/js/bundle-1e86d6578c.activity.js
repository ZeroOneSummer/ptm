!function e(t,o,r){function n(a,s){if(!o[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=o[a]={exports:{}};t[a][0].call(d.exports,function(e){var o=t[a][1][e];return n(o?o:e)},d,d.exports,e,t,o,r)}return o[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)n(r[a]);return n}({1:[function(e,t,o){!function(e,t,o){"use strict";function r(){this.$get=["$$sanitizeUri",function(e){return function(t){var o=[];return a(t,c(o,function(t,o){return!/^unsafe/.test(e(t,o))})),o.join("")}}]}function n(e){var o=[],r=c(o,t.noop);return r.chars(e),o.join("")}function i(e){var t,o={},r=e.split(",");for(t=0;t<r.length;t++)o[r[t]]=!0;return o}function a(e,o){function r(e,r,i,a){if(r=t.lowercase(r),E[r])for(;w.last()&&x[w.last()];)n("",w.last());_[r]&&w.last()==r&&n("",r),a=I[r]||!!a,a||w.push(r);var l={};i.replace(p,function(e,t,o,r,n){var i=o||r||n||"";l[t]=s(i)}),o.start&&o.start(r,l,a)}function n(e,r){var n,i=0;if(r=t.lowercase(r))for(i=w.length-1;i>=0&&w[i]!=r;i--);if(i>=0){for(n=w.length-1;n>=i;n--)o.end&&o.end(w[n]);w.length=i}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var i,a,l,c,w=[],b=e;for(w.last=function(){return w[w.length-1]};e;){if(c="",a=!0,w.last()&&S[w.last()]?(e=e.replace(new RegExp("(.*)<\\s*\\/\\s*"+w.last()+"[^>]*>","i"),function(e,t){return t=t.replace(m,"$1").replace(y,"$1"),o.chars&&o.chars(s(t)),""}),n("",w.last())):(0===e.indexOf("<!--")?(i=e.indexOf("--",4),i>=0&&e.lastIndexOf("-->",i)===i&&(o.comment&&o.comment(e.substring(4,i)),e=e.substring(i+3),a=!1)):v.test(e)?(l=e.match(v),l&&(e=e.replace(l[0],""),a=!1)):g.test(e)?(l=e.match(h),l&&(e=e.substring(l[0].length),l[0].replace(h,n),a=!1)):f.test(e)&&(l=e.match(u),l?(l[4]&&(e=e.substring(l[0].length),l[0].replace(u,r)),a=!1):(c+="<",e=e.substring(1))),a&&(i=e.indexOf("<"),c+=0>i?e:e.substring(0,i),e=0>i?"":e.substring(i),o.chars&&o.chars(s(c)))),e==b)throw d("badparse","The sanitizer was unable to parse the following block of html: {0}",e);b=e}n()}function s(e){if(!e)return"";var t=D.exec(e),o=t[1],r=t[3],n=t[2];return n&&(L.innerHTML=n.replace(/</g,"&lt;"),n="textContent"in L?L.textContent:L.innerText),o+n+r}function l(e){return e.replace(/&/g,"&amp;").replace(w,function(e){var t=e.charCodeAt(0),o=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(o-56320)+65536)+";"}).replace(b,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(e,o){var r=!1,n=t.bind(e,e.push);return{start:function(e,i,a){e=t.lowercase(e),!r&&S[e]&&(r=e),r||A[e]!==!0||(n("<"),n(e),t.forEach(i,function(r,i){var a=t.lowercase(i),s="img"===e&&"src"===a||"background"===a;M[a]!==!0||R[a]===!0&&!o(r,s)||(n(" "),n(i),n('="'),n(l(r)),n('"'))}),n(a?"/>":">"))},end:function(e){e=t.lowercase(e),r||A[e]!==!0||(n("</"),n(e),n(">")),e==r&&(r=!1)},chars:function(e){r||n(l(e))}}}var d=t.$$minErr("$sanitize"),u=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,h=/^<\/\s*([\w:-]+)[^>]*>/,p=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,f=/^</,g=/^<\//,m=/<!--(.*?)-->/g,v=/<!DOCTYPE([^>]*?)>/i,y=/<!\[CDATA\[(.*?)]]>/g,w=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^\#-~| |!])/g,I=i("area,br,col,hr,img,wbr"),T=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),C=i("rp,rt"),_=t.extend({},C,T),E=t.extend({},T,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),x=t.extend({},C,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),S=i("script,style"),A=t.extend({},I,E,x,_),R=i("background,cite,href,longdesc,src"),M=t.extend({},R,i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width")),L=document.createElement("pre"),D=/^(\s*)([\s\S]*?)(\s*)$/;t.module("ngSanitize",[]).provider("$sanitize",r),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var o=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,r=/^mailto:/;return function(i,a){function s(e){e&&p.push(n(e))}function l(e,o){p.push("<a "),t.isDefined(a)&&(p.push('target="'),p.push(a),p.push('" ')),p.push('href="',e.replace('"',"&quot;"),'">'),s(o),p.push("</a>")}if(!i)return i;for(var c,d,u,h=i,p=[];c=h.match(o);)d=c[0],c[2]==c[3]&&(d="mailto:"+d),u=c.index,s(h.substr(0,u)),l(d,c[0].replace(r,"")),h=h.substring(u+c[0].length);return s(h),e(p.join(""))}}])}(window,window.angular)},{}],2:[function(e,t,o){e(1),t.exports="ngSanitize"},{1:1}],3:[function(e,t,o){!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof o?e("jquery"):jQuery)}(function(e,t){function o(){return new Date(Date.UTC.apply(Date,arguments))}function r(){var e=new Date;return o(e.getFullYear(),e.getMonth(),e.getDate())}function n(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function i(e){return function(){return this[e].apply(this,arguments)}}function a(e){return e&&!isNaN(e.getTime())}function s(t,o){function r(e,t){return t.toLowerCase()}var n,i=e(t).data(),a={},s=new RegExp("^"+o.toLowerCase()+"([A-Z])");o=new RegExp("^"+o.toLowerCase());for(var l in i)o.test(l)&&(n=l.replace(s,r),a[n]=i[l]);return a}function l(t){var o={};if(m[t]||(t=t.split("-")[0],m[t])){var r=m[t];return e.each(g,function(e,t){t in r&&(o[t]=r[t])}),o}}var c=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),o=0,r=this.length;r>o;o++)if(this[o].valueOf()===t)return o;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var e=new c;return e.replace(this),e}};return function(){var o=[];return o.push.apply(o,arguments),e.extend(o,t),o}}(),d=function(t,o){e(t).data("datepicker",this),this._process_options(o),this.dates=new c,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(t),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.inputField.length,this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=e(v.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};d.prototype={constructor:d,_resolveViewName:function(e,o){return 0===e||"days"===e||"month"===e?0:1===e||"months"===e||"year"===e?1:2===e||"years"===e||"decade"===e?2:3===e||"decades"===e||"century"===e?3:4===e||"centuries"===e||"millennium"===e?4:o===t?!1:o},_check_template:function(o){try{if(o===t||""===o)return!1;if((o.match(/[<>]/g)||[]).length<=0)return!0;var r=e(o);return r.length>0}catch(n){return!1}},_process_options:function(t){this._o=e.extend({},this._o,t);var n=this.o=e.extend({},this._o),i=n.language;m[i]||(i=i.split("-")[0],m[i]||(i=f.language)),n.language=i,n.startView=this._resolveViewName(n.startView,0),n.minViewMode=this._resolveViewName(n.minViewMode,0),n.maxViewMode=this._resolveViewName(n.maxViewMode,4),n.startView=Math.min(n.startView,n.maxViewMode),n.startView=Math.max(n.startView,n.minViewMode),n.multidate!==!0&&(n.multidate=Number(n.multidate)||!1,n.multidate!==!1&&(n.multidate=Math.max(0,n.multidate))),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var a=v.parseFormat(n.format);n.startDate!==-(1/0)&&(n.startDate=n.startDate?n.startDate instanceof Date?this._local_to_utc(this._zero_time(n.startDate)):v.parseDate(n.startDate,a,n.language,n.assumeNearbyYear):-(1/0)),n.endDate!==1/0&&(n.endDate=n.endDate?n.endDate instanceof Date?this._local_to_utc(this._zero_time(n.endDate)):v.parseDate(n.endDate,a,n.language,n.assumeNearbyYear):1/0),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],e.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=e.map(n.daysOfWeekDisabled,function(e){return parseInt(e,10)}),n.daysOfWeekHighlighted=n.daysOfWeekHighlighted||[],e.isArray(n.daysOfWeekHighlighted)||(n.daysOfWeekHighlighted=n.daysOfWeekHighlighted.split(/[,\s]*/)),n.daysOfWeekHighlighted=e.map(n.daysOfWeekHighlighted,function(e){return parseInt(e,10)}),n.datesDisabled=n.datesDisabled||[],e.isArray(n.datesDisabled)||(n.datesDisabled=[n.datesDisabled]),n.datesDisabled=e.map(n.datesDisabled,function(e){return v.parseDate(e,a,n.language,n.assumeNearbyYear)});var s=String(n.orientation).toLowerCase().split(/\s+/g),l=n.orientation.toLowerCase();if(s=e.grep(s,function(e){return/^auto|left|right|top|bottom$/.test(e)}),n.orientation={x:"auto",y:"auto"},l&&"auto"!==l)if(1===s.length)switch(s[0]){case"top":case"bottom":n.orientation.y=s[0];break;case"left":case"right":n.orientation.x=s[0]}else l=e.grep(s,function(e){return/^left|right$/.test(e)}),n.orientation.x=l[0]||"auto",l=e.grep(s,function(e){return/^top|bottom$/.test(e)}),n.orientation.y=l[0]||"auto";else;if(n.defaultViewDate){var c=n.defaultViewDate.year||(new Date).getFullYear(),d=n.defaultViewDate.month||0,u=n.defaultViewDate.day||1;n.defaultViewDate=o(c,d,u)}else n.defaultViewDate=r()},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var o,r,n,i=0;i<e.length;i++)o=e[i][0],2===e[i].length?(r=t,n=e[i][1]):3===e[i].length&&(r=e[i][1],n=e[i][2]),o.on(n,r)},_unapplyEvents:function(e){for(var o,r,n,i=0;i<e.length;i++)o=e[i][0],2===e[i].length?(n=t,r=e[i][1]):3===e[i].length&&(n=e[i][1],r=e[i][2]),o.off(r,n)},_buildEvents:function(){var t={keyup:e.proxy(function(t){-1===e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:e.proxy(this.keydown,this),paste:e.proxy(this.paste,this)};this.o.showOnFocus===!0&&(t.focus=e.proxy(this.show,this)),this._events=this.isInput?[[this.element,t]]:this.component&&this.hasInput?[[this.inputField,t],[this.component,{click:e.proxy(this.show,this)}]]:[[this.element,{click:e.proxy(this.show,this),keydown:e.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":e.proxy(function(e){this.update(e.date)},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{mousedown:e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,o){var r=o||this.dates.get(-1),n=this._utc_to_local(r);this.element.trigger({type:t,date:n,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var o=this.dates.get(e);return v.formatDate(o,t,this.o.language)},this)})},show:function(){return this.inputField.prop("disabled")||this.inputField.prop("readonly")&&this.o.enableOnReadonly===!1?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this)},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var o;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==e.inArray("text/plain",t.originalEvent.clipboardData.types))o=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;o=window.clipboardData.getData("Text")}this.setDate(o),this.update(),t.preventDefault()},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return"undefined"!=typeof e?new Date(e):null},clearDates:function(){this.inputField&&this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:i("setDates"),setUTCDate:i("setUTCDates"),remove:i("destroy"),setValue:function(){var e=this.getFormattedDate();return this.inputField.val(e),this},getFormattedDate:function(o){o===t&&(o=this.o.format);var r=this.o.language;return e.map(this.dates,function(e){return v.formatDate(e,o,r)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(e){return this._process_options({daysOfWeekHighlighted:e}),this.update(),this},setDatesDisabled:function(e){this._process_options({datesDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var t=this.picker.outerWidth(),o=this.picker.outerHeight(),r=10,n=e(this.o.container),i=n.width(),a="body"===this.o.container?e(document).scrollTop():n.scrollTop(),s=n.offset(),l=[];this.element.parents().each(function(){var t=e(this).css("z-index");"auto"!==t&&0!==t&&l.push(parseInt(t))});var c=Math.max.apply(Math,l)+this.o.zIndexOffset,d=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),h=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=d.left-s.left,f=d.top-s.top;"body"!==this.o.container&&(f+=a),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=t-h)):d.left<0?(this.picker.addClass("datepicker-orient-left"),p-=d.left-r):p+t>i?(this.picker.addClass("datepicker-orient-right"),p+=h-t):this.picker.addClass("datepicker-orient-left");var g,m=this.o.orientation.y;if("auto"===m&&(g=-a+f-o,m=0>g?"bottom":"top"),this.picker.addClass("datepicker-orient-"+m),"top"===m?f-=o+parseInt(this.picker.css("padding-top")):f+=u,this.o.rtl){var v=i-(p+h);this.picker.css({top:f,right:v,zIndex:c})}else this.picker.css({top:f,left:p,zIndex:c});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var t=this.dates.copy(),o=[],r=!1;return arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),o.push(t)},this)),r=!0):(o=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),o=o&&this.o.multidate?o.split(this.o.multidateSeparator):[o],delete this.element.data().date),o=e.map(o,e.proxy(function(e){return v.parseDate(e,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),o=e.grep(o,e.proxy(function(e){return!this.dateWithinRange(e)||!e},this),!0),this.dates.replace(o),this.viewDate=this.dates.length?new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?new Date(this.o.startDate):this.viewDate>this.o.endDate?new Date(this.o.endDate):this.o.defaultViewDate,r?this.setValue():o.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var t=this.o.weekStart,o="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(e,t){return parseInt(t)+1}),o+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;)o+='<th class="dow',e.inArray(t,this.o.daysOfWeekDisabled)>-1&&(o+=" disabled"),o+='">'+m[this.o.language].daysMin[t++%7]+"</th>";o+="</tr>",this.picker.find(".datepicker-days thead").append(o)},fillMonths:function(){for(var e=this._utc_to_local(this.viewDate),t="",o=0;12>o;){var r=e&&e.getMonth()===o?" focused":"";t+='<span class="month'+r+'">'+m[this.o.language].monthsShort[o++]+"</span>"}this.picker.find(".datepicker-months td").html(t)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var o=[],r=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),i=new Date;return t.getUTCFullYear()<r||t.getUTCFullYear()===r&&t.getUTCMonth()<n?o.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()===r&&t.getUTCMonth()>n)&&o.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&o.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===i.getFullYear()&&t.getUTCMonth()===i.getMonth()&&t.getUTCDate()===i.getDate()&&o.push("today"),-1!==this.dates.contains(t)&&o.push("active"),this.dateWithinRange(t)||o.push("disabled"),this.dateIsDisabled(t)&&o.push("disabled","disabled-date"),-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&o.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&o.push("range"),-1!==e.inArray(t.valueOf(),this.range)&&o.push("selected"),t.valueOf()===this.range[0]&&o.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&o.push("range-end")),o},_fill_yearsView:function(o,r,n,i,a,s,l,c){var d,u,h,p,f,g,m,v,y,w,b;for(d="",u=this.picker.find(o),h=parseInt(a/n,10)*n,f=parseInt(s/i,10)*i,g=parseInt(l/i,10)*i,p=e.map(this.dates,function(e){return parseInt(e.getUTCFullYear()/i,10)*i}),u.find(".datepicker-switch").text(h+"-"+(h+9*i)),m=h-i,v=-1;11>v;v+=1)y=[r],w=null,-1===v?y.push("old"):10===v&&y.push("new"),-1!==e.inArray(m,p)&&y.push("active"),(f>m||m>g)&&y.push("disabled"),m===this.viewDate.getFullYear()&&y.push("focused"),c!==e.noop&&(b=c(new Date(m,0,1)),b===t?b={}:"boolean"==typeof b?b={enabled:b}:"string"==typeof b&&(b={classes:b}),b.enabled===!1&&y.push("disabled"),b.classes&&(y=y.concat(b.classes.split(/\s+/))),b.tooltip&&(w=b.tooltip)),d+='<span class="'+y.join(" ")+'"'+(w?' title="'+w+'"':"")+">"+m+"</span>",m+=i;u.find("td").html(d)},fill:function(){var r,n,i=new Date(this.viewDate),a=i.getUTCFullYear(),s=i.getUTCMonth(),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),c=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),d=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,u=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,h=m[this.o.language].today||m.en.today||"",p=m[this.o.language].clear||m.en.clear||"",f=m[this.o.language].titleFormat||m.en.titleFormat;if(!isNaN(a)&&!isNaN(s)){this.picker.find(".datepicker-days .datepicker-switch").text(v.formatDate(i,f,this.o.language)),this.picker.find("tfoot .today").text(h).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(p).toggle(this.o.clearBtn!==!1),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var g=o(a,s-1,28),y=v.getDaysInMonth(g.getUTCFullYear(),g.getUTCMonth());g.setUTCDate(y),g.setUTCDate(y-(g.getUTCDay()-this.o.weekStart+7)%7);var w=new Date(g);g.getUTCFullYear()<100&&w.setUTCFullYear(g.getUTCFullYear()),w.setUTCDate(w.getUTCDate()+42),w=w.valueOf();for(var b,I=[];g.valueOf()<w;){if(g.getUTCDay()===this.o.weekStart&&(I.push("<tr>"),this.o.calendarWeeks)){var T=new Date(+g+(this.o.weekStart-g.getUTCDay()-7)%7*864e5),C=new Date(Number(T)+(11-T.getUTCDay())%7*864e5),_=new Date(Number(_=o(C.getUTCFullYear(),0,1))+(11-_.getUTCDay())%7*864e5),E=(C-_)/864e5/7+1;I.push('<td class="cw">'+E+"</td>")}b=this.getClassNames(g),b.push("day"),this.o.beforeShowDay!==e.noop&&(n=this.o.beforeShowDay(this._utc_to_local(g)),n===t?n={}:"boolean"==typeof n?n={enabled:n}:"string"==typeof n&&(n={classes:n}),n.enabled===!1&&b.push("disabled"),n.classes&&(b=b.concat(n.classes.split(/\s+/))),n.tooltip&&(r=n.tooltip)),b=e.isFunction(e.uniqueSort)?e.uniqueSort(b):e.unique(b),I.push('<td class="'+b.join(" ")+'"'+(r?' title="'+r+'"':"")+">"+g.getUTCDate()+"</td>"),r=null,g.getUTCDay()===this.o.weekEnd&&I.push("</tr>"),g.setUTCDate(g.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(I.join(""));var x=m[this.o.language].monthsTitle||m.en.monthsTitle||"Months",S=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?x:a).end().find("span").removeClass("active");if(e.each(this.dates,function(e,t){t.getUTCFullYear()===a&&S.eq(t.getUTCMonth()).addClass("active")}),(l>a||a>d)&&S.addClass("disabled"),a===l&&S.slice(0,c).addClass("disabled"),a===d&&S.slice(u+1).addClass("disabled"),this.o.beforeShowMonth!==e.noop){var A=this;e.each(S,function(o,r){var n=new Date(a,o,1),i=A.o.beforeShowMonth(n);i===t?i={}:"boolean"==typeof i?i={enabled:i}:"string"==typeof i&&(i={classes:i}),i.enabled!==!1||e(r).hasClass("disabled")||e(r).addClass("disabled"),i.classes&&e(r).addClass(i.classes),i.tooltip&&e(r).prop("title",i.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,1,a,l,d,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,10,a,l,d,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,100,a,l,d,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),o=e.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()&&o<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()&&o>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:case 3:case 4:this.picker.find(".prev").css(this.o.startDate!==-(1/0)&&t<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(t){t.preventDefault(),t.stopPropagation();var n,i,a,s,l,c,d;n=e(t.target),n.hasClass("datepicker-switch")&&this.showMode(1);var u=n.closest(".prev, .next");u.length>0&&(i=v.modes[this.viewMode].navStep*(u.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,i),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,i),1===this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill()),n.hasClass("today")&&!n.hasClass("day")&&(this.showMode(-2),this._setDate(r(),"linked"===this.o.todayBtn?null:"view")),n.hasClass("clear")&&this.clearDates(),n.hasClass("disabled")||(n.hasClass("day")&&(a=parseInt(n.text(),10)||1,s=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth(),n.hasClass("old")&&(0===l?(l=11,s-=1,c=!0,d=!0):(l-=1,c=!0)),n.hasClass("new")&&(11===l?(l=0,s+=1,c=!0,d=!0):(l+=1,c=!0)),this._setDate(o(s,l,a)),d&&this._trigger("changeYear",this.viewDate),c&&this._trigger("changeMonth",this.viewDate)),n.hasClass("month")&&(this.viewDate.setUTCDate(1),a=1,l=n.parent().find("span").index(n),s=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(l),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(o(s,l,a)),this.showMode()):this.showMode(-1),this.fill()),(n.hasClass("year")||n.hasClass("decade")||n.hasClass("century"))&&(this.viewDate.setUTCDate(1),a=1,l=0,s=parseInt(n.text(),10)||0,this.viewDate.setUTCFullYear(s),n.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(o(s,l,a))),n.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(o(s,l,a))),n.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),4===this.o.minViewMode&&this._setDate(o(s,l,a))),this.showMode(-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),-1!==t?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(e)):this.dates.push(e),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate"),this.inputField&&this.inputField.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveDay:function(e,t){var o=new Date(e);return o.setUTCDate(e.getUTCDate()+t),o},moveWeek:function(e,t){return this.moveDay(e,7*t)},moveMonth:function(e,t){if(!a(e))return this.o.defaultViewDate;if(!t)return e;var o,r,n=new Date(e.valueOf()),i=n.getUTCDate(),s=n.getUTCMonth(),l=Math.abs(t);if(t=t>0?1:-1,1===l)r=-1===t?function(){return n.getUTCMonth()===s}:function(){return n.getUTCMonth()!==o},o=s+t,n.setUTCMonth(o),(0>o||o>11)&&(o=(o+12)%12);else{for(var c=0;l>c;c++)n=this.moveMonth(n,t);o=n.getUTCMonth(),n.setUTCDate(i),r=function(){return o!==n.getUTCMonth()}}for(;r();)n.setUTCDate(--i),n.setUTCMonth(o);return n},moveYear:function(e,t){return this.moveMonth(e,12*t)},moveAvailableDate:function(e,t,o){do{if(e=this[o](e,t),!this.dateWithinRange(e))return!1;o="moveDay"}while(this.dateIsDisabled(e));return e},weekOfDateIsDisabled:function(t){return-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||e.grep(this.o.datesDisabled,function(e){return n(t,e)}).length>0},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(!this.picker.is(":visible"))return void((40===e.keyCode||27===e.keyCode)&&(this.show(),e.stopPropagation()));var t,o,r=!1,n=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault(),e.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;t=37===e.keyCode||38===e.keyCode?-1:1,0===this.viewMode?e.ctrlKey?(o=this.moveAvailableDate(n,t,"moveYear"),o&&this._trigger("changeYear",this.viewDate)):e.shiftKey?(o=this.moveAvailableDate(n,t,"moveMonth"),o&&this._trigger("changeMonth",this.viewDate)):37===e.keyCode||39===e.keyCode?o=this.moveAvailableDate(n,t,"moveDay"):this.weekOfDateIsDisabled(n)||(o=this.moveAvailableDate(n,t,"moveWeek")):1===this.viewMode?((38===e.keyCode||40===e.keyCode)&&(t=4*t),o=this.moveAvailableDate(n,t,"moveMonth")):2===this.viewMode&&((38===e.keyCode||40===e.keyCode)&&(t=4*t),o=this.moveAvailableDate(n,t,"moveYear")),o&&(this.focusDate=this.viewDate=o,this.setValue(),this.fill(),e.preventDefault());break;case 13:if(!this.o.forceParse)break;n=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(n),r=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),e.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}r&&(this._trigger(this.dates.length?"changeDate":"clearDate"),this.inputField&&this.inputField.change())},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+e))),this.picker.children("div").hide().filter(".datepicker-"+v.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var u=function(t,o){e(t).data("datepicker",this),this.element=e(t),this.inputs=e.map(o.inputs,function(e){return e.jquery?e[0]:e}),delete o.inputs,p.call(e(this.inputs),o).on("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};u.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,o){o.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var o=e(t.target).data("datepicker");if("undefined"!=typeof o){var r=o.getUTCDate(),n=e.inArray(t.target,this.inputs),i=n-1,a=n+1,s=this.inputs.length;if(-1!==n){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(r)}),r<this.dates[i])for(;i>=0&&r<this.dates[i];)this.pickers[i--].setUTCDate(r);else if(r>this.dates[a])for(;s>a&&r>this.dates[a];)this.pickers[a++].setUTCDate(r);this.updateDates(),delete this.updating}}}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var h=e.fn.datepicker,p=function(o){
var r=Array.apply(null,arguments);r.shift();var n;if(this.each(function(){var t=e(this),i=t.data("datepicker"),a="object"==typeof o&&o;if(!i){var c=s(this,"date"),h=e.extend({},f,c,a),p=l(h.language),g=e.extend({},f,p,c,a);t.hasClass("input-daterange")||g.inputs?(e.extend(g,{inputs:g.inputs||t.find("input").toArray()}),i=new u(this,g)):i=new d(this,g),t.data("datepicker",i)}"string"==typeof o&&"function"==typeof i[o]&&(n=i[o].apply(i,r))}),n===t||n instanceof d||n instanceof u)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+o+" function)");return n};e.fn.datepicker=p;var f=e.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,beforeShowYear:e.noop,beforeShowDecade:e.noop,beforeShowCentury:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}},g=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=d;var m=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},v={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,v.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(e){if("function"==typeof e.toValue&&"function"==typeof e.toDisplay)return e;var t=e.replace(this.validParts,"\x00").split("\x00"),o=e.match(this.validParts);if(!t||!t.length||!o||0===o.length)throw new Error("Invalid date format.");return{separators:t,parts:o}},parseDate:function(n,i,a,s){function l(e,t){return t===!0&&(t=10),100>e&&(e+=2e3,e>(new Date).getFullYear()+t&&(e-=100)),e}function c(){var e=this.slice(0,y[p].length),t=y[p].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!n)return t;if(n instanceof Date)return n;if("string"==typeof i&&(i=v.parseFormat(i)),i.toValue)return i.toValue(n,i,a);var u,h,p,f,g=/([\-+]\d+)([dmwy])/,y=n.match(/([\-+]\d+)([dmwy])/g),w={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},b={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n)){for(n=new Date,p=0;p<y.length;p++)u=g.exec(y[p]),h=parseInt(u[1]),f=w[u[2]],n=d.prototype[f](n,h);return o(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())}if("undefined"!=typeof b[n]&&(n=b[n],y=n.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n))){for(n=new Date,p=0;p<y.length;p++)u=g.exec(y[p]),h=parseInt(u[1]),f=w[u[2]],n=d.prototype[f](n,h);return o(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())}y=n&&n.match(this.nonpunctuation)||[],n=new Date;var I,T,C={},_=["yyyy","yy","M","MM","m","mm","d","dd"],E={yyyy:function(e,t){return e.setUTCFullYear(s?l(t,s):t)},yy:function(e,t){return e.setUTCFullYear(s?l(t,s):t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};E.M=E.MM=E.mm=E.m,E.dd=E.d,n=r();var x=i.parts.slice();if(y.length!==x.length&&(x=e(x).filter(function(t,o){return-1!==e.inArray(o,_)}).toArray()),y.length===x.length){var S;for(p=0,S=x.length;S>p;p++){if(I=parseInt(y[p],10),u=x[p],isNaN(I))switch(u){case"MM":T=e(m[a].months).filter(c),I=e.inArray(T[0],m[a].months)+1;break;case"M":T=e(m[a].monthsShort).filter(c),I=e.inArray(T[0],m[a].monthsShort)+1}C[u]=I}var A,R;for(p=0;p<_.length;p++)R=_[p],R in C&&!isNaN(C[R])&&(A=new Date(n),E[R](A,C[R]),isNaN(A)||(n=A))}return n},formatDate:function(t,o,r){if(!t)return"";if("string"==typeof o&&(o=v.parseFormat(o)),o.toDisplay)return o.toDisplay(t,o,r);var n={d:t.getUTCDate(),D:m[r].daysShort[t.getUTCDay()],DD:m[r].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:m[r].monthsShort[t.getUTCMonth()],MM:m[r].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m,t=[];for(var i=e.extend([],o.separators),a=0,s=o.parts.length;s>=a;a++)i.length&&t.push(i.shift()),t.push(n[o.parts[a]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=v,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=h,this},e.fn.datepicker.version="1.6.4",e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var o=e(this);o.data("datepicker")||(t.preventDefault(),p.call(o,"show"))}),e(function(){p.call(e('[data-provide="datepicker-inline"]'))})})},{jquery:"jquery"}],4:[function(e,t,o){!function(e){e.fn.datepicker.dates["zh-CN"]={days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],daysShort:["周日","周一","周二","周三","周四","周五","周六"],daysMin:["日","一","二","三","四","五","六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],today:"今日",clear:"清除",format:"yyyy年mm月dd日",titleFormat:"yyyy年mm月",weekStart:1}}(jQuery)},{}],5:[function(e,t,o){(function(t){"use strict";function r(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function n(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=a.prototype):(null===e&&(e=new a(t)),e.length=t),e}function a(e,t,o){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(e,t,o);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return s(this,e,t,o)}function s(e,t,o,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?p(e,t,o,r):"string"==typeof t?u(e,t,o):f(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(0>e)throw new RangeError('"size" argument must not be negative')}function c(e,t,o,r){return l(t),0>=t?i(e,t):void 0!==o?"string"==typeof r?i(e,t).fill(o,r):i(e,t).fill(o):i(e,t)}function d(e,t){if(l(t),e=i(e,0>t?0:0|g(t)),!a.TYPED_ARRAY_SUPPORT)for(var o=0;t>o;++o)e[o]=0;return e}function u(e,t,o){if(("string"!=typeof o||""===o)&&(o="utf8"),!a.isEncoding(o))throw new TypeError('"encoding" must be a valid string encoding');var r=0|v(t,o);e=i(e,r);var n=e.write(t,o);return n!==r&&(e=e.slice(0,n)),e}function h(e,t){var o=t.length<0?0:0|g(t.length);e=i(e,o);for(var r=0;o>r;r+=1)e[r]=255&t[r];return e}function p(e,t,o,r){if(t.byteLength,0>o||t.byteLength<o)throw new RangeError("'offset' is out of bounds");if(t.byteLength<o+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===o&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,o):new Uint8Array(t,o,r),a.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=a.prototype):e=h(e,t),e}function f(e,t){if(a.isBuffer(t)){var o=0|g(t.length);return e=i(e,o),0===e.length?e:(t.copy(e,0,0,o),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||Z(t.length)?i(e,0):h(e,t);if("Buffer"===t.type&&J(t.data))return h(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),a.alloc(+e)}function v(e,t){if(a.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var o=e.length;if(0===o)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*o;case"hex":return o>>>1;case"base64":return X(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,o){var r=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===o||o>this.length)&&(o=this.length),0>=o)return"";if(o>>>=0,t>>>=0,t>=o)return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,o);case"utf8":case"utf-8":return R(this,t,o);case"ascii":return L(this,t,o);case"latin1":case"binary":return D(this,t,o);case"base64":return A(this,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,o);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function w(e,t,o){var r=e[t];e[t]=e[o],e[o]=r}function b(e,t,o,r,n){if(0===e.length)return-1;if("string"==typeof o?(r=o,o=0):o>2147483647?o=2147483647:-2147483648>o&&(o=-2147483648),o=+o,isNaN(o)&&(o=n?0:e.length-1),0>o&&(o=e.length+o),o>=e.length){if(n)return-1;o=e.length-1}else if(0>o){if(!n)return-1;o=0}if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:I(e,t,o,r,n);if("number"==typeof t)return t=255&t,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,o):Uint8Array.prototype.lastIndexOf.call(e,t,o):I(e,[t],o,r,n);throw new TypeError("val must be string, number or Buffer")}function I(e,t,o,r,n){function i(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,l=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,o/=2}var c;if(n){var d=-1;for(c=o;s>c;c++)if(i(e,c)===i(t,-1===d?0:c-d)){if(-1===d&&(d=c),c-d+1===l)return d*a}else-1!==d&&(c-=c-d),d=-1}else for(o+l>s&&(o=s-l),c=o;c>=0;c--){for(var u=!0,h=0;l>h;h++)if(i(e,c+h)!==i(t,h)){u=!1;break}if(u)return c}return-1}function T(e,t,o,r){o=Number(o)||0;var n=e.length-o;r?(r=Number(r),r>n&&(r=n)):r=n;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;r>a;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[o+a]=s}return a}function C(e,t,o,r){return j(V(t,e.length-o),e,o,r)}function _(e,t,o,r){return j(q(t),e,o,r)}function E(e,t,o,r){return _(e,t,o,r)}function x(e,t,o,r){return j(X(t),e,o,r)}function S(e,t,o,r){return j(W(t,e.length-o),e,o,r)}function A(e,t,o){return K.fromByteArray(0===t&&o===e.length?e:e.slice(t,o))}function R(e,t,o){o=Math.min(e.length,o);for(var r=[],n=t;o>n;){var i=e[n],a=null,s=i>239?4:i>223?3:i>191?2:1;if(o>=n+s){var l,c,d,u;switch(s){case 1:128>i&&(a=i);break;case 2:l=e[n+1],128===(192&l)&&(u=(31&i)<<6|63&l,u>127&&(a=u));break;case 3:l=e[n+1],c=e[n+2],128===(192&l)&&128===(192&c)&&(u=(15&i)<<12|(63&l)<<6|63&c,u>2047&&(55296>u||u>57343)&&(a=u));break;case 4:l=e[n+1],c=e[n+2],d=e[n+3],128===(192&l)&&128===(192&c)&&128===(192&d)&&(u=(15&i)<<18|(63&l)<<12|(63&c)<<6|63&d,u>65535&&1114112>u&&(a=u))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),n+=s}return M(r)}function M(e){var t=e.length;if(ee>=t)return String.fromCharCode.apply(String,e);for(var o="",r=0;t>r;)o+=String.fromCharCode.apply(String,e.slice(r,r+=ee));return o}function L(e,t,o){var r="";o=Math.min(e.length,o);for(var n=t;o>n;++n)r+=String.fromCharCode(127&e[n]);return r}function D(e,t,o){var r="";o=Math.min(e.length,o);for(var n=t;o>n;++n)r+=String.fromCharCode(e[n]);return r}function k(e,t,o){var r=e.length;(!t||0>t)&&(t=0),(!o||0>o||o>r)&&(o=r);for(var n="",i=t;o>i;++i)n+=H(e[i]);return n}function N(e,t,o){for(var r=e.slice(t,o),n="",i=0;i<r.length;i+=2)n+=String.fromCharCode(r[i]+256*r[i+1]);return n}function P(e,t,o){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>o)throw new RangeError("Trying to access beyond buffer length")}function $(e,t,o,r,n,i){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||i>t)throw new RangeError('"value" argument is out of bounds');if(o+r>e.length)throw new RangeError("Index out of range")}function O(e,t,o,r){0>t&&(t=65535+t+1);for(var n=0,i=Math.min(e.length-o,2);i>n;++n)e[o+n]=(t&255<<8*(r?n:1-n))>>>8*(r?n:1-n)}function U(e,t,o,r){0>t&&(t=4294967295+t+1);for(var n=0,i=Math.min(e.length-o,4);i>n;++n)e[o+n]=t>>>8*(r?n:3-n)&255}function B(e,t,o,r,n,i){if(o+r>e.length)throw new RangeError("Index out of range");if(0>o)throw new RangeError("Index out of range")}function z(e,t,o,r,n){return n||B(e,t,o,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(e,t,o,r,23,4),o+4}function Y(e,t,o,r,n){return n||B(e,t,o,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(e,t,o,r,52,8),o+8}function F(e){if(e=G(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function G(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return 16>e?"0"+e.toString(16):e.toString(16)}function V(e,t){t=t||1/0;for(var o,r=e.length,n=null,i=[],a=0;r>a;++a){if(o=e.charCodeAt(a),o>55295&&57344>o){if(!n){if(o>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}n=o;continue}if(56320>o){(t-=3)>-1&&i.push(239,191,189),n=o;continue}o=(n-55296<<10|o-56320)+65536}else n&&(t-=3)>-1&&i.push(239,191,189);if(n=null,128>o){if((t-=1)<0)break;i.push(o)}else if(2048>o){if((t-=2)<0)break;i.push(o>>6|192,63&o|128)}else if(65536>o){if((t-=3)<0)break;i.push(o>>12|224,o>>6&63|128,63&o|128)}else{if(!(1114112>o))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}}return i}function q(e){for(var t=[],o=0;o<e.length;++o)t.push(255&e.charCodeAt(o));return t}function W(e,t){for(var o,r,n,i=[],a=0;a<e.length&&!((t-=2)<0);++a)o=e.charCodeAt(a),r=o>>8,n=o%256,i.push(n),i.push(r);return i}function X(e){return K.toByteArray(F(e))}function j(e,t,o,r){for(var n=0;r>n&&!(n+o>=t.length||n>=e.length);++n)t[n+o]=e[n];return n}function Z(e){return e!==e}var K=e(6),Q=e(7),J=e(8);o.Buffer=a,o.SlowBuffer=m,o.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:r(),o.kMaxLength=n(),a.poolSize=8192,a._augment=function(e){return e.__proto__=a.prototype,e},a.from=function(e,t,o){return s(null,e,t,o)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(e,t,o){return c(null,e,t,o)},a.allocUnsafe=function(e){return d(null,e)},a.allocUnsafeSlow=function(e){return d(null,e)},a.isBuffer=function(e){return!(null==e||!e._isBuffer)},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var o=e.length,r=t.length,n=0,i=Math.min(o,r);i>n;++n)if(e[n]!==t[n]){o=e[n],r=t[n];break}return r>o?-1:o>r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!J(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var o;if(void 0===t)for(t=0,o=0;o<e.length;++o)t+=e[o].length;var r=a.allocUnsafe(t),n=0;for(o=0;o<e.length;++o){var i=e[o];if(!a.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,n),n+=i.length}return r},a.byteLength=v,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;e>t;t+=2)w(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;e>t;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;e>t;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},a.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?R(this,0,e):y.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===a.compare(this,e)},a.prototype.inspect=function(){var e="",t=o.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e,t,o,r,n){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===o&&(o=e?e.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),0>t||o>e.length||0>r||n>this.length)throw new RangeError("out of range index");if(r>=n&&t>=o)return 0;if(r>=n)return-1;if(t>=o)return 1;if(t>>>=0,o>>>=0,r>>>=0,n>>>=0,this===e)return 0;for(var i=n-r,s=o-t,l=Math.min(i,s),c=this.slice(r,n),d=e.slice(t,o),u=0;l>u;++u)if(c[u]!==d[u]){i=c[u],s=d[u];break}return s>i?-1:i>s?1:0},a.prototype.includes=function(e,t,o){return-1!==this.indexOf(e,t,o)},a.prototype.indexOf=function(e,t,o){return b(this,e,t,o,!0)},a.prototype.lastIndexOf=function(e,t,o){return b(this,e,t,o,!1)},a.prototype.write=function(e,t,o,r){if(void 0===t)r="utf8",o=this.length,t=0;else if(void 0===o&&"string"==typeof t)r=t,o=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t=0|t,isFinite(o)?(o=0|o,void 0===r&&(r="utf8")):(r=o,o=void 0)}var n=this.length-t;if((void 0===o||o>n)&&(o=n),e.length>0&&(0>o||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return T(this,e,t,o);case"utf8":case"utf-8":return C(this,e,t,o);case"ascii":return _(this,e,t,o);case"latin1":case"binary":return E(this,e,t,o);case"base64":return x(this,e,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,o);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;a.prototype.slice=function(e,t){var o=this.length;e=~~e,t=void 0===t?o:~~t,0>e?(e+=o,0>e&&(e=0)):e>o&&(e=o),0>t?(t+=o,0>t&&(t=0)):t>o&&(t=o),e>t&&(t=e);var r;if(a.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=a.prototype;else{var n=t-e;r=new a(n,void 0);for(var i=0;n>i;++i)r[i]=this[i+e]}return r},a.prototype.readUIntLE=function(e,t,o){e=0|e,t=0|t,o||P(e,t,this.length);for(var r=this[e],n=1,i=0;++i<t&&(n*=256);)r+=this[e+i]*n;return r},a.prototype.readUIntBE=function(e,t,o){e=0|e,t=0|t,o||P(e,t,this.length);for(var r=this[e+--t],n=1;t>0&&(n*=256);)r+=this[e+--t]*n;return r},a.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,o){e=0|e,t=0|t,o||P(e,t,this.length);for(var r=this[e],n=1,i=0;++i<t&&(n*=256);)r+=this[e+i]*n;return n*=128,r>=n&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,o){e=0|e,t=0|t,o||P(e,t,this.length);for(var r=t,n=1,i=this[e+--r];r>0&&(n*=256);)i+=this[e+--r]*n;return n*=128,i>=n&&(i-=Math.pow(2,8*t)),i},a.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var o=this[e]|this[e+1]<<8;return 32768&o?4294901760|o:o},a.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var o=this[e+1]|this[e]<<8;return 32768&o?4294901760|o:o},a.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),Q.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),Q.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),Q.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),Q.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,o,r){if(e=+e,t=0|t,o=0|o,!r){var n=Math.pow(2,8*o)-1;$(this,e,t,o,n,0)}var i=1,a=0;for(this[t]=255&e;++a<o&&(i*=256);)this[t+a]=e/i&255;return t+o},a.prototype.writeUIntBE=function(e,t,o,r){if(e=+e,t=0|t,o=0|o,!r){var n=Math.pow(2,8*o)-1;$(this,e,t,o,n,0)}var i=o-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+o},a.prototype.writeUInt8=function(e,t,o){return e=+e,t=0|t,o||$(this,e,t,1,255,0),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,o){return e=+e,t=0|t,o||$(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},a.prototype.writeUInt16BE=function(e,t,o){return e=+e,t=0|t,o||$(this,e,t,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},a.prototype.writeUInt32LE=function(e,t,o){return e=+e,t=0|t,o||$(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):U(this,e,t,!0),t+4},a.prototype.writeUInt32BE=function(e,t,o){return e=+e,t=0|t,o||$(this,e,t,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},a.prototype.writeIntLE=function(e,t,o,r){if(e=+e,t=0|t,!r){var n=Math.pow(2,8*o-1);$(this,e,t,o,n-1,-n)}var i=0,a=1,s=0;for(this[t]=255&e;++i<o&&(a*=256);)0>e&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+o},a.prototype.writeIntBE=function(e,t,o,r){if(e=+e,t=0|t,!r){var n=Math.pow(2,8*o-1);$(this,e,t,o,n-1,-n)}var i=o-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)0>e&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+o},a.prototype.writeInt8=function(e,t,o){return e=+e,t=0|t,o||$(this,e,t,1,127,-128),a.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,o){return e=+e,t=0|t,o||$(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},a.prototype.writeInt16BE=function(e,t,o){return e=+e,t=0|t,o||$(this,e,t,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},a.prototype.writeInt32LE=function(e,t,o){return e=+e,t=0|t,o||$(this,e,t,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):U(this,e,t,!0),t+4},a.prototype.writeInt32BE=function(e,t,o){return e=+e,t=0|t,o||$(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),a.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},a.prototype.writeFloatLE=function(e,t,o){return z(this,e,t,!0,o)},a.prototype.writeFloatBE=function(e,t,o){return z(this,e,t,!1,o)},a.prototype.writeDoubleLE=function(e,t,o){return Y(this,e,t,!0,o)},a.prototype.writeDoubleBE=function(e,t,o){return Y(this,e,t,!1,o)},a.prototype.copy=function(e,t,o,r){if(o||(o=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&o>r&&(r=o),r===o)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>o||o>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-o&&(r=e.length-t+o);var n,i=r-o;if(this===e&&t>o&&r>t)for(n=i-1;n>=0;--n)e[n+t]=this[n+o];else if(1e3>i||!a.TYPED_ARRAY_SUPPORT)for(n=0;i>n;++n)e[n+t]=this[n+o];else Uint8Array.prototype.set.call(e,this.subarray(o,o+i),t);return i},a.prototype.fill=function(e,t,o,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,o=this.length):"string"==typeof o&&(r=o,o=this.length),1===e.length){var n=e.charCodeAt(0);256>n&&(e=n)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e=255&e);if(0>t||this.length<t||this.length<o)throw new RangeError("Out of range index");if(t>=o)return this;t>>>=0,o=void 0===o?this.length:o>>>0,e||(e=0);var i;if("number"==typeof e)for(i=t;o>i;++i)this[i]=e;else{var s=a.isBuffer(e)?e:V(new a(e,r).toString()),l=s.length;for(i=0;o-t>i;++i)this[i+t]=s[i%l]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{6:6,7:7,8:8}],6:[function(e,t,o){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function n(e){return 3*e.length/4-r(e)}function i(e){var t,o,n,i,a,s,l=e.length;a=r(e),s=new u(3*l/4-a),n=a>0?l-4:l;var c=0;for(t=0,o=0;n>t;t+=4,o+=3)i=d[e.charCodeAt(t)]<<18|d[e.charCodeAt(t+1)]<<12|d[e.charCodeAt(t+2)]<<6|d[e.charCodeAt(t+3)],s[c++]=i>>16&255,s[c++]=i>>8&255,s[c++]=255&i;return 2===a?(i=d[e.charCodeAt(t)]<<2|d[e.charCodeAt(t+1)]>>4,s[c++]=255&i):1===a&&(i=d[e.charCodeAt(t)]<<10|d[e.charCodeAt(t+1)]<<4|d[e.charCodeAt(t+2)]>>2,s[c++]=i>>8&255,s[c++]=255&i),s}function a(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function s(e,t,o){for(var r,n=[],i=t;o>i;i+=3)r=(e[i]<<16)+(e[i+1]<<8)+e[i+2],n.push(a(r));return n.join("")}function l(e){for(var t,o=e.length,r=o%3,n="",i=[],a=16383,l=0,d=o-r;d>l;l+=a)i.push(s(e,l,l+a>d?d:l+a));return 1===r?(t=e[o-1],n+=c[t>>2],n+=c[t<<4&63],n+="=="):2===r&&(t=(e[o-2]<<8)+e[o-1],n+=c[t>>10],n+=c[t>>4&63],n+=c[t<<2&63],n+="="),i.push(n),i.join("")}o.byteLength=n,o.toByteArray=i,o.fromByteArray=l;for(var c=[],d=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,f=h.length;f>p;++p)c[p]=h[p],d[h.charCodeAt(p)]=p;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63},{}],7:[function(e,t,o){o.read=function(e,t,o,r,n){var i,a,s=8*n-r-1,l=(1<<s)-1,c=l>>1,d=-7,u=o?n-1:0,h=o?-1:1,p=e[t+u];for(u+=h,i=p&(1<<-d)-1,p>>=-d,d+=s;d>0;i=256*i+e[t+u],u+=h,d-=8);for(a=i&(1<<-d)-1,i>>=-d,d+=r;d>0;a=256*a+e[t+u],u+=h,d-=8);if(0===i)i=1-c;else{if(i===l)return a?0/0:(p?-1:1)*(1/0);a+=Math.pow(2,r),i-=c}return(p?-1:1)*a*Math.pow(2,i-r)},o.write=function(e,t,o,r,n,i){var a,s,l,c=8*i-n-1,d=(1<<c)-1,u=d>>1,h=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,f=r?1:-1,g=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=d):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+u>=1?h/l:h*Math.pow(2,1-u),t*l>=2&&(a++,l/=2),a+u>=d?(s=0,a=d):a+u>=1?(s=(t*l-1)*Math.pow(2,n),a+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,n),a=0));n>=8;e[o+p]=255&s,p+=f,s/=256,n-=8);for(a=a<<n|s,c+=n;c>0;e[o+p]=255&a,p+=f,a/=256,c-=8);e[o+p-f]|=128*g}},{}],8:[function(e,t,o){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],9:[function(e,t,o){!function(o){"use strict";var r,n=o.Base64,i="2.1.9";if("undefined"!=typeof t&&t.exports)try{r=e(5).Buffer}catch(a){}var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=function(e){for(var t={},o=0,r=e.length;r>o;o++)t[e.charAt(o)]=o;return t}(s),c=String.fromCharCode,d=function(e){if(e.length<2){var t=e.charCodeAt(0);return 128>t?e:2048>t?c(192|t>>>6)+c(128|63&t):c(224|t>>>12&15)+c(128|t>>>6&63)+c(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return c(240|t>>>18&7)+c(128|t>>>12&63)+c(128|t>>>6&63)+c(128|63&t)},u=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,h=function(e){return e.replace(u,d)},p=function(e){var t=[0,2,1][e.length%3],o=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),r=[s.charAt(o>>>18),s.charAt(o>>>12&63),t>=2?"=":s.charAt(o>>>6&63),t>=1?"=":s.charAt(63&o)];return r.join("")},f=o.btoa?function(e){return o.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,p)},g=r?function(e){return(e.constructor===r.constructor?e:new r(e)).toString("base64")}:function(e){return f(h(e))},m=function(e,t){return t?g(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):g(String(e))},v=function(e){return m(e,!0)},y=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),w=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),o=t-65536;return c((o>>>10)+55296)+c((1023&o)+56320);case 3:return c((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return c((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},b=function(e){return e.replace(y,w)},I=function(e){var t=e.length,o=t%4,r=(t>0?l[e.charAt(0)]<<18:0)|(t>1?l[e.charAt(1)]<<12:0)|(t>2?l[e.charAt(2)]<<6:0)|(t>3?l[e.charAt(3)]:0),n=[c(r>>>16),c(r>>>8&255),c(255&r)];return n.length-=[0,0,2,1][o],n.join("")},T=o.atob?function(e){return o.atob(e)}:function(e){return e.replace(/[\s\S]{1,4}/g,I)},C=r?function(e){return(e.constructor===r.constructor?e:new r(e,"base64")).toString()}:function(e){return b(T(e))},_=function(e){return C(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},E=function(){var e=o.Base64;return o.Base64=n,e};if(o.Base64={VERSION:i,atob:T,btoa:f,fromBase64:_,toBase64:m,utob:h,encode:m,encodeURI:v,btou:b,decode:_,noConflict:E},"function"==typeof Object.defineProperty){var x=function(e){return{value:e,enumerable:!1,
writable:!0,configurable:!0}};o.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",x(function(){return _(this)})),Object.defineProperty(String.prototype,"toBase64",x(function(e){return m(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",x(function(){return m(this,!0)}))}}o.Meteor&&(Base64=o.Base64)}(this)},{5:5}],10:[function(e,t,o){e(11),t.exports="lyPagination"},{11:11}],11:[function(e,t,o){!function(e,t){"use strict";function o(e,t){if(!e||e.length<=0)return!1;for(var o=0,r=e.length;r>o;o++){var n=e[o];if(n==t)return!0}return!1}var r=t.module("lyPagination",[]),n='<ul class="pagination ly-pagination"><li><a href="" ng-click="goto(1)"><span aria-hidden="true" ng-bind-html="trustHtml(firstTextFinal)"></span></a></li><li><a href="" aria-label="Previous" ng-click="prev()"><span aria-hidden="true" ng-bind-html="trustHtml(prevTextFinal)"></span></a></li><li ng-show="inTheEnd"><a href="" ng-click="goto(1)">1</a></li><li ng-show="inTheEnd && !hidePageTwo"><a href="" ng-click="goto(2)">2</a></li><li ng-show="inTheEnd"><a href="">...</a></li><li ng-class="{active: currentPage === p}" ng-repeat="p in pages"><a href="" ng-click="goto(p)">{{ p }}</a></li><li ng-show="outOfRange"><a href="">...</a></li><li ng-show="outOfRange"><a href="" ng-click="goto(totalPages)">{{ totalPages }}</a></li><li><a href="" aria-label="Next" ng-click="next()"><span aria-hidden="true" ng-bind-html="trustHtml(nextTextFinal)"></span></a></li><li><a href="" ng-click="goto(totalPages)"><span aria-hidden="true" ng-bind-html="trustHtml(lastTextFinal)"></span></a></li></ul>';r.provider("lyPaginationConfig",function(){this.buttonTexts={prevText:"&lt;",nextText:"&gt;",firstText:"&laquo;",lastText:"&raquo;"},this.setCustomButtonText=function(e){for(var t in e)e.hasOwnProperty(t)&&e[t]&&(this.buttonTexts[t]=e[t])},this.$get=function(){return this}}),r.directive("lyPagination",function(){return{restrict:"EA",scope:{totalRecords:"=",pageSize:"=",pageDisplayNumber:"=",autoReset:"=",prevText:"@",nextText:"@",firstText:"@",lastText:"@",name:"@",hideFirst:"="},replace:!0,template:n,controller:["$scope","$sce","lyPaginationConfig",function(e,t,r){function n(t,o){var r=o||(e.pageSize?e.pageSize:10);e.totalPages=Math.ceil(e.totalRecords/r),e.currentPage=1,i(t)}function i(t){t=!!t,t||e.$emit(u,e.currentPage);var r=e.pages,n=e.currentPage;if(!(!t&&r.length>0&&o(r,n)&&r[0]!=n&&r[r.length-1]!=n)){e.pages=[];for(var i=e.totalPages,s=Math.ceil(a/2),l=n>=s?s:a,c=-1*(s-1);l>c;c++){var d=n+c;if(!(0>=d)){if(d>i||e.pages.length>=a)break;e.pages.push(d)}}e.outOfRange=!(!(e.pages[e.pages.length-1]<e.totalPages)&&o(e.pages,e.totalPages));var h=e.pages;if(h.length<a)for(var p=a-h.length,f=0;p>f;f++)h[0]>1&&h.unshift(h[0]-1);!e.hideFirst&&n>3&&e.totalPages>a&&h[0]>=2?(e.inTheEnd=!0,e.hidePageTwo=2===h[0]):e.inTheEnd=!1}}var a=e.pageDisplayNumber?e.pageDisplayNumber:5,s=e.name||"",l=r.buttonTexts;e.prevTextFinal=e.prevText||l.prevText,e.nextTextFinal=e.nextText||l.nextText,e.firstTextFinal=e.firstText||l.firstText,e.lastTextFinal=e.lastText||l.lastText,e.pages=[],e.trustHtml=function(e){return t.trustAsHtml(e)},e.prev=function(){e.currentPage-1<1||(e.currentPage--,i())},e.next=function(){e.currentPage+1>e.totalPages||(e.currentPage++,i())},e["goto"]=function(t){t!==e.currentPage&&(e.currentPage=t,i())};var c=s?s+"_":"",d=c+"resetPagination",u=c+"pageChange";e.$on(d,function(t,o,r){e.totalRecords=o,r=r||t.targetScope.pageSize,n(!0,r)}),e.autoReset&&n()}]}})}(window,window.angular)},{}],12:[function(e,t,o){e(2),e(13),t.exports="lyTable"},{13:13,2:2}],13:[function(e,t,o){!function(e,t){"use strict";var o=t.module("lyTable",["ngSanitize"]),r='<div class="ly-table-wrapper"><table class="table {{tableClass}}"><thead><tr><th ng-class="column.headCssClass" ng-repeat="column in columns"><span ng-class="{\'active\':column.sortActive,\'sortable\':column.sortable}"ng-click="sort(column)"><span ng-bind-html="columnName(column)"></span></span></th></tr></thead><tbody><tr ng-repeat="item in data track by $index" ng-init="rowIndex = $index"><td ng-class="column.cssClass" ng-repeat="column in columns" ng-init="columnIndex = $index"ng-bind-html="displayContent(column.formatter, item[column.field], item, column)"></td></tr></tbody></table></div>';o.directive("lyTable",["$sce",function(e){return{restrict:"EA",scope:{columns:"=",data:"=",tableClass:"@",autoEscape:"@"},replace:!0,template:r,controller:["$scope",function(o){o.columnName=function(t){return e.trustAsHtml(t.name)},o.displayContent=function(t,o,r,n){var i="";return"function"==typeof t?i=t.call(r,o,n):i+=String(t),e.trustAsHtml(i.toString())},o.normalizeSortField=function(){for(var e in o.columns)if(o.columns.hasOwnProperty(e)){var t=o.columns[e];t.sortBy||(t.sortBy=t.field)}},o.sort=function(e){e.sortable&&(e.sortDir=e.hasOwnProperty("sortDir")?!e.sortDir:1,t.forEach(o.columns,function(t){t.sortActive=t.sortBy==e.sortBy}),o.$emit("sorting",e))}}],link:function(e,t,o){e.normalizeSortField(),e.$emit("postLinked",t)}}}])}(window,window.angular)},{}],14:[function(e,t,o){t.exports={LOGIN:"/api-proxy/v4/user/login.do",REGISTER:"/api-proxy/v4/user/register.do",LOGOUT:"/api-proxy/v4/user/logout.do",RESET_PASSWORD:"/api-proxy/v4/user/resetPassword.do",VERIFY_CODE:"/api-proxy/v4/verifyCode/get.do",SEND_PHONE_CODE:"/api-proxy/v4/user/getTelCode.do",MY_BASIC_INCOME:"/api-proxy/v4/myAccount/myBasicIncome.do",MY_INCOME:"/api-proxy/v4/myAccount/myIncome.do",INDEX_BANNER:"/api-proxy/v4/index/banner.do",INDEX_NEW_NOTICE:"/api-proxy/v4/index/newnNotice.do",INDEX_SEM_BANNER:"/api-proxy/v4/sem/banner.do",INDEX_STATISTICS:"/api-proxy/v4/index/statistics.do",INDEX_NOTICE_LIST:"/api-proxy/v4/index/noticeList.do",INDEX_REPORTS:"/api-proxy/v4/index/reports.do",INDEX_NOTICE_CONTENT:"/api-proxy/v4/notice/content.do",INDEX_PARTNER_LIST:"/api-proxy/v4/index/partnerList.do",INDEX_PINMONEY:"/api-proxy/v4/index/pm.do",INDEX_NEWS_LOAN:"/api-proxy/v4/index/newsLoan.do",INDEX_NEWS_LOAN_ADD:"/api-proxy/v4/newsLoan/product.do",INDEX_NEWHAND_ZONE_INFO:"/api-proxy/v4/loan/getNewbieZoneInfo.do",INDEX_TENDER_LIST:"/api-proxy/v4/index/tenderList.do",LOAN_CHANGE_LOG_LIST:"/api-proxy/v4/myAccount/loanChangeLogList.do",QUERY_LOAN_APPLICATION:"/api-proxy/v4/myAccount/queryLoanApplication.do",MONEY_CHANGE_LOG_LIST:"/api-proxy/v4/myAccount/moneyChangeLogList.do",BORROW_APPLY:"/api-proxy/v4/loan/acquireApply.do",USER_INFO:"/api-proxy/v4/user/basicUserInfo.do",MY_ACCOUNT_BASE:"/api-proxy/v4/myAccount/base.do",LOAN_LIST:"/api-proxy/v4/loan/list.do",CLAIMS_LIST:"/api-proxy/v4/claims/claimsList.do",LOAN_INFOR:"/api-proxy/v4/loan/detail.do",CLAIMS_INFOR:"/api-proxy/v4/claims/claimsInfoView.do",PROJECT_INFOR:"/api-proxy/v4/loan/projectInfo.do",PROJECT_INFOR_NEW:"/api-proxy/v4/product/projectInfo.do",AUTHENTIC_INFOR:"/api-proxy/v4/loan/authenticationInfo.do",RELATED_DOCUMENTS:"/api-proxy/v4/loan/relateDocuments.do",INVESTMNET_RECORDS:"/api-proxy/v4/loan/investmentRecord.do",INVESTMNET_RECORDS_PAGING:"/api-proxy/v4/loan/investmentRecordPage.do",LOAN_REPAY_PLAN:"/api-proxy/v4/loan/repayPlan.do",PINMONEY_INFOR:"/api-proxy/v4/index/pinMoneyViewUrl.do",PM_COUPONS_CASH:"/api-proxy/v4/pinmoney/CouponsCash.do",CLAIMS_PLAN_LIST:"/api-proxy/v4/claims/planList.do",RECHARGE_BANK_LIST:"/api-proxy/v4/userAccount/rechargeBindingBankList.do",BANK_LIST:"/api-proxy/v4/userAccount/chinapnrBankList.do",RECHARGE:"/api-proxy/v4/userAccount/recharge.do",WEEK_SORT:"/api-proxy/v4/index/financialRanking.do",INVEST_SORT:"/api-proxy/v4/index/tenderAllRanking.do",HELP_PROBLEM_LIST:"/api-proxy/v4/setting/helpList.do",HELP_PROBLE_LIST2:"/api-proxy/v4/setting/helpList2.do",COUPON_LIST:"/api-proxy/v4/myAccount/couponList.do",COUPON_BASIC_INFO:"/api-proxy/v4/myAccount/couponBasicInfo.do",COUPON_EXCHANGE:"/api-proxy/v4/myAccount/couponExchange.do",FUND_LOANING_PAGE:"/api-proxy/v4/myAccount/fundLoaningPage.do",FUND_UNREDEEMED:"/api-proxy/v4/myAccount/fundUnredeemed.do",FUND_FINISH_PAGE:"/api-proxy/v4/myAccount/fundFinishPage.do",FUND_BASIC_PAGE:"/api-proxy/v4/myAccount/fundBasicPage.do",SEND_EMAIL_AUTH_CODE:"/api-proxy/v4/user/sendEmailAuthCode.do",SEND_TEL_AUTH_CODE:"/api-proxy/v4/user/sendTelAuthCode.do",TEL_AUTH:"/api-proxy/v4/user/telAuth.do",MODIFY_PASSWORD:"/api-proxy/v4/user/modifyPassword.do",MY_MESSAGE:"/api-proxy/v4/myMessage/list.do",QUERY_TYPE:"/api-proxy/v4/myMessage/queryType.do",READ:"/api-proxy/v4/myMessage/read.do",MY_LOAN_LIST:"/api-proxy/v4/myAccount/loanList.do",MY_LOAN_BASIC:"/api-proxy/v4/myAccount/myLoanBasic.do",CLAIM_LIST:"/api-proxy/v4/claim/claimList.do",TEL_VERIFICATION:"/api-proxy/v4/user/telVerification.do",ACCOUNT_VERIFICATION:"/api-proxy/v4/user/accountVerification.do",MY_LOAN_BASIC_INFO:"/api-proxy/v4/myAccount/myLoanBasicInfor.do",MY_LOAN:"/api-proxy/v4/myAccount/myLoan.do",PAID_OFF_DEBT:"/api-proxy/v4/myAccount/paidOffDebt.do",MY_LOAN_REPAY_PLAN_LIST:"/api-proxy/v4/myAccount/myLoanRepayPlanList.do",BOOK_PREPARE:"/api-proxy/v4/loan/bookPrepare.do",BOOK:"/api-proxy/v4/loan/book.do",BASIC_INFORMATION:"/api-proxy/v4/user/basicInformation.do",INDEX_INFORMATION:"/api-proxy/v4/index/information.do",RECOMMEND_LOAN:"/api-proxy/v4/loan/recommendTenderList.do",TENDER_PREPARE:"/api-proxy/v4/loan/tenderPrepare.do",LOAN_CONTRACT:"/api-proxy/v4/myAccount/loan/contract.do",LOAN_COUPON:"/api-proxy/v4/loan/couponList.do",LOAN_TO_BUY:"/api-proxy/v4/loan/initiativeTender.do",LOAN_DETAIL_CONTRACT:"/api-proxy/v4/myAccount/tenderContract.do",CALCULATE_INCOME:"/api-proxy/v4/common/calculateIncome.do",CALCULATE_INCOME_NEW:"/api-proxy/v4/common/incomeCalculate.do",AUTO_TENDER_PREPARE:"/api-proxy/v4/loan/autoTenderPrepare.do",AUTO_TENDER:"/api-proxy/v4/loan/autoTender.do",CASH_BINDING_BANK_LIST:"/api-proxy/v4/userAccount/cashBindingBankList.do",WITHDRAW:"/api-proxy/v4/userAccount/withdraw.do",CALC_DRAWCASH_FEE:"/api-proxy/v4/userAccount/calWithdrawFee.do",CLAIM_PREPARE:"/api-proxy/v4/claims/tenderReady.do",CLAIM_TO_BUY:"/api-proxy/v4/claim/transfer.do",PINMONEY_TO_BUY:"/api-proxy/v4/userAccount/recharge.do",CHINAPNR_REGISTER:"/api-proxy/v4/userAccount/chinapnrRegister.do",CHINAPNR_CORP_REGISTER:"/api-proxy/v4/userAccount/chinapnrCorpRegister.do",IS_CHINAPNR_VALIDATE:"/api-proxy/v4/user/isChinapnrValidate.do",BANK_CARD_LIST:"/api-proxy/v4/myAccount/bankcardList.do",BANK_UNBINDING:"/api-proxy/v4/userAccount/bankUnbinding.do",USER_BIND_CARD:"/api-proxy/v4/userAccount/userBindCard.do",REPAY_PLAN_MONTH_DETAIL_LIST:"/api-proxy/v4/myAccount/repayPlanMonthDetailList.do",MONTH_OF_PLAN_DETAIL:"/api-proxy/v4/myAccount/monthOfPlanDetail.do",DIRECTIONAL_TRANSFER_PRE:"/api-proxy/v4/loan/directionalTransferPre.do",DIRECTIONAL_TRANSFER:"/api-proxy/v4/loan/directionalTransfer.do",TENDER_CONTRACT:"/api-proxy/v4/myAccount/tenderContract.do",FUND_CONTRACT:"/api-proxy/v4/myAccount/fundContract.do",CLIAMS_BASIC_INFO:"/api-proxy/v4/claim/cliamsBasicInfor.do",TRANSFER_PREPARE1:"/api-proxy/v4/claim/transferPrepare1.do",TRANSFER_PREPARE2:"/api-proxy/v4/claim/transferPrepare2.do",POST_TEL_CODE:"/api-proxy/v4/user/postTelCode.do",MY_NEW_MESSAGE:"/api-proxy/v4/myMessage/newMessage.do",RENCOMMEND_FRIENDS:"/api-proxy/v4/index/recommendPrepare.do",RECOMMEND_2CODE:"/api-proxy/v4/recommend/qrcode.do",CLAIMS_BUY_DETAIL:"/api-proxy/v4/myAccount/claimsBuyDetail.do",WHETHER_HOLIDAYS:"/api-proxy/v4/userAccount/whetherHolidays.do",CHINAPNR_LOGIN:"/api-proxy/v4/loan/chinapnrLogin.do",CASH_COUPON_EXCHANGE:"/api-proxy/v4/myAccount/cashCouponExchange.do",XXN_REPORTS:"/api-proxy/v4/xxnReports.do",RECOMMEND_MESSAGE:"/api-proxy/v4/user/inviteMessages.do",GUARANTEE_STATISTICS:"/api-proxy/v4/myAccount/guaranteeStatistics.do",PAY_STATISTICS:"/api-proxy/v4/myAccount/payStatistics.do",NOTICE_SIZE_PAGE:"/api-proxy/v4/myMessage/noticeSizePage.do",SEM_PREFERRED_PRODUCT:"/api-proxy/v4/loan/preferredProduct.do",VIP_RANK:"/api-proxy/v4/vip/rank.do",VIP_RULES:"/api-proxy/v4/vip/rules.do",VIP_BANNER:"/api-proxy/v4/vip/banner.do",VIP_GET_COUPONS:"/api-proxy/v4/vip/receiveCoupons.do",VIP_DIALOG:"/api-proxy/v4/vip/dialog.do",VIP_GROWTH:"/api-proxy/v4/vip/growth.do",VIP_PRIVILEGE_RULES:"/api-proxy/v4/vip/allRules.do",MY_INCOME_EXPORT:"/api-proxy/v4/myAccount/myIncomeExport.do",EXPORT_MONEY_CHANGE_LOG_LIST:"/api-proxy/v4/myAccount/exportMoneyChangeLogList.do",MORE_ACTIVE:"/api-proxy/v4/pictureConnection.do",GET_CORP_ACCOUNT_INFO:"/api-proxy/v4/user/getCorpAccountInfo.do",SYNCH_CALLBACK_URL:"/api-proxy/v4/chinapnr/synchCallbackUrl.do",VIP_CASH_INFO:"/api-proxy/v4/userAccount/vipCashInfo.do",REDEEM_PREPARE:"/api-proxy/v4/fund/redeemPrepare.do",REDEEM:"/api-proxy/v4/fund/redeem.do",EMAIL_AUTH:"/api-proxy/v4/user/emailAuth.do",VIP_LOAN:"/api-proxy/v4/loan/vipLoan.do",TENDER_CALL_BACK:"/api-proxy/v4/user/tenderCallBack.do",USER_TENDER_RANKING:"/api-proxy/v4/loan/userTenderRanking.do",REPAYMENT_APPLY_LIST:"/api-proxy/v4/repayment/applyList.do",REPAYMENT_APPLY:"/api-proxy/v4/repayment/apply.do",AUCTION_LOAN_LIST:"/api-proxy/v4/sem/loanList.do",AUCTION_FAQ_LIST:"/api-proxy/v4/sem/faqList.do",AUCTION_VERIFY_CODE:"/api-proxy/v4/sem/loan/verifyCode/get.do",AUCTION_TEL_CODE:"/api-proxy/v4/sem/loan/sendTelCode.do",AUCTION_USER_APPLY:"/api-proxy/v4/sem/userApply.do",SEND_EMAIL:"/api-proxy/v4/activity/sendEmail.do",EXPORT_LOAN_CHANGE_LOG_LIST:"/api-proxy/v4/myAccount/exportLoanChangeLogList.do",SEM_PRODUCT:"/api-proxy/v4/loan/preferredSemProduct.do",SEM01_PRODUCT:"/api-proxy/v4/loan/preferredSem01Product.do",HELP_LEFT_NAV:"/api-proxy/v4/setting/helpIndex.do",HELP_ASK:"/api-proxy/v4/setting/helpIndexSubList.do",HELP_ADVISE:"/api-proxy/v4/setting/advise.do",DOUBLE_ELEVEN_LOTTERY:"/api-proxy/v4/userAccount/lottery/drawPrize.do",INIT_LOTTERY_INFO:"/api-proxy/v4/userAccount/lottery/userLotteryInfo.do",LOTTRY_RECORDS:"/api-proxy/v4/userAccount/lottery/prizeLog.do",PRIZE_EXCHANGE:"/api-proxy/v4/userAccount/lottery/prizeExchange.do",EXCHANGE_PRIZE_LIST:"/api-proxy/v4/userAccount/lottery/exchangePrizeList.do",LOTTERY_URER_INFO:"/api-proxy/v4/user/basicUserInfo.do",LOTTERY_USER_RECORDS:"/api-proxy/v4/userAccount/lottery/userPrizeLog.do",LOGIN_BANNER:"/api-proxy/v4/login/banner.do",REGISTER_BANNER:"/api-proxy/v4/registe/banner.do",INVEST_BANNER:"/api-proxy/v4/invest/afterBanner.do",BUY_LOAN_INFO:"/api-proxy/v4/loan/buyLoanInfo.do",LOTTERY_CHECK_DOMAIN:"/api-proxy/v4/lottery/checkDomainWords.do",LOTTERY_COLLECT_DOMAIN_USERS:"/api-proxy/v4/lottery/countDecActivtyUsers.do",VIP_ACCOUNT_INFO:"/api-proxy/v4/myAccount/vip/monthBillInfo.do",VIP_ACCOUNT_BANNER:"/api-proxy/v4/myAccount/vip/monthBillBanner.do",NEW_HAND_GUIDE:"/api-proxy/v4/info/noviceGuide.do",AUCTION_LOAN_DOWNLOAD:"/api-proxy/v4/sem/fileDownload.do",SURVEY_VIEW:"/api-proxy/v4/survey/userSurveyView.do",SURVEY_QUESTIONS:"/api-proxy/v4/survey/surveyQuestionInfo.do",SURVEY_GET_ANSWER:"/api-proxy/v4/survey/getQuestionAnswers.do",SURVEY_SAVE_ANSWER:"/api-proxy/v4/survey/saveAllSurveyAnswers.do",INTEGRAL_USER_ACCOUNT:"/api-proxy/v4/integral/getUserAccount.do",INTEGRAL_CHANGE_RECORD_LIST:"/api-proxy/v4/integral/getChangeRecordList.do",INTEGRAL_USER_LIMIT_TASKS:"/api-proxy/v4/integral/userLimitTasks.do",INTEGRATOR:"/api-proxy/v4/integral/userTasks.do",INTEGRAL_IS_SIGN_TODAY:"/api-proxy/v4/integral/isSignToday.do",INTEGRAL_USER_SIGN:"/api-proxy/v4/integral/userSign.do",INTEGRAL_TASK_INTEGRAL:"/api-proxy/v4/integral/taskIntegral.do",INTEGRAL_LOTTERY_CONFIG:"/api-proxy/v4/lottery/getMarketConfig.do",INTEGRAL_LOTTERY_RECORDS:"/api-proxy/v4/lottery/getLotteryRecord.do",INTEGRAL_USER_LOTTERY_RECORDS:"/api-proxy/v4/lottery/getUserLotteryRecord.do",INTEGRAL_REWARDS_LIST:"/api-proxy/v4/lottery/getLotteryPrizes.do",INTEGRAL_LOTTERY:"/api-proxy/v4/lottery/integralLottery.do",INTERGAL_ACCOUNT:"/api-proxy/v4/integral/getUserAccount.do",INTEL_LOAN_DETAIL:"/api-proxy/v4/reserve/loanDetail.do",INTEL_LOAN_PREPARE:"/api-proxy/v4/reserve/loanPerpare.do",INTEL_LOAN_ALL_TENDER_RECORD:"/api-proxy/v4/reserve/getAllReserveLoanTenderInfo.do",INTEL_LOAN_ALL_TENDER_RECORD_PAGE:"/api-proxy/v4/reserve/getAllReserveLoanTenderInfoPage.do",INTEL_LOAN_TENDER_INFO:"/api-proxy/v4/reserve/getReserveLoanTenderInfo.do",INTEL_LOAN_COUPONS:"/api-proxy/v4/reserve/getMyNotIncreaseRateCoupons.do",INTEL_NEW_LOAN_CONFIRM:"/api-proxy/v4/reserve/newLoanConfirm.do",MY_RESERVE_LOAN_TENDER_INFO:"/api-proxy/v4/reserve/getMyReserveLoanTenderInfo.do",RESERVE_TEND_MATCH_INFO:"/api-proxy/v4/reserve/getReserveTendMatchInfo.do",RESERVE_LOAN_TENDER_INFO:"/api-proxy/v4/reserve/getReserveLoanTenderInfo.do",RESERVE_LOAN:"/api-proxy/v4/reserve/loanList.do",RESERVE_COLLECTION:"/api-proxy/v4/collection/childLoanList.do",RESERVE_SEND_TEL_CODE:"/api-proxy/v4/sms/sendTelCodeByLogin.do",RESERVE_SUBMIT:"/api-proxy/v4/reserve/submitReserve.do",SYNCH_ZHITOU_CALLBACK_URL:"/api-proxy/v4/chinapnr/synchZhitouCallbackUrl.do",INTERGAL_LOTTERY_CODE:"/api-proxy/v4/lottery/getLotteryCode.do",YEAR_END_GET_COUPONS:"/api-proxy/v4/yearAwardCoupons/getCoupons.do",YEAR_END_GET_FLAG:"/api-proxy/v4/yearAwardCoupons/getFlag.do",YEAR_END_GET_VERIFYCODE:"/api-proxy/v4/yearAwardCoupons/getVerifyCode.do",YEAR_END_VERIFY_CODE:"/api-proxy/v4/yearAwardCoupons/verifyImageCode.do",NEW_ACTIVITY:"/api-proxy/v4/index/newActivities.do",PREORDER_LOANS_RECORDS:"/api-proxy/v4/loan/vipTenderList.do",PREORDER_LOANS_HISTORY_LIST:"/api-proxy/v4/loan/allVipLoan.do",PREORDER_LOANS_TENDER_MONEY:"/api-proxy/v4/loan/vipTenderMoney.do",VERIFY_TEL_CODE:"/api-proxy/v4/user/verifyTelCode.do",GET_PUBLIC_VERIFY_CODE:"/api-proxy/v4/sms/sendPublicTelCode.do",GET_PRIVATE_VERIFY_CODE:"/api-proxy/v4/sms/sendPrivateTelCode.do",GET_SIMPLE_PRIVATE_VERIFY_CODE:"/api-proxy/v4/sms/sendPrivateSimpleTelCode.do",INTEGRAL_MALL_EXCHANGE_PRIZE_LIST:"/api-proxy/v4/exchange/exchangePrizeList.do",INTEGRAL_MALL_EXCHANGE_PRIZE_DETAIL:"/api-proxy/v4/exchange/exchangePrizeDetail.do",INTEGRAL_MALL_MEMBER_ADDRESS_LIST:"/api-proxy/v4/memberAddress/memberAddressList.do",INTEGRAL_MALL_EXCHANGE:"/api-proxy/v4/exchange/exchange.do",INTEGRAL_MALL_ADD_MEMBER_ARDESS:"/api-proxy/v4/memberAddress/addMemberArdess.do",INTEGRAL_MALL_UPDATE_MEMBER_ARDESS:"/api-proxy/v4/memberAddress/updateMemberArdess.do",INTEGRAL_MALL_DEL_MEMBER_ARDESS:"/api-proxy/v4/memberAddress/delMemberArdess.do",INTEGRAL_MALL_PROVICE_LIST:"/api-proxy/v4/memberAddress/proviceList.do",INTEGRAL_MALL_CITY_LIST:"/api-proxy/v4/memberAddress/cityList.do",INTEGRAL_MALL_AREA_LIST:"/api-proxy/v4/memberAddress/areaList.do",APP_VERSION:"/api-proxy/v4/common/appVersion.do",USER_REPAY_PLAN_LIST:"/api-proxy/v4/myAccount/userRepayPlanList.do",PUBLIC_DAY_GET_ACTIVITY:"/api-proxy/v4/openday/getActivity.do",PUBLIC_DAY_GET_PROCESSES:"/api-proxy/v4/openday/getProcesses.do",PUBLIC_DAY_GET_AWARDS:"/api-proxy/v4/openday/getAwards.do",PUBLIC_DAY_GET_PRESENTER:"/api-proxy/v4/openday/getPresenter.do",PUBLIC_DAY_GET_FEEDBACK:"/api-proxy/v4/openday/getFeedback.do",PUBLIC_DAY_GET_REVIEW_ACTIVITIES:"/api-proxy/v4/openday/getReviewActivities.do",PUBLIC_DAY_APPLY_ACTIVITY:"/api-proxy/v4/openday/applyActivity.do",PUBLIC_DAY_SHARE_COUPON:"/api-proxy/v4/openday/shareCoupon.do",RECOMMEND_REWARD:"/api-proxy/v4/recommend/account/recommendCouponsPage.do",RECOMMEND_COUPONS:"/api-proxy/v4/recommend/account/recommendCouponsCount.do",RECOMMEND_ACTIVE:"/api-proxy/v4/activity/recommendFriendsUrl.do",IMAGE_QRCODE:"/api-proxy/v4/image/qrcode.do",EXCHANGE_PRIZE_LIST_ACTIVITY:"/api-proxy/v4/exchange/exchangePrizeListActivity.do",EXCHANGE_RECORD_LIST_ACTIVITY:"/api-proxy/v4/exchange/exchangeRecordListActivity.do",EXCHANGE_PRIZE_LIST_SECKILL:"/api-proxy/v4/exchange/exchangePrizeListSeckill.do",AUTO_CHECK_COUPONS:"/api-proxy/v4/user/autoCheckCoupons.do",INDEX_MEDIA_REPORT:"/api-proxy/v4/index/mediaReport.do",MEDIA_LABEL_REPORT:"/api-proxy/v4/midea/labelMediaReport.do",GET_SUM_INTEGRAL:"/api-proxy/v4/integral/getSumIntegral.do",GET_LABORDAY_COUPONS:"/api-proxy/v4/activity/getLaborDayCoupons2017.do",RECOMMEND_GET_REAL_NAME:"/api-proxy/v4/recommend/user/getRealName.do",CLAIMS_TENDER_LIST_PAGE:"/api-proxy/v4/claims/tenderListPage.do",GET_2017_LOAN_LIST:"/api-proxy/v4/activity/getgetActivityRaiseLoanInfo2017.do",LOAN_RESERVE_RECORD:"/api-proxy/v4/loan/loanReserveRecord.do",GET_MID_YEAR_BONUS:"/api-proxy/v4/midYearCoupons/getCoupons.do",IS_GET_MID_YEAR_BONUS:"/api-proxy/v4/midYearCoupons/getFlag.do",COMPLIANCE_LIST:"/api-proxy/v4/asset/list.do",COMPLIANCE_SYS_SWITCH:"/api-proxy/v4/sys/switch.do",COMPLIANCE_DISCLOSE:"/api-proxy/v4/index/discl.do",GET_AUG_COUPONS_STATUS:"/api-proxy/v4/activity/getCouponsAmount.do",GET_AUG_CHARGE_COUPONS:"/api-proxy/v4/activity/getRechargeCoupons.do",GET_AUG_CHARGE_INVEST:"/api-proxy/v4/activity/getTenderCoupons.do",INTEGRAL_MALL_ACTIVE_TIMES:"/api-proxy/v4/exchange/activeTimes.do",INTEGRAL_MALL_ACTIVE_EXCHANGE_LIST:"/api-proxy/v4/exchange/activeExchangePrizeList.do",INTEGRAL_MALL_SPIKE_EXCHANGE:"/api-proxy/v4/exchange/spikeExchange.do",INTEGRAL_MALL_SPIKE_ACTIVE_INFO:"/api-proxy/v4/exchange/spikeExchangePrizeDetail.do",CHECK_NEED_VERIFY_CODE:"/api-proxy/v4/user/checkNeedGraphicalVerifyCode.do",SMART_LOAN_PAY_METHOD:"/api-proxy/v4/reserve/repaymentInfo.do",SEARCH_SEP_COUPONS_STATUS:"/api-proxy/v4/activity/getSeptemberActivityCouponsStatus.do",GET_SEP_COUPONS:"/api-proxy/v4/activity/getSeptemberActivityCoupons.do",GET_MID_AUTUMN_COUPONS:"/api-proxy/v4/activity/midAutumnActivity.do",COUPONS_TENDER_LIST:"/api-proxy/v4/loan/counponsTenderList.do",QUERY_OCT_COUPONS_STATUS:"/api-proxy/v4/activity/getOctoberActivityCouponsStatus.do",GET_OCT_COUPONS:"/api-proxy/v4/activity/getOctoberActivityCoupons.do",SHB_ONE_LEVEL_CAPITAL:"/api-proxy/v4/shb/oneLevelCapital.do",SHB_TWO_LEVEL_CAPITAL:"/api-proxy/v4/shb/twoLevelCapital.do",SHB_SEND_SMS_CODE:"/api-proxy/v4/shb/sendSmsCode.do",SHB_USER_REGISTER:"/api-proxy/v4/shb/userRegister.do",SHB_USER_INFO:"/api-proxy/v4/shb/userRegisterPre.do",SHB_USER_MESSAGE:"/api-proxy/v4/shb/userShbMessage.do",SHB_SEND_SMS_CODE_OLD_CARD:"/api-proxy/v4/account/shb/sendOldBindCardSms.do",SHB_SEND_SMS_CODE_NEW_CARD:"/api-proxy/v4/account/shb/sendNewBindCardSms.do",SHB_CHANGE_CARD:"/api-proxy/v4/account/shb/quickBinding.do",SHB_BIND_CARD_PRE:"/api-proxy/v4/account/shb/preQuickBinding.do",SHB_ACTIVE_USER:"/api-proxy/v4/shb/bosAcctActivate.do",HS_RECHARGE:"/api-proxy/v4/account/huis/recharge.do",SHB_CHECK_USER_BANK_CARD:"/api-proxy/v4/account/shb/checkUserExistCommonBankCard.do",HS_CORP_REGISTER:"/api-proxy/v4/shb/corpRegister.do",SHB_WITHDRAW:"/api-proxy/v4/account/shb/cash.do",SHB_RECHARGE:"/api-proxy/v4/account/shb/recharge.do",SHB_GET_USER_CASH_FEE_INFO:"/api-proxy/v4/account/shb/getUserCashFeeInfo.do",SHB_USER_REGISTER_PRE:"/api-proxy/v4/shb/userRegisterPre.do",SHB_SEND_RECHARGE_SMS:"/api-proxy/v4/account/shb/sendRechargeSms.do",SHB_AUTO_TENDER:"/api-proxy/v4/shb/autoTenderPlan.do",SHB_SYNCH_CALLBACK_URL:"/api-proxy/v4/chinapnr/shbSynchCallbackUrl.do",SHB_LOAN_TO_BUY:"/api-proxy/v4/shb/loan/initiativeTender.do",SHB_CLAIM_TO_BUY:"/api-proxy/v4/shb/claim/transfer.do",SHB_INTEL_NEW_LOAN_CONFIRM:"/api-proxy/v4/shb/reserve/newLoanConfirm.do",SHB_SYNCH_ZHITOU_CALLBACK_URL:"/api-proxy/v4/chinapnr/shbSynchZhitouCallbackUrl.do",DB_CITY_LIST:"/api-proxy-2/pc/base/getCityList.do",DB_DICT_LIST:"/api-proxy-2/pc/base/dictList.do",DB_FAST_APPLY_BORROW:"/api-proxy-2/pc/apply/fastApply.do",DB_COMPANY_APPLY_BORROW:"/api-proxy-2/pc/apply/qyjyApply.do",DB_INDIVIDUAL_APPLY_BORROW:"/api-proxy-2/pc/apply/grxfApply.do",DB_HOUSE_APPLY_BORROW:"/api-proxy-2/pc/apply/fwmmApply.do",DB_LIMIT_FORECAST:"/api-proxy-2/pc/apply/limitForecast.do",DB_LOAN_APPLY_QUERY:"/api-proxy-2/pc/apply/loanApplyQuery.do"}},{}],15:[function(e,t,o){window.$=window.jQuery=e("jquery"),e("bootstrap"),e(3),e(4),String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"gm"),t)};var r=e("angular");e("angular-cookies"),e(2);var n=e(9).Base64,i=r.module("myApp",["ngCookies",e(12),e(10),e(52),e(51),e(53)]);i.controller("Base",["$scope","$cookies","$sce","utils","request","api",function(e,t,o,r,i,a){e.trustHtml=function(e){return o.trustAsHtml(e)},e.loggedIn=window.loggedIn,e.accessToken=t.token,e.loggedIn&&i.post(a.MY_ACCOUNT_BASE,{}).then(function(t){"000000"===t.code&&(e.accountInfor=t.data,e.$broadcast("pageInit",e.accountInfor))},function(e){}),window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),e.doSHBankRegister=function(){$("#open-account-modal").modal({show:!0,backdrop:"static",keyboard:!1}).show(),$(".modal-backdrop").show()},e.activeSHPwd=function(){e.urlParams=r.getUrlParams();var t,o;if(-1!=window.location.href.indexOf("/intel-loan-detail")){var s=e.urlParams.tenderId;t=JSON.stringify({pageType:2,tenderId:s})}else if(-1!=window.location.href.indexOf("/investment-detail")){e.urlParams=r.getUrlParams();var l=e.urlParams.type,s=e.urlParams.tenderId;t=JSON.stringify({pageType:1,tenderId:s,loanType:l})}else sessionStorage.setItem("activeBackUrl",encodeURIComponent(window.location.href)),t=JSON.stringify({setStorage:!0});o=window.location.origin+"/pc/active-shbank-result/"+n.encode(t);var c={retUrl:o};i.post(a.SHB_ACTIVE_USER,c).then(function(t){"000000"===t.code?location.href=t.data.chinapnrUrl:($("#errorModal").modal("show"),e.errorMsg=t.msg)},function(t){$("#errorModal").modal("show"),e.errorMsg="服务器忙,请稍后再试"})},e.bankName={ICBC:"工商银行",ABC:"农业银行",BOC:"中国银行",CCB:"建设银行",BOCOM:"交通银行",CITIC:"中信银行",GDB:"广东发展银行",CMBC:"民生银行",CMB:"招商银行",HXB:"华夏银行",CEB:"光大银行",CIB:"兴业银行",SPDB:"浦东发展银行",PSBC:"中国邮政储蓄银行",BCCB:"北京银行",BOS:"上海银行",PINGAN:"平安银行",CBHB:"渤海银行",NJCB:"南京银行",HZCB:"杭州银行",CZB:"浙商银行",BJRCB:"北京农村商业银行",SRCB:"上海农村商业银行B2C"},e.showLoginForm=function(){$("#login-modal").modal({show:!0,backdrop:"static",keyboard:!1}).show(),$(".modal-backdrop").show(),$("body,html").css({overflow:"hidden","padding-right":0})},$(".gotoregister").click(function(){$("#login-modal").hide(),$("#register-modal").show(),$("body,html").css({overflow:"hidden","padding-right":0})}),$(".gotologin").click(function(){$("#register-modal").hide(),$("#login-modal").show(),$("body,html").css({overflow:"hidden","padding-right":0})}),$(".form-modal .pop-modal-close").click(function(){$(".form-modal").hide(),$(".modal-backdrop").hide(),$("body,html").css({overflow:"auto"})})}]),t.exports=i},{10:10,12:12,2:2,3:3,4:4,51:51,52:52,53:53,9:9,angular:"angular","angular-cookies":"angular-cookies",bootstrap:"bootstrap",jquery:"jquery"}],16:[function(e,t,o){"use strict";var r=e(15);r.controller("ActiveEntranceCtrl",["$scope","api","request","$timeout",function(e,t,o,r){function n(n){e.loading=!0,n&&(e.params.page=1),o.get(t.NEW_ACTIVITY,e.params).then(function(t){"000000"===t.code&&(e.loading=!1,e.activeList=t.data.list,e.data=t.data,n&&e.$broadcast("resetPagination",e.data.totalRecord),0===i&&($(".pagination li").remove("li:first-child"),$(".pagination").find("li").last().remove(),i=1),r(function(){$(".active-list li:nth-child(4n+1)").css("marginLeft","0")},0))},function(e){})}e.params={page:1,rows:8};var i=0;e.$on("pageChange",function(t,o){e.params.page=o,n()}),n(!0)}])},{15:15}],17:[function(e,t,o){"use strict";var r=e(15);r.controller("ActivityFrameCtrl",["$scope","request","api","utils",function(e,t,o,r){e.pageInit=function(){e.loading=!0,e.urlParams=r.getUrlParams();var n={id:e.urlParams.frameId};t.post(o.MORE_ACTIVE,n).then(function(t){if(e.loading=!1,"000000"===t.code){var o=t.data,n=o.content;r.isSecure()&&(o.content=n.replaceAll("http://","https://")),window._appConfig.isCDNMode&&window._appConfig.isProdMode&&(o.content=r.CDN(o.content)),e.activityInfo=o}},function(e){})},e.pageInit()}])},{15:15}],18:[function(e,t,o){"use strict";var r=e(15);r.controller("ActivityOctCtrl",["$scope","request","api","utils",function(e,t,o,r){e.pageInit=function(){e.loading=!0,t.get(o.USER_TENDER_RANKING,{}).then(function(t){e.loading=!1,"000000"===t.code&&(e.list=t.data)},function(e){})},e.pageInit()}])},{15:15}],19:[function(e,t,o){"use strict";var r=e(15);r.controller("ActivityStuCtrl",["$scope","$http","request","api","$timeout",function(e,t,o,r,n){e.showStuInfo=function(e){for(var t=$(".stu-info .carousel-inner"),o="",r=parseInt($(".stu-info"+e).attr("data-count")),n=1;r>=n;n++)o=o+'<div class="row item student'+e+(1==n?" active":"")+'"><img src="/public/img/activity/activity-student-list/students-info/stu'+e+"/img"+n+'.jpg"></div>';$(".stu .item").length>0&&$(".stu .item").hasClass("student"+e)||$(".stu").append(o);var i=$(".stu-info .carousel-inner .item");i.length>0&&i.remove(),t.append($(".stu .item.student"+e).clone()),$(".carousel").carousel()},e.originImg=function(){var e=$(".stu-info .carousel-inner .active img").attr("src");$(".big-picture").attr("href",e)},$(".step1").on("click",function(){$("#activity-start").is(":hidden")&&($(".activity-tabs li.active i").removeClass("active"),$(this).find("i").addClass("active"),$(".tab-pane-activity").hide(),$("#activity-start").fadeIn())}),$(".step2").on("click",function(){$("#activity-collect").is(":hidden")&&($(".activity-tabs li.active i").removeClass("active"),$(this).find("i").addClass("active"),$(".tab-pane-activity").hide(),$("#activity-collect").fadeIn())}),$(".step3").on("click",function(){$("#activity-confirm").is(":hidden")&&($(".activity-tabs li.active i").removeClass("active"),$(this).find("i").addClass("active"),$(".tab-pane-activity").hide(),$("#activity-confirm").fadeIn())}),$(".step4").on("click",function(){$("#activity-grant").is(":hidden")&&($(".activity-tabs li.active i").removeClass("active"),$(this).find("i").addClass("active"),$(".tab-pane-activity").hide(),$("#activity-grant").fadeIn())}),$(".btn-detail .btn-blue").on("click",function(){parseInt($(this).attr("data-count"));$("#activity-confirm").is(":hidden")&&($(".tab-pane-activity").fadeOut(),$("#activity-confirm").fadeIn())})}])},{15:15}],20:[function(e,t,o){"use strict";var r=e(15);r.controller("AugustPromotionsCtrl",["$scope","request","api","$http","$timeout",function(e,t,o,r,n){e.loading=!0,e.showMoreRule=!1,e.loggedIn=window.loggedIn,e.loginLink="/login?from="+encodeURIComponent(window.location.href),e.initPage=function(){e.rechargeBtn=!1,e.rechargeGetCoupBtn=!1,e.notGetCoupBtn=!1,e.tenderGetCoupBtn=!1,e.goTenderBtn=!1,e.noTenderBtn=!1,e.loading=!1,e.loggedIn?t.post(o.GET_AUG_COUPONS_STATUS,{}).then(function(t){"000000"===t.code&&(e.coupons=t.data.datas,0==e.coupons.recharge&&e.coupons.haveRecharged<100?e.rechargeBtn=!0:e.coupons.recharge>0?e.rechargeGetCoupBtn=!0:e.coupons.haveRecharged>=100&&(e.notGetCoupBtn=!0),e.coupons.tender>0?e.tenderGetCoupBtn=!0:0==e.coupons.tender&&0==e.coupons.haveTended?e.goTenderBtn=!0:0==e.coupons.tender&&e.coupons.haveTended>0&&(e.noTenderBtn=!0))},function(t){e.showMsg("服务器忙,请稍后再试")}):(e.goTenderBtn=!0,e.rechargeBtn=!0)},e.initPage(),e.getChargeCoupons=function(){return e.loggedIn?void t.post(o.GET_AUG_CHARGE_COUPONS,{}).then(function(t){"000000"===t.code&&("0"==t.data.result?($(".result-activity-modal").modal("show"),e.initPage()):i("确定",t.data.msg,"",""))},function(t){e.showMsg("服务器忙,请稍后再试")}):(i("立即登录","您还未登录，请先登录！","",e.loginLink),!1)},e.getInvestCoupons=function(){return e.loggedIn?void t.post(o.GET_AUG_CHARGE_INVEST,{}).then(function(t){"000000"===t.code&&("0"==t.data.result?($(".result-activity-modal").modal("show"),e.initPage()):i("确定",t.data.msg,"",""))},function(t){e.showMsg("服务器忙,请稍后再试")}):(i("立即登录","您还未登录，请先登录！","",e.loginLink),!1)},e.goToRecharge=function(){return e.loggedIn?void(window.location.href="/my-account/sh-bank/add-funds#assets-management-1"):(i("立即登录","您还未登录，请先登录！","",e.loginLink),!1)},e.commonModal={};var i=function(t,o,r,n){e.commonModal.btnText=t,e.commonModal.showTitle=r,e.commonModal.contentDetail=o,e.commonModal.btnHref=n,e.$$phase||e.$apply(),$(".db-common-modal").modal("show")};e.loginBtn=function(){window.location.href=e.loginLink}}])},{15:15}],21:[function(e,t,o){"use strict";var r=e(15);r.controller("ChristmasCtrl",["$scope","$http","request","api","$timeout","utils","$filter","$cookieStore",function(e,t,o,r,n,i,a,s){$(function(){var e="<div class='snow'>❅<div>",t=400;setInterval(function(){
var t=$(document).width(),o=Math.random()*t-100,r=.3+Math.random(),n=10+30*Math.random(),i=o-100+200*Math.random(),a=8e3+5e3*Math.random();$(e).clone().appendTo(".snowbg").css({left:o+"px",opacity:r,"font-size":n}).animate({top:"1600px",left:i+"px",opacity:.1},a,"linear",function(){$(this).remove()})},t)})}])},{15:15}],22:[function(e,t,o){"use strict";var r=e(15),n=e("swiper");r.controller("complianceCtrl",["$scope","$timeout",function(e,t){t(function(){var e=new n(".swiper-container",{loop:!0});$(".arrow-left").on("click",function(t){t.preventDefault(),e.swipePrev()}),$(".arrow-right").on("click",function(t){t.preventDefault(),e.swipeNext()})},100)}])},{15:15,swiper:"swiper"}],23:[function(e,t,o){"use strict";var r=e(15);r.controller("TransferSuccessCtrl",["$scope",function(e){e.fromUrl=encodeURIComponent(window.location.href),e.isShowFloat=!0,window.loggedIn?($(".top-txt").css("margin-top","40px"),$(".footer-wrapper").css("margin-bottom","0")):$(window).scroll(function(){if(e.isShowFloat){var t=$(window).scrollTop();t>810?$(".fix-foot").show():$(".fix-foot").hide()}}),e.closeFloat=function(){e.isShowFloat=!1,$(".fix-foot").hide(),$(".footer-wrapper").css("margin-bottom","0")}}])},{15:15}],24:[function(e,t,o){"use strict";var r=e(15);r.controller("DiscountOctActivityCtrl",["$scope","api","request","$timeout","$filter","$interval",function(e,t,o,r,n,i){function a(e,t){var o={};switch(o.dom=$(e),o.num=parseFloat(o.dom.attr("data-value")),t){case"":return!1;case"money":o.num*=100}var r,n=(o.num/26).toFixed(0),i=0,a=setInterval(function(){switch(i+=parseInt(n),t){case"money":r=(i/100).toFixed(2)}if(o.dom.attr("data-dom")){var e=$("<"+o.dom.attr("data-dom")+">").html(o.dom.attr("data-txt"));o.dom.html(r),o.dom.append(e)}else o.dom.html(o.dom.attr("data-txt")?r+o.dom.attr("data-txt"):r);if(i>=o.num){switch(clearInterval(a),t){case"money":r=(o.num/100).toFixed(2)}if(o.dom.attr("data-dom")){var e=$("<"+o.dom.attr("data-dom")+">").html(o.dom.attr("data-txt"));o.dom.html(r),o.dom.append(e)}else o.dom.html(o.dom.attr("data-txt")?r+o.dom.attr("data-txt"):r);return!1}},30)}e.fromUrl="/login?from="+encodeURIComponent(window.location.href),e.loggedIn=window.loggedIn,e.pageInit=function(){e.originalRechargeMoney={num:"0.00",unit:"元"},e.rechargeMoney={num:"0.00",unit:"元"},e.extractMoney={num:"0.00",unit:"元"},e.loggedIn?(e.loading=!0,o.post(t.QUERY_OCT_COUPONS_STATUS,{}).then(function(t){e.loading=!1,"000000"===t.code&&(e.statusInfo=t.data.data,e.originalRechargeMoney=s(e.statusInfo.originalRechargeMoney,2),e.rechargeMoney=s(e.statusInfo.rechargeMoney,2),e.extractMoney=s(e.statusInfo.extractMoney,2),l(e.statusInfo.rechargeMoney),r(function(){$(".animate").flash()},0))},function(e){})):e.loading=!1};var s=function(e,t){var o=e,r=(n("number"),""),i="元",a=1,s=1e4;o>=s&&(a=s,i="万元"),r=Number(o/a).toFixed(2);var l=r.indexOf("."),c=0>l?r:r.substring(0,l),d=0>l?"":r.substring(l),u=c+d;return{num:u,unit:i}};e.getCoupons=function(r){o.post(t.GET_OCT_COUPONS,{cycle:r}).then(function(t){"000000"===t.code&&(e.getResult=t.data,$("#result-activity-modal").modal("show"))},function(e){})},e.pageInit();var l=function(e){e=parseFloat(e);var t,o,r,n={0:"227",1:"232",2:"227",3:"227",4:"227",5:"227"};e>0&&5e3>=e?(t=0,o=5e3,r=5e3):e>5e3&&5e4>=e?(t=1,o=5e4,r=45e3):e>5e4&&2e5>=e?(t=2,o=2e5,r=15e4):e>2e5&&5e5>=e?(t=3,o=5e5,r=3e5):e>5e5&&1e6>=e?(t=4,o=1e6,r=5e5):e>1e6&&(t=5);var i;i=5e3!=o?(e-(o-r))/r:e/o,e>1e6&&(i=0);for(var a=0,s=0;t>=s;s++)s>=1&&(a+=1*n[s-1]);a+=n[t]*i,$(".run-progress .man").animate({left:a},2e3)};$.fn.extend({flash:function(){this.each(function(){var e=$(this).attr("data-type"),t=$(this).attr("data-option");switch(e){case"number":a(this,t)}})}})}])},{15:15}],25:[function(e,t,o){"use strict";var r=e(15);r.controller("SepRlayCtrl",["$scope","api","request","$timeout",function(e,t,o,r){e.fromUrl="/login?from="+encodeURIComponent(window.location.href),e.loggedIn=window.loggedIn,document.title="周周投资，周周有奖-石投金融",e.pageInit=function(){var r=new Date,n=r.getFullYear(),i=r.getMonth()+1,a=r.getDate();2017==n?9>i?(e.allClose=!0,e.allOverdate=!1,e.activePeriod=0):9==i?6>a?(e.allClose=!0,e.allOverdate=!1,e.activePeriod=0):e.activePeriod=a>=6&&10>=a?1:a>=11&&17>=a?2:a>=18&&24>=a?3:4:(e.allClose=!1,e.allOverdate=!0,e.activePeriod=5):(e.allClose=!1,e.allOverdate=!0,e.activePeriod=5),e.loggedIn?(e.loading=!0,o.post(t.SEARCH_SEP_COUPONS_STATUS,{}).then(function(t){e.loading=!1,"000000"===t.code&&(e.statusList=t.data)},function(e){})):e.loading=!1},e.getCoupons=function(r){o.post(t.GET_SEP_COUPONS,{cycle:r}).then(function(t){"000000"===t.code&&(e.getResult=t.data,$("#result-activity-modal").modal("show"))},function(e){})},e.pageInit()}])},{15:15}],26:[function(e,t,o){"use strict";var r=e(15);r.controller("DoubleElevenLotteryCtrl",["$scope","$http","request","api","$timeout","utils",function(e,t,o,r,n,i){function a(e){var t=/^\d*$/;return t.test(e)}e.urlParams=i.getUrlParams();var s,l,c=e.urlParams.lotteryCode,d=!1;e.lotteryTip={},e.recordsInfo={},e.originRecordsInfo={},e.vr={},e.xm={},e.rb={},e.userRecordsInfo={};var u=0;e.lotteryCount=0,e.expiredDate=!1;var h={recordsParams:{lotteryCode:c,page:1,rows:8},lotteryTotalRecords:"",userTotalRecords:"",initData:function(){var t=new Date,o=new Date(Date.parse("2016/11/19"));t>o&&(e.expiredDate=!0),e.loginLink="/login?from="+encodeURIComponent(window.location.href),window.loggedIn&&h.updateLotteryInfo(),h.updateExchangePrizes(),h.reloadLotteryRecords(h.recordsParams),h.reloadUserReords(h.recordsParams)},updateLotteryInfo:function(){o.post(r.INIT_LOTTERY_INFO,{lotteryCode:c}).then(function(t){"000000"===t.code?e.lotteryCount=t.data.lotteryCount<0?0:t.data.lotteryCount:e.errorMsg=t.msg},function(e){}),e.userTel||o.post(r.LOTTERY_URER_INFO,{}).then(function(t){"000000"===t.code?e.userTel=t.data.tel:e.errorMsg=t.msg},function(e){})},updateExchangePrizes:function(){o.post(r.EXCHANGE_PRIZE_LIST,{lotteryCode:c}).then(function(t){"000000"===t.code?e.prizeList=t.data:e.errorMsg=t.msg},function(e){})},reloadLotteryRecords:function(t){o.post(r.LOTTRY_RECORDS,t).then(function(o){"000000"===o.code?(e.recordsInfo=o.data,h.lotteryTotalRecords=o.data.totalRecord,1==t.page&&(e.originRecordsInfo=o.data),0===u&&($(".pagination li").remove("li:first-child"),$(".pagination").find("li").last().remove(),u=1)):(e.recordsInfo.totalRecord=0,e.errorMsg=o.msg)},function(e){})},getLotteryResult:function(){o.post(r.DOUBLE_ELEVEN_LOTTERY,{lotteryCode:c}).then(function(t){"000000"===t.code?"000"===t.data.code?(e.lotteryData=t.data,h.rotateByRefer(e.lotteryData)):"100"===t.data.code?(e.lotteryData={},e.lotteryData.lotteryRefer="no_reward",h.rotateByRefer(e.lotteryData)):(d=!d,h.showCommonModal("确认","modal",!1,t.data.message,"")):"510010"===t.code?(e.lotteryData={},e.lotteryData.lotteryRefer="no_reward",h.rotateByRefer(e.lotteryData)):"000005"===t.code||"000003"===t.code?location.href=e.loginLink:(d=!d,e.errorMsg=t.msg,h.showCommonModal("确认","modal",!1,t.msg,""))},function(t){d=!d,e.errorMsg=t.msg,h.showCommonModal("确认","modal",!1,"服务器忙,请稍后再试","")})},rotateByRefer:function(e){var t=e.lotteryRefer;switch(t){case"lottery_2":var o={rewardId:0,name:"手机流量500M",text:"手机流量",numText:"500M",type:"flow"};h.rotateFunc(o,20);break;case"lottery_1":var o={rewardId:1,name:"5元投资代金券",text:"代金券",numText:"5元",type:"voucher"};h.rotateFunc(o,60);break;case"no_reward":var o={rewardId:2,name:"再接再厉",text:"",numText:"",type:"none"};h.rotateFunc(o,100);break;case"lottery_8":var o={rewardId:3,name:"10元手机话费",text:"手机话费",numText:"10元",type:"phoneCharge"};h.rotateFunc(o,140);break;case"lottery_7":var o={rewardId:4,name:"10元投资代金券",text:"代金券",numText:"10元",type:"voucher"};h.rotateFunc(o,180);break;case"lottery_6":var o={rewardId:5,name:"50元投资代金券",text:"代金券",numText:"50元",type:"voucher"};h.rotateFunc(o,220);break;case"lottery_5":var o={rewardId:6,name:"100元投资代金券",text:"代金券",numText:"100元",type:"voucher"};h.rotateFunc(o,260);break;case"lottery_4":var o={rewardId:7,name:"iphone7 Plus (128G)",text:"手机",numText:"iphone7 Plus (128G)",type:"iphone"};h.rotateFunc(o,300);break;case"lottery_3":var o={rewardId:8,name:"年化0.5%加息券",text:"加息券",numText:"0.5%",type:"raise"};h.rotateFunc(o,340);break;default:var o={rewardId:2,name:"再接再厉",text:"",numText:"",type:"none"};h.rotateFunc(o,100)}},lightBlink:function(){var e=(new Date).getTime();return e-s>5e3?!1:(l++,l%2?($(".light-blink").removeClass("light-yellow"),$(".light-blink").addClass("light-white")):($(".light-blink").removeClass("light-white"),$(".light-blink").addClass("light-yellow")),void(5e3>e-s&&n(h.lightBlink,500)))},rotateFunc:function(t,o){s=(new Date).getTime(),l=0,$("#rotate-img").stopRotate(),$("#rotate-img").rotate({angle:0,duration:5e3,animateTo:o+1440,callback:function(){d=!d,e.lotteryTip=t,$(".lottery-tip-modal").modal("show"),h.updateLotteryInfo(),h.reloadLotteryRecords(h.recordsParams)}}),h.lightBlink()},showCommonModal:function(t,o,r,n,i,a,s){e.commonModal.btnText=t,e.commonModal.dataDismiss=o,e.commonModal.showTitle=r,e.commonModal.contentDetail=n,e.commonModal.btnText2=i,e.commonModal.btnHref=a,e.commonModal.covertActive=s,$(".db-lottery-common-modal").modal("show")},reloadUserReords:function(t){o.post(r.LOTTERY_USER_RECORDS,t).then(function(t){"000000"===t.code?(e.userRecordsInfo=t.data,h.userTotalRecords=t.data.totalRecord,0===u&&($(".pagination li").remove("li:first-child"),$(".pagination").find("li").last().remove(),u=1)):(e.userRecordsInfo.totalRecord=0,e.errorMsg=t.msg)},function(e){})}};h.initData(),e.slideToElement=function(e){$("body,html").animate({scrollTop:$(e).offset().top},500)},e.openRecordsModal=function(t){if(!c||""===c)return h.showCommonModal("确认","modal",!1,"服务器忙,请稍后再试",""),!1;if("other"==t)e.recordsType="other",h.reloadLotteryRecords(h.recordsParams),e.recordsInfo.totalRecord=h.lotteryTotalRecords,e.$broadcast("resetPagination",h.lotteryTotalRecords),$(".reward-records-modal").modal("show");else if("user"==t){if(!window.loggedIn)return h.showCommonModal("立即登录","no",!1,"您还未登录，请先登录！","",e.loginLink),!1;e.recordsType="user",h.reloadUserReords(h.recordsParams),e.userRecordsInfo.totalRecord=h.userTotalRecords,e.$broadcast("resetPagination",h.userTotalRecords),$(".reward-records-modal").modal("show")}},e.openCountCoinModal=function(){e.countCoin={selected:1,investMoney:"",coins:0},$(".count-coin-modal").modal("show")},e.countCoin={selected:1,investMoney:"",coins:0,errorNumMsg:"输入的金额格式错误",showError:!1},e.moneyChange=function(){if(!a(e.countCoin.investMoney))return e.countCoin.showError=!0,e.countCoin.coins=0,!1;var t=parseFloat(e.countCoin.investMoney);if(t>1e8)e.countCoin.investMoney=1e8,e.countCoin.showError=!1;else{if(0>t)return e.countCoin.showError=!0,e.countCoin.coins=0,!1;e.countCoin.showError=!1}},e.countGoldCoin=function(){if(!e.countCoin.investMoney||""==e.countCoin.investMoney||!a(e.countCoin.investMoney))return e.countCoin.showError=!0,e.countCoin.coins=0,!1;var t=parseFloat(e.countCoin.investMoney);if(0>t)return e.countCoin.showError=!0,e.countCoin.coins=0,!1;e.countCoin.showError=!1;var o=e.countCoin.selected*t/5e3;e.countCoin.coins=Math.floor(o)},e.selectPeroid=function(t){e.countCoin.selected=t},e.lotteryGo=function(){return window.loggedIn?d?!1:e.lotteryCount<=0?(e.expiredDate?h.showCommonModal("确定","modal",!1,"您的金币数量不够。","",""):h.showCommonModal("立即投资","no",!1,"您的金币数量不够，请去投资赚取更多的金币！","","/investment-list"),!1):(d=!d,void h.getLotteryResult()):(e.commonModal={headerTitle:"提示"},h.showCommonModal("立即登录","no",!1,"您还未登录，请先登录！","",e.loginLink),!1)},e.$on("pageChange",function(t,o){e.recordsInfo.page=o;var r={lotteryCode:c,page:o,rows:8};"other"==e.recordsType?h.reloadLotteryRecords(r):"user"==e.recordsType&&h.reloadUserReords(r)}),e.commonModal={headerTitle:"提示",btnText:"",btnText2:"",dataDismiss:"modal",covertActive:!1,contentTitle:"兑换成功"},e.convertReward=function(t){if(e.currentCode=t.prizeCode,!window.loggedIn)return h.showCommonModal("立即登录","no",!1,"您还未登录，请先登录！","",e.loginLink),!1;if(t.prizeStore<=0)h.showCommonModal("确定","modal",!1,"奖品已发放完毕！","","javascript:void(0)");else if(e.lotteryCount<t.chanceNum)e.expiredDate?h.showCommonModal("确定","modal",!1,"您的金币数量不够。","",""):h.showCommonModal("立即投资","no",!1,"您的金币数量不够，请去投资赚取更多的金币！","","/investment-list");else{var o="花"+t.chanceNum+"个金币，就能得到"+t.prizeName+"啦！";h.showCommonModal("兑换","no",!1,o,"再想想","javascript:void(0)",!0)}},e.commonModal2={},e.covert=function(t){if(!t)return!1;var n={lotteryCode:c,exchangeCode:e.currentCode};o.post(r.PRIZE_EXCHANGE,n).then(function(t){e.commonModal.btnText="确认",e.commonModal.btnText2="",e.commonModal.covertActive=!1,e.commonModal.dataDismiss="modal","000000"===t.code?("0"===t.data.result?(e.commonModal.contentTitle="兑换成功",e.commonModal.contentDetail="我们将在3个工作日内联系您（节假日顺延），您的手机号为："+e.userTel,h.initData()):(e.commonModal.contentTitle="兑换失败",e.commonModal.contentDetail=t.data.message),e.commonModal.showTitle=!0):"000005"===t.code||"000003"===t.code?location.href=e.loginLink:(e.errorMsg=t.msg,e.commonModal.showTitle=!1,e.commonModal.contentDetail=t.msg)},function(t){e.errorMsg=t.msg,e.commonModal.showTitle=!1,e.commonModal.contentDetail="服务器忙,请稍后再试"})}}])},{15:15}],27:[function(e,t,o){$(function(){$(window).scroll(function(){var e=$(window).scrollTop();e>0?($(".header-wrapper-dynamic").addClass("rolling"),$(".fanhui-li").show()):($(".header-wrapper-dynamic").removeClass("rolling"),$(".fanhui-li").hide())}),$(".fanhui-li").click(function(){$(window).scrollTop(0)});var e=$(".friendly-link"),t=$(".friendly-icon"),o=e.height(),r=0;o>35&&(e.css({height:35,"overflow-y":"hidden"}),t.show()),t.click(function(){var t=$("body").height();return $("html,body").animate({scrollTop:t},200),0===r?(e.css({height:o,"overflow-y":"visible"}),$(this).children().css("background-position","-673px -6px"),void(r=1)):(e.css({height:35,"overflow-y":"hidden"}),$(this).children().css("background-position","-657px -6px"),void(r=0))})})},{}],28:[function(e,t,o){"use strict";var r=e(15);r.controller("FortuneProfessorCtrl",["$scope","$http","request","api",function(e,t,o,r){$(".register-bottom").hide();var n='<p class="zhuce-title text-center" style="font-size: 26px; color: #f92400;padding-bottom: 15px;"><b>注册送660元红包</b></p>';$(".main-wrapper .sem-container .login").css({top:"50px",borderRadius:"15px"}).height(335).prepend(n).find(".register-btn").text("30秒免费注册").css({backgroundColor:"#f92400",borderRadius:"18px"}),e.pageInit=function(){e.loading=!0,o.get(r.RESERVE_LOAN,{}).then(function(t){e.loading=!1,"000000"===t.code&&(e.reserveList=t.data.reserveLoanList)},function(){})},e.pageInit()}])},{15:15}],29:[function(e,t,o){"use strict";var r=e(15);r.controller("HeaderCtrl",["$scope","$http","request","api","$timeout","utils","$interval",function(e,t,o,r,n,i,a){window.loggedIn||(e.loginLink="/login?from="+encodeURIComponent(window.location.href)),e.loginOutInfo={isSubmitting:!1,buttonText:"退出"},e.logout=function(){e.loginOutInfo.isSubmitting||(e.loginOutInfo={isSubmitting:!0,buttonText:"退出中..."},o.post(r.LOGOUT,{}).then(function(t){"000000"===t.code?window.location.href="/":e.loginOutInfo={isSubmitting:!1,buttonText:"退出"}},function(t){e.loginOutInfo={isSubmitting:!1,buttonText:"退出"},$("#errorModal").modal("show"),e.errorMsg="服务器忙,请稍后再试"}))};var s={currentApplicationName:"p2p",osName:"android"},l={currentApplicationName:"p2p",osName:"ios"},c=0;e.getDownloadLink=function(){0==c&&(o.get(r.APP_VERSION,s).then(function(t){e.androidUrl="000000"===t.code?t.data.newDownloadUrl:"http://android.myapp.com/myapp/detail.htm?apkName=com.invstone.android"},function(t){$("#errorModal").modal("show"),e.errorMsg="服务器忙,请稍后再试"}),o.get(r.APP_VERSION,l).then(function(t){e.iosUrl="000000"===t.code?t.data.newDownloadUrl:"https://appsto.re/cn/Rhuv5.i"},function(t){$("#errorModal").modal("show"),e.errorMsg="服务器忙,请稍后再试"}),c=1)},e.$on("pageInit",function(t,o){e.userBaseInfo=o})}])},{15:15}],30:[function(e,t,o){"use strict";var r=e(15);r.controller("IntegralAprCtrl",["$scope","api","request","$interval","$timeout","utils",function(e,t,o,r,n,i){function a(e,t){return Math.floor(Math.random()*(t-e+1)+e)}e.params={submit:{exchangeprizeid:"",exchangenum:"",addressid:""}},e.submit={seckill:{btnText:"",disabled:!0},integral:{btnText:"确认兑换",pending:!1,msg:""},address:{btnText:"保存",pending:!1,msg:""}},e.countdownTime={hour:"--",minute:"--",second:"--"},e.loadCount=0,e.loading=!0,e.integralList={},e.collapseClose=!0,e.overtime=function(e){e&&"000003"==e.code&&(window.location.href="/login?from=/activity/integral-mall")},e.getUserIntgeralInfo=function(r){r&&(o.post(t.INTEGRAL_USER_ACCOUNT,{}).then(function(t){"000000"===t.code&&(e.userIntegralInfo=t.data)},function(e){}),e.loadUserAddressList(),o.post(t.INTEGRAL_MALL_PROVICE_LIST,{}).then(function(t){"000000"===t.code&&(e.proviceList=t.data.list)},function(e){}))},e.seckillCD=function(t,o,n){if(n&&0==n.remainstock)return e.submit.seckill.disabled=!0,void(e.countdownTime={hour:"00",minute:"00",second:"00"});if(t){e.submit.seckill.btnText="即将开始";var a=r(function(){e.countdownTime=i.nowToRangeGivenTime(--o),"00"==e.countdownTime.hour&&"00"==e.countdownTime.minute&&"00"==e.countdownTime.second&&(e.submit.seckill.disabled=!1,e.submit.seckill.btnText="立即秒杀",r.cancel(a))},1e3)}else e.submit.seckill.disabled=!1,e.submit.seckill.btnText="立即秒杀",e.countdownTime={hour:"00",minute:"00",second:"00"}},e.joggle=function(e){var t=($(window).scrollTop(),$(".qr-code-wrapper")),o=6,n=!1,i=[[25,30],[20,25],[15,20]],s=0,l=r(function(){if(!n){n=!0;var c,d=0==parseInt(t.css("bottom"));d?(c=a.apply(null,i[s]),++s):c=0,t.animate({bottom:c},e,function(){n=!1,--o,!o&&r.cancel(l)})}},100)},e.loadUserAddressList=function(){e.userIntegralInfo&&(e.defaultAddress=null,o.post(t.INTEGRAL_MALL_MEMBER_ADDRESS_LIST,{}).then(function(t){if("000000"===t.code&&t.data&&t.data.list&&t.data.list.length>0){e.addressLits=t.data.list;for(var o=[],r=0;r<e.addressLits.length;r++){var n=e.addressLits[r].provincename+e.addressLits[r].cityname+e.addressLits[r].areaname+e.addressLits[r].address;e.addressLits[r].addressInfo=n,1!=e.addressLits[r].isdefault||e.defaultAddress?o.push(e.addressLits[r]):e.defaultAddress=e.addressLits[r]}e.defaultAddress?e.addressLits=o:(e.defaultAddress=o[0],e.addressLits=o.slice(1,o.length)),$(".logistics-info .address-choice").removeClass("active"),$(".default-address-info .address-choice").addClass("active"),e.params.submit.addressid=e.defaultAddress.id}},function(e){}))},e.toggleCollapse=function(){e.collapseClose=$("#more-address-list").hasClass("in"),$("#more-address-list").collapse("toggle")},e.reload=function(n){n&&(e.isNotExist=$.isEmptyObject(n),e.seckillInfo=n,++e.loadCount),o.post(t.EXCHANGE_PRIZE_LIST_SECKILL,{}).then(function(t){if(++e.loadCount,"000000"===t.code){var o={};t.data&&t.data.list&&(o=t.data.list[0],o.promotionPrice=Math.ceil(2*o.consumeintegral)),e.seckillInfo=o,e.isNotExist=$.isEmptyObject(o)}},function(e){}),o.post(t.EXCHANGE_RECORD_LIST_ACTIVITY,{}).then(function(t){if(++e.loadCount,"000000"===t.code&&t.data&&t.data.list){e.exchangeList=t.data.list;var o=e.exchangeList.length;o>0&&r(function(){$(".exchange-wrapper ul").animate({marginTop:-29},300,function(){$(this).css({marginTop:0}).find("li:first").appendTo(this)})},1500)}},function(e){}),o.post(t.EXCHANGE_PRIZE_LIST_ACTIVITY,{page:1,rows:11}).then(function(t){++e.loadCount,"000000"===t.code&&t.data&&t.data.list&&(e.seckillList=t.data.list)},function(e){})},e.showIntegralInfo=function(r,n,i,a,s,l,c){e.loadUserAddressList(),e.integralInfo&&(e.integralInfo.submit.integral={btnText:"确认兑换",pending:!1,msg:""}),e.cityList=[],e.areaList=[],e.addressInfo={},e.dialogType=a,e.collapseClose=!0,$(".add-error-msg").text(""),$("#more-address-list").collapse("hide"),e.params.submit.exchangeprizeid=n;var d=e.integralList[n];$.isEmptyObject(d)||c?o.post(t.INTEGRAL_MALL_EXCHANGE_PRIZE_DETAIL,{exchangeprizeid:n}).then(function(t){"000000"===t.code?(e.integralInfo=t.data,e.integralInfo.price=e.integralInfo.consumeintegral,e.integralInfo.qty=0,e.userIntegralInfo&&(e.integralInfo.price>e.userIntegralInfo.useintegral||0==e.integralInfo.remainstock)&&(e.integralInfo.isDisabledExchange=!0),e.integralInfo.type=i,e.integralInfo.submit=e.submit,e.changeQty(1,e.integralInfo),e.integralList[n]=e.integralInfo,null!=r&&(e.integralInfo.index=r,e.seckillList[e.integralInfo.index].remainstock=e.integralInfo.remainstock),l&&$("#productInfoModal").modal("show")):e.overtime(t)},function(e){}):(e.integralInfo=d,l&&$("#productInfoModal").modal("show")),!s&&$("#exchangeInfoModal").modal("show")},e.choiceAddress=function(t){t.currentTarget&&$(t.currentTarget).hasClass("active")||($(".logistics-info .address-choice").removeClass("active"),$(t.currentTarget).addClass("active"),e.params.submit.addressid=$(t.currentTarget).attr("addressid"))},e.showAddressInfo=function(r){e.dialogType=3,e.addressInfo=r||{},e.integralInfo.submit.address={btnText:"保存",pending:!1,msg:""},r&&r.provincecode&&o.post(t.INTEGRAL_MALL_CITY_LIST,{code:r.provincecode}).then(function(t){"000000"===t.code&&(e.cityList=t.data.list)},function(e){}),r&&r.citycode&&o.post(t.INTEGRAL_MALL_AREA_LIST,{code:r.citycode}).then(function(t){"000000"===t.code&&(e.areaList=t.data.list)},function(e){})},e.chioceProvince=function(r){r?(e.addressInfo.provincecode=r.code,e.addressInfo.provincename=r.name,o.post(t.INTEGRAL_MALL_CITY_LIST,{code:r.code}).then(function(t){"000000"===t.code&&(e.cityList=t.data.list)},function(e){})):(e.cityList=[],e.addressInfo.provincecode=null,e.addressInfo.provincename=null),e.chioceCity()},e.chioceCity=function(r){r?(e.addressInfo.citycode=r.code,e.addressInfo.cityname=r.name,o.post(t.INTEGRAL_MALL_AREA_LIST,{code:r.code}).then(function(t){"000000"===t.code&&(e.areaList=t.data.list)},function(e){})):(e.areaList=[],e.addressInfo.citycode=null,e.addressInfo.cityname=null),e.chioceArea()},e.chioceArea=function(t){t?(e.addressInfo.areacode=t.code,e.addressInfo.areaname=t.name):(e.addressInfo.areacode=null,e.addressInfo.areaname=null)},e.delAddressInfo=function(r){o.post(t.INTEGRAL_MALL_DEL_MEMBER_ARDESS,{addressid:r}).then(function(t){"000000"===t.code?(e.params.submit.addressid=null,e.loadUserAddressList(),e.dialogType=1):(e.integralInfo.submit.address={btnText:"保存",pending:!1,msg:t.msg},e.overtime(t))},function(e){})},e.checkRealName=function(){if(!e.addressInfo.consignee)return e.integralInfo.submit.address.msg="请填写真实姓名",!1;var t=/^([\u4e00-\u9fa5]){2,11}$/;return t.test(e.addressInfo.consignee)?(e.integralInfo.submit.address.msg="",!0):(e.integralInfo.submit.address.msg="请填写有效的真实姓名",!1)},e.checkPhone=function(){if(!e.addressInfo.phone)return e.integralInfo.submit.address.msg="请填写手机号码",!1;var t=/^1[34578]\d{9}$/;return t.test(e.addressInfo.phone)?(e.integralInfo.submit.address.msg="",!0):(e.integralInfo.submit.address.msg="请填写有效的手机号码",!1)},e.checkAddress=function(){return e.addressInfo.provincecode?e.addressInfo.citycode?e.addressInfo.areacode?e.addressInfo.address?(e.integralInfo.submit.address.msg="",!0):(e.integralInfo.submit.address.msg="请填写详细地址",!1):(e.integralInfo.submit.address.msg="请选择县区",!1):(e.integralInfo.submit.address.msg="请选择城市",!1):(e.integralInfo.submit.address.msg="请选择省份",!1)},e.editAddressInfo=function(r){!e.integralInfo.submit.address.pending&&e.checkRealName()&&e.checkPhone()&&e.checkAddress()&&(e.dialogType=3,e.integralInfo.submit.address={btnText:"保存中...",pending:!0,msg:""},e.integralInfo.submit.integral.msg="",r&&r.id?o.post(t.INTEGRAL_MALL_UPDATE_MEMBER_ARDESS,r).then(function(t){e.integralInfo.submit.address={btnText:"保存",pending:!1},"000000"===t.code?(e.loadUserAddressList(),e.dialogType=1):(e.integralInfo.submit.address.msg=t.msg,e.overtime(t))},function(e){}):o.post(t.INTEGRAL_MALL_ADD_MEMBER_ARDESS,r).then(function(t){e.integralInfo.submit.address={btnText:"保存",pending:!1},"000000"===t.code?(e.loadUserAddressList(),e.dialogType=1):(e.integralInfo.submit.address.msg=t.msg,e.overtime(t))},function(e){}))},e.checkAddressInfo=function(){return 1!=e.integralInfo.type||e.params.submit.addressid?(e.integralInfo.submit.integral.msg="",!0):(e.integralInfo.submit.integral.msg="请新增收货地址",!1)},e.exchange=function(){!e.integralInfo.submit.integral.pending&&e.checkAddressInfo()&&(e.integralInfo.submit.integral={btnText:"确认兑换中...",pending:!0,msg:""},e.exchangeTips="",e.exchangeResult=!1,e.exchangeResultMsg="",o.post(t.INTEGRAL_MALL_EXCHANGE,e.params.submit).then(function(t){if(e.integralInfo.submit.integral={btnText:"确认兑换",pending:!1},"000000"===t.code){e.getUserIntgeralInfo(!0),e.dialogType=4,e.exchangeResultMsg=t.data.ResultMessage,e.exchangeResult=t.data.ResultCode&&t.data.ResultCode.indexOf("000000")>-1;var o=e.integralInfo.index;e.exchangeResult?(e.exchangeTips=t.data.prizetips,e.exchangeResultMsg=t.data.prizetipsdescription,null!=o?e.seckillList[o].remainstock=e.seckillList[o].remainstock-e.params.submit.exchangenum:e.seckillInfo.remainstock=e.seckillInfo.remainstock-e.params.submit.exchangenum):e.exchangeTips="兑换失败",e.showIntegralInfo(o,e.integralInfo.exchangeprizeid,e.integralInfo.type,e.dialogType,!0,!1,!0)}else e.integralInfo.submit.integral.msg=t.msg,e.overtime(t)},function(e){}))},e.reExchange=function(t){e.showIntegralInfo(t.index,t.exchangeprizeid,t.type,t.type,!0,!1,!0)},e.changeQty=function(t,o){return $(".add-error-msg").text(""),0==o.remainstock?void $(".add-error-msg").text("商品暂无库存"):t>0&&e.userIntegralInfo&&(o.qty>0||0==o.qty&&o.price>e.userIntegralInfo.useintegral)&&e.userIntegralInfo.useintegral-o.price<o.consumeintegral?void $(".add-error-msg").text("您的剩余积分不足"):t>0&&o.qty>=o.remainstock?void $(".add-error-msg").text("商品库存不足"):void(0>t&&o.qty<=o.min||e.userIntegralInfo&&(t>0?++o.qty:--o.qty,e.checkQty(o)))},e.checkQty=function(t){/^[1-9]\d*$/.test(t.qty)||(t.qty=parseInt(t.qty)),t.min=1,t.max=parseInt(e.userIntegralInfo.useintegral/t.price),t.max>t.remainstock&&(t.max=t.remainstock),0==t.remainstock?(t.qty=t.min=t.max=t.remainstock=0,$(".add-error-msg").text("商品暂无库存")):t.qty=t.qty<t.min?t.min:t.qty>t.max?t.max:t.qty,t.isMin=t.qty==t.min,t.isMax=t.qty==t.max,e.params.submit.exchangenum=t.qty,t.consumeintegral=t.qty*t.price},e.pageInit=function(){!navigator.userAgent.match(/MSIE 8.0/i)&&$(function(){$leaf.AutomLeafStart({leafsfolder:"/public/img/activity/automLeafs/leaf-",howmanyimgsare:9,initialleafs:5,minLposition:665,maxLposition:1300,minYposition:200,maxYposition:600,multiplyclick:!1,infinite:!1,fallingsequence:4e3})}),e.$watch("loadCount",function(t){e.loading=3>t})},e.pageInit()}])},{15:15}],31:[function(e,t,o){"use strict";var r=e(15);r.controller("IntegralMallCtrl",["$scope","api","request","$timeout","$interval","$filter","$cookies","utils",function(e,t,o,r,n,i,a,s){e.params={virtual:{prizeType:2,page:1,rows:8},physical:{prizeType:1,page:1,rows:8},submit:{exchangeprizeid:"",exchangenum:"",addressid:"",spikeActiveId:""}},e.submit={integral:{btnText:"确认兑换",pending:!1,msg:""},address:{btnText:"保存",pending:!1,msg:""}},e.integralList={},e.collapseClose=!0,e.loadCount=0,e.loading=!0,e.overtime=function(e){e&&"000003"==e.code&&(window.location.href="/login?from=/activity/integral-mall")},e.getUserIntgeralInfo=function(r){r&&(o.post(t.INTEGRAL_USER_ACCOUNT,{}).then(function(t){"000000"===t.code&&(e.userIntegralInfo=t.data)},function(e){}),e.loadUserAddressList(),o.post(t.INTEGRAL_MALL_PROVICE_LIST,{}).then(function(t){"000000"===t.code&&(e.proviceList=t.data.list)},function(e){}))},e.loadUserAddressList=function(){e.userIntegralInfo&&(e.defaultAddress=null,o.post(t.INTEGRAL_MALL_MEMBER_ADDRESS_LIST,{}).then(function(t){if("000000"===t.code&&t.data&&t.data.list&&t.data.list.length>0){e.addressLits=t.data.list;for(var o=[],r=0;r<e.addressLits.length;r++){var n=e.addressLits[r].provincename+e.addressLits[r].cityname+e.addressLits[r].areaname+e.addressLits[r].address;e.addressLits[r].addressInfo=n,1!=e.addressLits[r].isdefault||e.defaultAddress?o.push(e.addressLits[r]):e.defaultAddress=e.addressLits[r]}e.defaultAddress?e.addressLits=o:(e.defaultAddress=o[0],e.addressLits=o.slice(1,o.length)),$(".logistics-info .address-choice").removeClass("active"),$(".default-address-info .address-choice").addClass("active"),e.params.submit.addressid=e.defaultAddress.id}},function(e){}))},e.$on("virtual_pageChange",function(t,o){e.params.virtual.page=o,e.reload(!1,[2])}),e.$on("physical_pageChange",function(t,o){e.params.physical.page=o,e.reload(!1,[1])}),e.toggleCollapse=function(){e.collapseClose=$("#more-address-list").hasClass("in"),$("#more-address-list").collapse("toggle")},e.reload=function(r,n,i){r&&(e.params.virtual.page=1,e.params.physical.page=1),$.inArray(2,n)>-1&&o.post(t.INTEGRAL_MALL_EXCHANGE_PRIZE_LIST,e.params.virtual).then(function(t){++e.loadCount,"000000"===t.code&&(e.virtualInfo=t.data,e.virtualList=e.virtualInfo.list,r&&e.$broadcast("virtual_resetPagination",e.virtualInfo.total),i&&l($(".virtual-list-wrapper")))},function(e){}),$.inArray(1,n)>-1&&o.post(t.INTEGRAL_MALL_EXCHANGE_PRIZE_LIST,e.params.physical).then(function(t){++e.loadCount,"000000"===t.code&&(e.physicalInfo=t.data,e.physicalList=e.physicalInfo.list,r&&e.$broadcast("physical_resetPagination",e.physicalInfo.total),i&&l($(".physical-list-wrapper")))},function(e){})},e.showIntegralInfo=function(r,n,i,a,s,l,c){e.activeExchange=!1,e.loadUserAddressList(),e.integralInfo&&(e.integralInfo.submit.integral={btnText:"确认兑换",pending:!1,msg:""}),e.cityList=[],e.areaList=[],e.addressInfo={},e.dialogType=a,e.collapseClose=!0,$(".add-error-msg").text(""),$("#more-address-list").collapse("hide"),e.params.submit.exchangeprizeid=n;var d=e.integralList[n];$.isEmptyObject(d)||c?o.post(t.INTEGRAL_MALL_EXCHANGE_PRIZE_DETAIL,{exchangeprizeid:n}).then(function(t){"000000"===t.code?(e.integralInfo=t.data,e.integralInfo.price=e.integralInfo.consumeintegral,e.integralInfo.qty=0,e.userIntegralInfo&&(e.integralInfo.price>e.userIntegralInfo.useintegral||0==e.integralInfo.remainstock)&&(e.integralInfo.isDisabledExchange=!0),e.integralInfo.type=i,e.integralInfo.index=r,e.integralInfo.submit=e.submit,e.changeQty(1,e.integralInfo),e.integralList[n]=e.integralInfo,1==e.integralInfo.type?e.physicalList[e.integralInfo.index].remainstock=e.integralInfo.remainstock:2==e.integralInfo.type&&(e.virtualList[e.integralInfo.index].remainstock=e.integralInfo.remainstock),l&&$("#productInfoModal").modal("show")):e.overtime(t)},function(e){}):(e.integralInfo=d,l&&$("#productInfoModal").modal("show")),!s&&$("#exchangeInfoModal").modal("show")},e.choiceAddress=function(t){t.currentTarget&&$(t.currentTarget).hasClass("active")||($(".logistics-info .address-choice").removeClass("active"),$(t.currentTarget).addClass("active"),e.params.submit.addressid=$(t.currentTarget).attr("addressid"))},e.showAddressInfo=function(r){e.dialogType=3,e.addressInfo=r||{},e.integralInfo.submit.address={btnText:"保存",pending:!1,msg:""},r&&r.provincecode&&o.post(t.INTEGRAL_MALL_CITY_LIST,{code:r.provincecode}).then(function(t){"000000"===t.code&&(e.cityList=t.data.list)},function(e){}),r&&r.citycode&&o.post(t.INTEGRAL_MALL_AREA_LIST,{code:r.citycode}).then(function(t){"000000"===t.code&&(e.areaList=t.data.list)},function(e){})},e.chioceProvince=function(r){r?(e.addressInfo.provincecode=r.code,e.addressInfo.provincename=r.name,o.post(t.INTEGRAL_MALL_CITY_LIST,{code:r.code}).then(function(t){"000000"===t.code&&(e.cityList=t.data.list)},function(e){})):(e.cityList=[],e.addressInfo.provincecode=null,e.addressInfo.provincename=null),e.chioceCity()},e.chioceCity=function(r){r?(e.addressInfo.citycode=r.code,e.addressInfo.cityname=r.name,o.post(t.INTEGRAL_MALL_AREA_LIST,{code:r.code}).then(function(t){"000000"===t.code&&(e.areaList=t.data.list)},function(e){})):(e.areaList=[],e.addressInfo.citycode=null,e.addressInfo.cityname=null),e.chioceArea()},e.chioceArea=function(t){t?(e.addressInfo.areacode=t.code,e.addressInfo.areaname=t.name):(e.addressInfo.areacode=null,e.addressInfo.areaname=null)},e.delAddressInfo=function(r){o.post(t.INTEGRAL_MALL_DEL_MEMBER_ARDESS,{addressid:r}).then(function(t){"000000"===t.code?(e.params.submit.addressid=null,e.loadUserAddressList(),e.dialogType=1):(e.integralInfo.submit.address={
btnText:"保存",pending:!1,msg:t.msg},e.overtime(t))},function(e){})},e.checkRealName=function(){if(!e.addressInfo.consignee)return e.integralInfo.submit.address.msg="请填写真实姓名",!1;var t=/^([\u4e00-\u9fa5]){2,11}$/;return t.test(e.addressInfo.consignee)?(e.integralInfo.submit.address.msg="",!0):(e.integralInfo.submit.address.msg="请填写有效的真实姓名",!1)},e.checkPhone=function(){if(!e.addressInfo.phone)return e.integralInfo.submit.address.msg="请填写手机号码",!1;var t=/^1[34578]\d{9}$/;return t.test(e.addressInfo.phone)?(e.integralInfo.submit.address.msg="",!0):(e.integralInfo.submit.address.msg="请填写有效的手机号码",!1)},e.checkAddress=function(){return e.addressInfo.provincecode?e.addressInfo.citycode?e.addressInfo.areacode?e.addressInfo.address?(e.integralInfo.submit.address.msg="",!0):(e.integralInfo.submit.address.msg="请填写详细地址",!1):(e.integralInfo.submit.address.msg="请选择县区",!1):(e.integralInfo.submit.address.msg="请选择城市",!1):(e.integralInfo.submit.address.msg="请选择省份",!1)},e.editAddressInfo=function(r){!e.integralInfo.submit.address.pending&&e.checkRealName()&&e.checkPhone()&&e.checkAddress()&&(e.dialogType=3,e.integralInfo.submit.address={btnText:"保存中...",pending:!0,msg:""},e.integralInfo.submit.integral.msg="",r&&r.id?o.post(t.INTEGRAL_MALL_UPDATE_MEMBER_ARDESS,r).then(function(t){e.integralInfo.submit.address={btnText:"保存",pending:!1},"000000"===t.code?(e.loadUserAddressList(),e.dialogType=1):(e.integralInfo.submit.address.msg=t.msg,e.overtime(t))},function(e){}):o.post(t.INTEGRAL_MALL_ADD_MEMBER_ARDESS,r).then(function(t){e.integralInfo.submit.address={btnText:"保存",pending:!1},"000000"===t.code?(e.loadUserAddressList(),e.dialogType=1):(e.integralInfo.submit.address.msg=t.msg,e.overtime(t))},function(e){}))},e.checkAddressInfo=function(){return 1!=e.integralInfo.type||e.params.submit.addressid?(e.integralInfo.submit.integral.msg="",!0):(e.integralInfo.submit.integral.msg="请新增收货地址",!1)},e.exchange=function(r){!e.integralInfo.submit.integral.pending&&e.checkAddressInfo()&&(e.integralInfo.submit.integral={btnText:"确认兑换中...",pending:!0,msg:""},e.exchangeTips="",e.exchangeResult=!1,e.exchangeResultMsg="",0==r?o.post(t.INTEGRAL_MALL_SPIKE_EXCHANGE,e.params.submit).then(function(t){e.integralInfo.submit.integral={btnText:"确认兑换",pending:!1},"000000"===t.code?(e.getUserIntgeralInfo(!0),e.dialogType=4,e.exchangeResultMsg=t.data.ResultMessage,e.exchangeResult=t.data.ResultCode&&t.data.ResultCode.indexOf("000000")>-1,e.exchangeResult?(e.exchangeTips=t.data.prizetips,e.exchangeResultMsg=t.data.prizetipsdescription,e.killList1&&0==e.killIndex&&(e.killList1[e.integralInfo.index].remainstock=e.killList1[e.integralInfo.index].remainstock-e.params.submit.exchangenum),e.killList2&&1==e.killIndex&&(e.killList2[e.integralInfo.index].remainstock=e.killList2[e.integralInfo.index].remainstock-e.params.submit.exchangenum)):e.exchangeTips="兑换失败",e.getActiveTimes(),e.showActiveIntegralInfo(e.integralInfo.index,e.integralInfo.spikeActiveId,e.integralInfo.type,e.dialogType,!0,!1,!0)):(e.integralInfo.submit.integral.msg=t.msg,e.overtime(t))},function(e){}):o.post(t.INTEGRAL_MALL_EXCHANGE,e.params.submit).then(function(t){e.integralInfo.submit.integral={btnText:"确认兑换",pending:!1},"000000"===t.code?(e.getUserIntgeralInfo(!0),e.dialogType=4,e.exchangeResultMsg=t.data.ResultMessage,e.exchangeResult=t.data.ResultCode&&t.data.ResultCode.indexOf("000000")>-1,e.exchangeResult?(e.exchangeTips=t.data.prizetips,e.exchangeResultMsg=t.data.prizetipsdescription):e.exchangeTips="兑换失败",e.integralInfo&&1==e.integralInfo.type&&e.exchangeResult?e.physicalList[e.integralInfo.index].remainstock=e.physicalList[e.integralInfo.index].remainstock-e.params.submit.exchangenum:e.integralInfo&&2==e.integralInfo.type&&e.exchangeResult&&(e.virtualList[e.integralInfo.index].remainstock=e.virtualList[e.integralInfo.index].remainstock-e.params.submit.exchangenum),e.showIntegralInfo(e.integralInfo.index,e.integralInfo.exchangeprizeid,e.integralInfo.type,e.dialogType,!0,!1,!0)):(e.integralInfo.submit.integral.msg=t.msg,e.overtime(t))},function(e){}))},e.reExchange=function(t,o){1==o?e.showIntegralInfo(t.index,t.exchangeprizeid,t.type,t.type,!0,!1,!0):e.showActiveIntegralInfo(t.index,t.spikeActiveId,t.type,t.type,!0,!1,!0)},e.changeQty=function(t,o){return $(".add-error-msg").text(""),0==o.remainstock?void $(".add-error-msg").text("商品暂无库存"):t>0&&e.userIntegralInfo&&(o.qty>0||0==o.qty&&o.price>e.userIntegralInfo.useintegral)&&e.userIntegralInfo.useintegral-o.price<o.consumeintegral?void $(".add-error-msg").text("您的剩余积分不足"):t>0&&o.qty>=o.remainstock?void $(".add-error-msg").text("商品库存不足"):void(0>t&&o.qty<=o.min||e.userIntegralInfo&&(t>0?++o.qty:--o.qty,e.checkQty(o)))},e.checkQty=function(t){/^[1-9]\d*$/.test(t.qty)||(t.qty=parseInt(t.qty)),t.min=1,t.max=parseInt(e.userIntegralInfo.useintegral/t.price),t.max>t.remainstock&&(t.max=t.remainstock),0==t.remainstock?(t.qty=t.min=t.max=t.remainstock=0,$(".add-error-msg").text("商品暂无库存")):t.qty=t.qty<t.min?t.min:t.qty>t.max?t.max:t.qty,t.isMin=t.qty==t.min,t.isMax=t.qty==t.max,e.params.submit.exchangenum=t.qty,t.consumeintegral=t.qty*t.price},e.goLottery=function(){e.lotteryCode&&(window.location.href="/activity/integrals-lottery?lotteryCode="+e.lotteryCode)},e.signIn=function(r){r||(e.isSignToday=!0,o.post(t.INTEGRAL_USER_SIGN,{}).then(function(t){if("000000"===t.code){e.userSignInfo=t.data,e.userSignInfo?(e.userSignInfo.isSign="000000"==e.userSignInfo.code,e.userSignInfo.isSign&&e.userSignInfo.achieveIntegral&&(e.userIntegralInfo.useintegral+=e.userSignInfo.achieveIntegral)):e.isSignToday=!1,$("#signUpModal").modal("show"),e.userSignInfo.timeCount=5;var o=n(function(){0==--e.userSignInfo.timeCount&&(n.cancel(o),$("#signUpModal").modal("hide"))},1e3)}},function(e){}))};var l=function(e){$(e).find(".pagination li").remove("li:first-child"),$(e).find(".pagination").find("li").last().remove(),$(e).find(".pagination li a[aria-label='Previous']").children("span").text("上一页"),$(e).find(".pagination li a[aria-label='Next']").children("span").text("下一页")};e.showActiveIntegralInfo=function(r,n,i,a,s,l,c,d){e.activeExchange=!0,(0==d||1==d)&&(e.killIndex=d),e.loadUserAddressList(),e.integralInfo&&(e.integralInfo.submit.integral={btnText:"确认兑换",pending:!1,msg:""}),e.cityList=[],e.areaList=[],e.addressInfo={},e.dialogType=a,e.collapseClose=!0,$(".add-error-msg").text(""),$("#more-address-list").collapse("hide"),e.params.submit.spikeActiveId=n;var u=e.integralList[n];$.isEmptyObject(u)||c?o.post(t.INTEGRAL_MALL_SPIKE_ACTIVE_INFO,{spikeActiveId:n}).then(function(t){"000000"===t.code?(e.integralInfo=t.data,e.integralInfo.price=e.integralInfo.consumeintegral,e.integralInfo.qty=0,e.userIntegralInfo&&(e.integralInfo.price>e.userIntegralInfo.useintegral||0==e.integralInfo.remainstock)&&(e.integralInfo.isDisabledExchange=!0),e.integralInfo.type=i,e.integralInfo.index=r,e.integralInfo.spikeActiveId=n,e.integralInfo.submit=e.submit,e.changeQty(1,e.integralInfo),e.integralList[n]=e.integralInfo,l&&$("#productInfoModal").modal("show")):e.overtime(t)},function(e){}):(e.integralInfo=u,l&&$("#productInfoModal").modal("show")),!s&&$("#exchangeInfoModal").modal("show")},e.pageInit=function(r){e.getActiveTimes=function(){o.get(t.INTEGRAL_MALL_ACTIVE_TIMES,{}).then(function(t){"000000"===t.code&&(++e.loadCount,e.timeInfo=t.data,e.activityTimeList=e.timeInfo.activeTimes,e.startTimeList=[],angular.forEach(e.activityTimeList,function(t,o,n){var s=i("date")(t,"yyyy-MM-dd HH:mm:ss"),l=s.substring(11,16);e.startTimeList.push(l);var c={page:1,rows:4,activeTime:t,userId:r&&a.id?a.id:""};e.fetchActiveExchangeList(c,l,t,o)}))},function(e){})},e.getActiveTimes(),e.reload(!0,[1,2],!0),o.post(t.INTERGAL_LOTTERY_CODE,{}).then(function(t){"000000"===t.code&&(e.lotteryCode=t.data?t.data.code:"")},function(e){}),r?o.post(t.INTEGRAL_IS_SIGN_TODAY,{}).then(function(t){"000000"===t.code&&(e.isSignToday=t.data?t.data.signToday:!1)},function(e){}):o.post(t.GET_SUM_INTEGRAL,{}).then(function(t){"000000"===t.code&&(e.signIntegral=t.data.signIntegral,e.exchangeIntegral=t.data.exchangeIntegral)},function(e){}),e.$watch("loadCount",function(t){t>1&&(e.loading=!1)})},e.fetchActiveExchangeList=function(r,i,a,l){0==l?o.post(t.INTEGRAL_MALL_ACTIVE_EXCHANGE_LIST,r).then(function(t){"000000"===t.code&&(e.killList1=t.data.list,e.killList1&&e.killList1.length>0&&angular.forEach(e.killList1,function(e,t,o){var r=(new Date).getTime(),l=e;l.remainstock=e.remainStock,l.startTime=i,l.startTimeInMs=a,l.timePeriod=l.startTimeInMs-r,l.timePeriodInSeconds=Math.ceil(l.timePeriod/1e3),l.isCountDown=!1,l.timePeriod>0?(l.isCountDown=!0,l.countdownTime=s.nowToRangeGivenTime(l.timePeriodInSeconds),l.intervalPromise=n(function(){this.countdownTime=s.nowToRangeGivenTime(--this.timePeriodInSeconds),"00"==this.countdownTime.hour&&"00"==this.countdownTime.minute&&"00"==this.countdownTime.second&&(l.isCountDown=!1)}.bind(l),1e3,l.timePeriodInSeconds)):l.isCountDown=!1}))},function(e){}):o.post(t.INTEGRAL_MALL_ACTIVE_EXCHANGE_LIST,r).then(function(t){"000000"===t.code&&(e.killList2=t.data.list,e.killList2&&e.killList2.length>0&&angular.forEach(e.killList2,function(e,t,o){var r=(new Date).getTime(),l=e;l.remainstock=e.remainStock,l.startTime=i,l.startTimeInMs=a,l.timePeriod=l.startTimeInMs-r,l.timePeriodInSeconds=Math.ceil(l.timePeriod/1e3),l.isCountDown=!1,l.timePeriod>0?(l.isCountDown=!0,l.countdownTime=s.nowToRangeGivenTime(l.timePeriodInSeconds),l.intervalPromise=n(function(){this.countdownTime=s.nowToRangeGivenTime(--this.timePeriodInSeconds),"00"==this.countdownTime.hour&&"00"==this.countdownTime.minute&&"00"==this.countdownTime.second&&(l.isCountDown=!1)}.bind(l),1e3,l.timePeriodInSeconds)):l.isCountDown=!1}))},function(e){})}}])},{15:15}],32:[function(e,t,o){"use strict";{var r=e(15);e("swiper")}r.controller("IntegralsLotteryCtrl",["$scope","$http","request","api","$timeout","$interval","utils",function(e,t,o,r,n,i,a){function s(e){$(e).find("ul:first").animate({top:"-25px"},500,function(){$(this).css({top:"0px"}).find("li:first").appendTo(this)})}e.urlParams=a.getUrlParams();var l=e.urlParams.lotteryCode;e.recordsList=[],e.useintegral=0;var c=0;$(".right-banner").hide(),e.loadingRecords=!0,e.isRotating=!1;e.lotteryTip={},e.recordsInfo={},e.originRecordsInfo={},e.vr={},e.xm={},e.rb={},e.userRecordsInfo={};var d=0,u=0;e.lotteryCount=0;{var h;window._appConfig.proxyPath}e.recordsParams={code:l,page:1,rows:10};var p,f,g,m,v,y,w,b=1,I=8,T=300,d=!1;e.loggedIn=window.loggedIn,e.domainCollectUsers=0,e.commonModal={headerTitle:"提示"};var C,m={recordsParams:{code:l,page:1,rows:100},lotteryTotalRecords:"",userTotalRecords:0,initData:function(){var t=new Date;t.setDate(t.getDate()-1);var o=t.getDate();e.deadlineDate=o,e.loginLink="/login?from="+encodeURIComponent(window.location.href),window.loggedIn&&m.updateLotteryInfo(),m.getPrizeList(),m.reloadEntityRecords(),m.reloadLotteryRecords(m.recordsParams)},updateLotteryInfo:function(){o.post(r.INTERGAL_ACCOUNT,{code:l}).then(function(t){"000000"===t.code?e.useintegral=t.data.useintegral<0?0:t.data.useintegral:e.errorMsg=t.msg},function(e){}),o.post(r.INTEGRAL_LOTTERY_CONFIG,{code:l}).then(function(t){"000000"===t.code?(e.consumeintegral=t.data.consumeintegral,e.surplusnum=t.data.surplusnum):e.errorMsg=t.msg},function(e){})},getPrizeList:function(){o.post(r.INTEGRAL_REWARDS_LIST,{code:l}).then(function(t){if("000000"===t.code)if("integral.market000000"==t.data.ResultCode){e.prizeList=t.data.list;for(var o=0;o<e.prizeList.length;o++)0==o||4==o||8==o||12==o?e.prizeList[o].className="green-bg":1==o||3==o||5==o||7==o||9==o||11==o||13==o||15==o?e.prizeList[o].className="yellow-bg":(2==o||6==o||10==o||14==o)&&(e.prizeList[o].className="red-bg")}else m.showCommonModal("确认","modal",!1,t.data.ResultMessage,"");else e.errorMsg=t.msg,m.showCommonModal("确认","modal",!1,t.msg,"")},function(e){})},reloadLotteryRecords:function(t){e.recordsList=[],o.post(r.INTEGRAL_LOTTERY_RECORDS,t).then(function(t){"000000"===t.code?(c+=1,e.loadingRecords=!1,e.recordsInfo=t.data,m.lotteryTotalRecords=t.data.total,e.originRecordsInfo=t.data,c=0,y&&clearInterval(y),setTimeout(function(){y=setInterval(function(){e.originRecordsInfo.list&&e.originRecordsInfo.list.length>12&&s("#scrollDiv")},2e3)},700)):(e.recordsInfo.totalRecord=0,e.errorMsg=t.msg),e.$broadcast("lazyLoadingFinished")},function(e){})},reloadEntityRecords:function(){var t={code:l,page:1,rows:3,isRecommend:1};e.recordsList=[],o.post(r.INTEGRAL_LOTTERY_RECORDS,t).then(function(t){"000000"===t.code?(c+=1,e.loadingRecords=!1,e.entityRecordsInfo=t.data,c=0,v&&clearInterval(v),setTimeout(function(){v=setInterval(function(){s("#shortScrollDiv")},2e3)},0)):(e.entityRecordsInfo.totalRecord=0,e.errorMsg=t.msg)},function(e){})},getLotteryResult:function(){o.post(r.INTEGRAL_LOTTERY,{code:l}).then(function(t){"000000"===t.code?(e.lotteryData={},e.lotteryData=t.data,"integral.market000000"==t.data.ResultCode?m.startLottery(e.lotteryData):"integral.market000006"==t.data.ResultCode?(m.updateLotteryInfo(),m.showCommonModal("确认","modal",!1,t.data.ResultMessage,""),e.isRotating=!e.isRotating):"integral.market000004"==t.data.ResultCode?(m.showCommonModal("买标赚积分","no",!1,"您的积分不足，购买标可以赚取更多积分！","取消","/investment-list",!1,!0),e.isRotating=!e.isRotating):(m.showCommonModal("确认","modal",!1,t.data.ResultMessage,""),e.isRotating=!e.isRotating)):"000005"===t.code||"000003"===t.code?location.href=e.loginLink:(e.isRotating=!e.isRotating,e.errorMsg=t.msg,m.showCommonModal("确认","modal",!1,t.msg,""))},function(t){e.isRotating=!e.isRotating,e.errorMsg=t.msg,m.showCommonModal("确认","modal",!1,"服务器忙,请稍后再试","")})},showCommonModal:function(t,o,r,n,i,a,s){e.commonModal.btnText=t,e.commonModal.dataDismiss=o,e.commonModal.showTitle=r,e.commonModal.contentDetail=n,e.commonModal.btnText2=i,e.commonModal.btnHref=a,e.commonModal.covertActive=s,e.$$phase||e.$apply(),$(".db-lottery-common-modal").modal("show")},reloadUserReords:function(t){o.post(r.INTEGRAL_USER_LOTTERY_RECORDS,t).then(function(t){"000000"===t.code?(e.userRecordsInfo=t.data,m.userTotalRecords=t.data.total,e.fromePageChange||e.$broadcast("resetPagination",m.userTotalRecords),e.fromePageChange=!1,0===u&&t.data.total>0&&($(".pagination li").remove("li:first-child"),$(".pagination").find("li").last().remove(),u=1)):(e.userRecordsInfo.total=0,e.errorMsg=t.msg)},function(e){})},startLottery:function(t){function o(e,t){var o=t-e,r=Math.random();return e+Math.round(r*o)}"no_reward"!=t.lucky&&(t.lucky=t.prizeid);e.lotteryTip=t,g=parseInt(g),d=!0,b=0,p=o(6,15),f=1,I=15,T=150,m.showLottery(t.lucky)},getIndexById:function(t){if("no_reward"==t)return 16;for(var o=0;o<e.prizeList.length;o++)if(t==e.prizeList[o].prizeid)return o},showLottery:function(t){var o=m.getIndexById(t);b>I&&(b=0,f--),$("#lottery-wrapper li").find("img.award-light").hide(),$("#lottery-wrapper li").find("img.award-normal").show();var r=b-1;m.backPostion(r),setTimeout(function(){m.standOutPosition(b),b>p&&(T=80),0>=f&&o==b||o==b&&15==o?(e.isRotating=!e.isRotating,m.backPostion(r),h=b,m.updateLotteryInfo(),e.recordsParams.page=1,m.reloadUserReords(e.recordsParams),e.loadingRecords=!0,m.reloadEntityRecords(),m.reloadLotteryRecords(m.recordsParams),-1==e.lotteryData.prizetips.indexOf("谢谢参与")?$(".lottery-tip-modal").modal("show"):m.showCommonModal("确认","modal",!1,e.lotteryData.prizetips,""),clearInterval(C),clearTimeout(w)):w=setTimeout(function(){m.showLottery(t)},T),b++},0)},standOutPosition:function(e){"0"==e||"1"==e||"2"==e||"3"==e||"4"==e?$("#lottery_"+e).animate({top:"-15px"},50):"5"==e||"6"==e||"7"==e?$("#lottery_"+e).animate({left:"839px"},50):"8"==e||"9"==e||"10"==e||"11"==e||"12"==e?$("#lottery_"+e).animate({top:"495px"},50):("13"==e||"14"==e||"15"==e)&&$("#lottery_"+e).animate({left:"-15px"},50)},backPostion:function(e){"0"==e||"1"==e||"2"==e||"3"==e||"4"==e?$("#lottery_"+e).animate({top:"0px"},50):"5"==e||"6"==e||"7"==e?$("#lottery_"+e).animate({left:"824px"},50):"8"==e||"9"==e||"10"==e||"11"==e||"12"==e?$("#lottery_"+e).animate({top:"480px"},50):"13"==e||"14"==e||"15"==e?$("#lottery_"+e).animate({left:"0px"},50):"16"==e?$("#lottery_15").animate({left:"0px"},50):"-1"==e&&$("#lottery_15").animate({left:"0px"},50)}};m.initData(),e.lotteryGo=function(){return e.isRotating?!1:window.loggedIn?(e.isRotating=!e.isRotating,void m.getLotteryResult()):(m.showCommonModal("立即登录","no",!0,"您还未登录，请先登录！","",e.loginLink),!1)},e.openRuleModal=function(){$(".lottery-rule-modal").modal("show")},e.userTab=!1,$('.integrals-lottery-wrapper a[data-toggle="tab"]').on("show.bs.tab",function(t){var o=$(t.target).attr("href");if("#records-list-tab"==o)e.userTab=!1;else if("#user-records-tab"==o){if(!e.loggedIn)return m.showCommonModal("立即登录","no",!1,"您还未登录，请先登录！","",e.loginLink),!1;e.userTab=!0,e.recordsParams.page=1,m.reloadUserReords(e.recordsParams)}e.$$phase||e.$apply()}),$(".lottery-tip-modal,.db-lottery-common-modal").on("hidden.bs.modal",function(e){m.backPostion(h)}),e.$on("pageChange",function(t,o){e.recordsParams.page=o;e.fromePageChange=!0,m.reloadUserReords(e.recordsParams)})}])},{15:15,swiper:"swiper"}],33:[function(e,t,o){"use strict";var r=e(15),n=e(9).Base64;r.controller("MidAutumnFestivalCtrl",["$scope","$http","request","api","$filter","$interval","utils",function(e,t,o,r,i,a,s){e.urlParams=s.getUrlParams();var l=window._appConfig.proxyPath;e.loggedIn=window.loggedIn,e.loading=!0;var c=!1;e.phoneChange=function(){c&&(/^1\d{10}$/.test(e.telphone)?e.showErrorMsg=!1:(e.validPhoneMsg="手机号码格式错误",e.showErrorMsg=!0),e.telphone&&""!=e.telphone||(e.validPhoneMsg="手机号码不能为空",e.showErrorMsg=!0))},e.verifyCodeChange=function(){if(c){if(!e.verifyCode||""==e.verifyCode)return e.validPhoneMsg="验证码不能为空",e.showVerifyMsg=!0,!1;e.showVerifyMsg=!1}},e.getCoupons=function(){return c=!0,e.telphone&&""!=e.telphone?/^1\d{10}$/.test(e.telphone)?e.verifyCode&&""!=e.verifyCode?void d():(e.validPhoneMsg="验证码不能为空",e.showVerifyMsg=!0,e.showErrorMsg=!1,!1):(e.validPhoneMsg="手机号码格式错误",e.showErrorMsg=!0,e.showVerifyMsg=!1,!1):(e.validPhoneMsg="手机号码不能为空",e.showErrorMsg=!0,e.showVerifyMsg=!1,!1)},e.refreshVerifyCode=function(){var t=i("date"),o=t(new Date,"yyyyMMddHHmmss")+Math.random();e.uid=n.encode(o);var a=l+r.YEAR_END_GET_VERIFYCODE+"?uid="+e.uid;e.verifyCodeUrl=a},e.refreshVerifyCode(),e.active=!0,e.loading=!1;var d=function(){var t={verifyCode:e.verifyCode,uid:e.uid};o.post(r.YEAR_END_VERIFY_CODE,t).then(function(t){"000000"===t.code?t.data.data?u():(e.validPhoneMsg="验证码错误",e.showVerifyMsg=!0,e.showErrorMsg=!1,e.refreshVerifyCode()):e.errorMsg=t.msg},function(t){e.errorMsg=t.msg})},u=function(){o.post(r.GET_MID_AUTUMN_COUPONS,{tel:e.telphone}).then(function(t){"000000"===t.code?(e.showResult=!0,e.dataInfo=t.data):e.errorMsg=t.msg},function(t){e.errorMsg=t.msg})}}])},{15:15,9:9}],34:[function(e,t,o){"use strict";var r=e(15),n=e(9).Base64;r.controller("MiddleYearBonusCtrl",["$scope","$http","request","api","$filter","$interval","utils",function(e,t,o,r,i,a,s){$(".right-banner").hide(),e.urlParams=s.getUrlParams();var l=(e.urlParams.lotteryCode,window._appConfig.proxyPath);e.loggedIn=window.loggedIn,e.loading=!0;var c=!1;e.phoneChange=function(){c&&(/^1\d{10}$/.test(e.telphone)?e.showErrorMsg=!1:(e.validPhoneMsg="手机号码格式错误",e.showErrorMsg=!0),e.telphone&&""!=e.telphone||(e.validPhoneMsg="手机号码不能为空",e.showErrorMsg=!0))},e.verifyCodeChange=function(){if(c){if(!e.verifyCode||""==e.verifyCode)return e.validPhoneMsg="验证码不能为空",e.showVerifyMsg=!0,!1;e.showVerifyMsg=!1}},e.getCoupons=function(){if(e.loggedIn)p();else{if(c=!0,!e.telphone||""==e.telphone)return e.validPhoneMsg="手机号码不能为空",e.showErrorMsg=!0,e.showVerifyMsg=!1,!1;if(!/^1\d{10}$/.test(e.telphone))return e.validPhoneMsg="手机号码格式错误",e.showErrorMsg=!0,e.showVerifyMsg=!1,!1;if(!e.verifyCode||""==e.verifyCode)return e.validPhoneMsg="验证码不能为空",e.showVerifyMsg=!0,e.showErrorMsg=!1,!1;h()}},e.refreshVerifyCode=function(){var t=i("date"),o=t(new Date,"yyyyMMddHHmmss")+Math.random();e.uid=n.encode(o);var a=l+r.YEAR_END_GET_VERIFYCODE+"?uid="+e.uid;e.verifyCodeUrl=a},e.refreshVerifyCode(),e.active=!0,e.activityNotStart=!1,e.activityEnded=!1;var d=function(){var t=new Date,o=new Date(Date.parse("2017/07/05")),r=new Date(Date.parse("2017/07/31 23:59:59"));o>t?(e.activityNotStart=!0,e.active=!1):t>r?(e.activityEnded=!0,e.active=!1):e.active=!0},u=function(){o.post(r.IS_GET_MID_YEAR_BONUS,{}).then(function(t){"000000"===t.code?1==t.data.intResult?(e.showResult=!0,e.initGetFlag=!0,e.money=t.data.resultMsg,p()):(e.showResult=!1,d()):(e.errorMsg=t.msg,d())},function(t){e.errorMsg=t.msg})};u();var h=function(){var t={verifyCode:e.verifyCode,uid:e.uid};o.post(r.YEAR_END_VERIFY_CODE,t).then(function(t){"000000"===t.code?t.data.data?p():(e.validPhoneMsg="验证码错误",e.showVerifyMsg=!0,e.showErrorMsg=!1,e.refreshVerifyCode()):e.errorMsg=t.msg},function(t){e.errorMsg=t.msg})},p=function(){o.post(r.GET_MID_YEAR_BONUS,{userTel:e.telphone}).then(function(t){"000000"===t.code?(2==t.data.result&&(e.initGetFlag=!0,e.money=t.data.data),e.showResult=!0,e.resultMsg=t.data.resultMsg):e.errorMsg=t.msg},function(t){e.errorMsg=t.msg})},f=function(){o.post(r.USER_INFO,{}).then(function(t){"000000"===t.code?(e.telphone=t.data.tel,e.username=t.data.name,o.post(r.MY_ACCOUNT_BASE,{}).then(function(t){e.loading=!1,"000000"===t.code?e.username=1==t.data.isChinapnr?t.data.name:t.data.name:e.errorMsg=t.msg},function(t){e.errorMsg="服务器繁忙,请稍后再试"})):e.errorMsg=t.msg},function(t){e.errorMsg="服务器繁忙,请稍后再试"})};e.loggedIn?f():e.loading=!1}])},{15:15,9:9}],35:[function(e,t,o){"use strict";var r=e(15),n=e(9).Base64;r.controller("PopLoginCtrl",["$scope","$http","request","api","$timeout","utils","$filter","$cookies",function(e,t,o,r,i,a,s,l){function c(){e.errorMsgPopShow=!1,e.errorNameMsgShow=!1,e.errorPasswordMsgShow=!1,e.errorVerifycodeMsgShow=!1}function d(e,t,o){var r=new Date;r.setDate(r.getDate()+o),document.cookie=e+"="+escape(t)+(null==o?"":";expires="+r.toGMTString())}var u={type:2,uid:""};e.hideLogin=function(){c(),$("#login-modal").modal("hide"),$("#login-modal form")[0].reset()},e.pageInit=function(){var t=s("date");e.showVerfiyCode=!1,e.user={loginName:"",verifyCode:"",password:""},e.user.loginName=l.username?l.username:"",e.checked=!0,e.formInfo={isSubmitting:!1,buttonText:"登录",checked:!0};var i=window._appConfig.proxyPath;e.refreshVerifyCode=function(){var o=t(new Date,"yyyyMMddHHmmss")+Math.random();u.uid=n.encode(o);var a=i+r.VERIFY_CODE+"?type="+u.type+"&uid="+u.uid;e.verifyCodeUrl=a},e.refreshVerifyCode(),e.ckNeedVerifyCode=function(){var t={loginName:e.user.loginName};o.post(r.CHECK_NEED_VERIFY_CODE,t).then(function(t){"000000"===t.code&&t.data&&(e.showVerfiyCode=t.data.data?t.data.data:!1)},function(e){})},e.ckNeedVerifyCode()},e.pageInit();var h=/^[\/.a-zA-Z0-9_-]{2,30}[\/@]*[\/.a-zA-Z0-9_-]{0,30}$/;e.checkName=function(){return e.user.loginName?e.user.loginName.match(h)?(e.errorMsgPopShow=!1,e.errorNameMsgShow=!1,!0):(e.errorMsgPopShow=!0,e.errorMsgPop="用户名无效",e.errorNameMsgShow=!0,!1):(e.errorMsgPopShow=!0,e.errorMsgPop="填写用户名",e.errorNameMsgShow=!0,!1)},e.checkVerifyCode=function(){return e.user.verifyCode?4!==e.user.verifyCode.length?(e.errorMsgPopShow=!0,e.errorMsgPop="填写有效验证码",e.errorVerifycodeMsgShow=!0,!1):(e.errorMsgPopShow=!1,e.errorVerifycodeMsgShow=!1,!0):(e.errorMsgPopShow=!0,e.errorMsgPop="填写验证码",e.errorVerifycodeMsgShow=!0,!1)},e.checkPassword=function(){return e.user.password?e.user.password.length<6||e.user.password.length>16?(e.errorMsgPopShow=!0,e.errorMsgPop="密码长度为6到16位字符",e.errorPasswordMsgShow=!0,!1):(e.errorMsgPopShow=!1,e.errorPasswordMsgShow=!1,!0):(e.errorMsgPopShow=!0,e.errorMsgPop="填写密码",e.errorPasswordMsgShow=!0,!1)},e.login=function(){e.checkName()&&e.checkPassword()&&(!e.showVerfiyCode||e.checkVerifyCode())&&(u.loginName=e.user.loginName,u.password=e.user.password,e.showVerfiyCode&&(u.verifyCode=e.user.verifyCode),e.remUsername(),e.formInfo={isSubmitting:!0,buttonText:"登录中..."},o.post(r.LOGIN,u).then(function(t){c(),"000000"===t.code?(-1==document.cookie.indexOf("firstLogin")&&d("firstLogin",1,700),window.location.reload()):(e.formInfo={isSubmitting:!1,buttonText:"登录"},e.errorMsgPopShow=!0,e.errorMsgPop=t.msg,e.refreshVerifyCode(),"101006"!=t.code&&e.ckNeedVerifyCode())},function(e){}))},e.remUsername=function(){var t=$("#remuser").prop("checked");t?d("username",e.user.loginName,30):d("username","",-1)}}])},{15:15,9:9}],36:[function(e,t,o){"use strict";{var r=e(15);e(9).Base64}e(54),r.controller("PopOpenAccountCtrl",["$scope","$http","request","api","$timeout","utils","$filter",function(e,t,o,r,n,i,a){function s(){e.errorRealNameShow=!1,e.errorIdNoShow=!1,e.errorHsTelCodeShow=!1,e.errorBankCardShow=!1,e.errorBankIdShow=!1,e.errorBankProvShow=!1,e.commonErrorShow=!1}function l(){window.phoneCodeID=setInterval(function(){0>=p?(clearInterval(window.phoneCodeID),e.codeSending=!1,p=60,e.sendType="重新获取"):(--p,e.sendType=p+"秒后重新发送"),e.$apply()},1e3)}var c=window.location.href;e.jQueryNiceScroll=function(){$(".bank-list ul").niceScroll({cursorborder:"",cursorcolor:"#ccc",background:"#eee",autohidemode:!1,cursorwidth:6})},e.formInfo={isSubmitting:!1,btnText:"立即开通"},e.pageInit=function(){window.loggedIn&&(o.post(r.USER_INFO,{}).then(function(t){"000000"===t.code&&(e.info=t.data,e.hs.tel=e.info.tel)},function(e){}),o.post(r.RECHARGE_BANK_LIST,{type:1}).then(function(t){if("000000"===t.code){e.myBankList=t.data;var i=[],a=[],s=e.myBankList.bankList;s&&s.length>0&&angular.forEach(s,function(e){1!=e.expressFlag?i.push(e):a.push(e)}),e.expressDisplayBindingCards=a.length>0?a:i,e.myBankListInNormal=i,e.myBankListExpress=a,o.post(r.BANK_LIST,{type:1}).then(function(t){if("000000"===t.code){if(e.expressBankList=t.data.items,e.expressDisplayBindingCards.length<=0){var o=e.expressBankList[0];o.selected=!0,e.expressSelectedCard=o}n(function(){e.jQueryNiceScroll()},500)}},function(e){});var l=e.expressDisplayBindingCards.length;if(l>0){for(var c=!1,d={},u=l-1;u>=0&&!c;u--){var h=e.expressDisplayBindingCards[u];if(!h.bankUsable||"0"!==h.bankUsable.bankUsableVal){h.selected=!0,d=h;var p=e.expressDisplayBindingCards[u+1];p&&(p.selected=!1),"1"==h.isDefault&&(c=!0)}}e.expressSelectedCard=d}}},function(e){}),o.post(r.SHB_ONE_LEVEL_CAPITAL,{}).then(function(t){"000000"===t.code?e.provinceList=t.data.list:("000003"===t.code||"000005"===t.code)&&(window.location.href="/login?from="+encodeURIComponent(c))},function(e){}))},$(function(){$(".pop-form-wrapper.open-account-wrapper").on("show.bs.modal",function(){e.pageInit()})}),e.hideOpenAccount=function(){$("#open-account-modal").hide(),$(".modal-backdrop").hide(),$("html,body").css("overflow","auto")},e.showArea=!1,document.onclick=function(){e.showArea=!1,e.$apply()},e.showProvince=function(t){var o=t||window.event;o.stopPropagation?o.stopPropagation():window.event&&(window.event.cancelBubble=!0),e.showArea=!e.showArea,$(".area-menu").addClass("active")},$(".open-account-wrapper .province").click(function(e){var t=e||window.event;t.stopPropagation?t.stopPropagation():window.event&&(window.event.cancelBubble=!0)}),$(".open-account-wrapper .nav-tabs a").click(function(t){if(t.preventDefault(),1==$(this).parent().index()){if(!e.provId)return e.errorBankProvShow=!0,e.errorBankProv="请选择省份",e.$$phase||e.$apply(),!1;e.reqCityList()}$(this).tab("show")}),e.hs={realname:"",idcard:"",tel:"",idType:"00",bankcard:"",smsCode:"666666",smsSeq:"",provId:"",areaId:"",bankId:""},e.bankName="",$(".bank-list").on("click","li",function(){$(this).addClass("selected").siblings("li").removeClass("selected"),e.hs.bankId=$(this).attr("bankId"),e.errorBankIdShow=!1,$(".select-bank-msg").attr("class","select-bank-msg logo-bank "+e.hs.bankId).show(),e.$$phase||e.$apply(),e.showCity=!1}),e.reqCityList=function(){o.post(r.SHB_TWO_LEVEL_CAPITAL,{code:e.provId}).then(function(t){"000000"===t.code?e.cityList=t.data.list:("000003"===t.code||"000005"===t.code)&&(window.location.href="/login?from="+encodeURIComponent(c))},function(e){})},e.selectArea=function(t,o,r){0==t?($("#province span").removeClass("active"),$("#city span").removeClass("active"),$(o.target).addClass("active"),e.bankArea=e.provinceName=r.name,e.provId=e.hs.provId=r.code,e.areaId=e.hs.areaId="",$(".province .nav-tabs a[href$=city]").trigger("click")):1==t&&($("#city span").removeClass("active"),$(o.target).addClass("active"),e.bankArea=e.provinceName+" "+r.name,e.areaId=r.code,e.hs.areaId=r.code,e.showArea=!1,e.errorBankProvShow=!1,$(".area-menu").removeClass("active")),$(".area-label").hide()};var d=/^[\u4E00-\u9FA5]+(·[\u4E00-\u9FA5]+)*$/,u=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,h=/^[0-9]*$/;e.checkHsName=function(){return e.hs.realname?e.hs.realname.length>18||!e.hs.realname.match(d)?(e.errorRealNameShow=!0,e.errorRealName="真实姓名格式错误",!1):(e.errorRealNameShow=!1,!0):(e.errorRealNameShow=!0,e.errorRealName="真实姓名不能为空",!1)},e.checkHsIdNo=function(){return e.hs.idcard?e.hs.idcard.length<15||e.hs.idcard.length>18?(e.errorIdNoShow=!0,e.errorIdNo="您的身份证号不正确",!1):e.hs.idcard.match(u)?(e.errorIdNoShow=!1,!0):(e.errorIdNoShow=!0,e.errorIdNo="您的身份证校验位不正确",!1):(e.errorIdNoShow=!0,e.errorIdNo="身份证号不能为空",!1)},e.checkHsTelCode=function(){return e.hs.smsCode?6!==e.hs.smsCode.length?(e.errorHsTelCodeShow=!0,e.errorHsTelCode="请输入有效的短信验证码",!1):e.hs.smsSeq?(e.errorHsTelCodeShow=!1,!0):(e.errorHsTelCodeShow=!0,e.errorHsTelCode="请重新获取短信验证码",!1):(e.errorHsTelCodeShow=!0,e.errorHsTelCode="手机验证码不能为空",!1)},e.checkBankCard=function(){return e.hs.bankcard?e.hs.bankcard.match(h)?(e.errorBankCardShow=!1,!0):(e.errorBankCardShow=!0,e.errorBankCard="借记卡卡号仅支持数字",!1):(e.errorBankCardShow=!0,e.errorBankCard="借记卡卡号不能为空",!1)},e.checkHsBankName=function(){return e.hs.bankId?(e.errorBankIdShow=!1,!0):(e.errorBankIdShow=!0,e.errorBankId="请选择银行",!1)},e.checkArea=function(){return e.hs.provId?e.hs.areaId?!0:(e.errorBankProvShow=!0,e.errorBankProv="请选择城市",!1):(e.errorBankProvShow=!0,e.errorBankProv="请选择省份",!1)},e.sendType="获取验证码";var p=60;e.sendHsSmsCode=function(){e.codeSending||e.checkHsName()&&e.checkHsIdNo()&&e.checkBankCard()&&e.checkHsBankName()&&e.checkArea()&&(e.sendParams={usrMp:e.hs.tel,busiType:"user_register",openAcctId:e.hs.bankcard},e.codeSending=!0,e.sendType="获取中...",o.post(r.SHB_SEND_SMS_CODE,e.sendParams).then(function(t){s(),"000000"===t.code?"000"===t.data.respCode?(e.requestedCode=!0,e.hs.smsSeq=t.data.smsSeq,e.hs.smsSeq="AAAAAAAA",e.successCodeMsgShow=!0,l()):(e.codeSending=!1,e.commonErrorShow=!0,e.commonError=t.data.respDesc,e.requestedCode=!1,e.sendType="重新获取"):"000003"===t.code||"000005"===t.code?window.location.href="/login?from="+encodeURIComponent(c):(e.codeSending=!1,e.commonErrorShow=!0,e.commonError=t.msg,e.requestedCode=!1,e.sendType="重新获取")},function(t){e.sendType="重新获取",e.codeHsSending=!1,e.requestedCode=!1}))},e.openHSAccount=function(){if(!e.formInfo.isSubmitting&&e.checkHsName()&&e.checkHsIdNo()&&e.checkBankCard()&&e.checkHsBankName()&&e.checkArea()&&e.checkHsTelCode()){e.formInfo={isSubmitting:!0,btnText:"开通中...",checked:!0};var t=$("#third-agreement").prop("checked");if(t){var n=$(".pop-form-wrapper.open-account-wrapper").attr("retUrl");sessionStorage.setItem("backUrl",encodeURIComponent(window.location.href));var i={bankId:e.hs.bankId,cardId:e.hs.bankcard,idType:e.hs.idType,idNo:e.hs.idcard,smsCode:e.hs.smsCode,smsSeq:e.hs.smsSeq,usrName:e.hs.realname,usrMp:e.hs.tel,provId:e.hs.provId,areaId:e.hs.areaId,retUrl:window.location.origin+n};o.post(r.SHB_USER_REGISTER,i).then(function(t){if(s(),"000000"===t.code){var o=t.data;"000000"===o.code?window.location.href=o.chinapnrUrl:(e.commonErrorShow=!0,e.commonError=t.data.resultMsg,e.formInfo={isSubmitting:!1,btnText:"立即开通",checked:!0})}else"000003"===t.code||"000005"===t.code?window.location.href="/login?from="+encodeURIComponent(c):(e.commonErrorShow=!0,e.commonError=t.msg,e.formInfo={isSubmitting:!1,btnText:"立即开通",checked:!0})},function(t){e.formInfo={isSubmitting:!1,btnText:"立即开通",checked:!0}})}else e.commonErrorShow=!0,e.commonError="请勾选《上海银行网络交易资金账号服务三方协议》！"}}}])},{15:15,54:54,9:9}],37:[function(e,t,o){"use strict";var r=e(15),n=e(9).Base64;r.controller("PopRegisterCtrl",["$scope","$http","request","api","$timeout","utils","$filter",function(e,t,o,r,i,a,s){
function l(){e.errorPhoneMsgShow=!1,e.errorCodeMsgShow=!1,e.errorPhoneCodeMsgShow=!1,e.errorPasswordMsgShow=!1,e.errorRegMsgShow=!1}function c(){window.phoneCodeID=setInterval(function(){0>=u?(clearInterval(window.phoneCodeID),e.codeSending=!1,u=60,e.sendType="重新发送"):(e.codeSending=!0,--u,e.sendType=u+"秒后可重发"),e.$apply()},1e3)}var d={type:1,uid:""};e.showReccomend=!1,e.ctrlReccomend=function(){e.showReccomend=!e.showReccomend},$(".send-code").click(function(){$(".send-code.form-control").hasClass("has-error")||$(this).css("border-color","#3388E0")}),e.loseFocus=function(){$(".send-code.form-control").hasClass("has-error")||$(".send-code").css("border-color","#dddddd")},e.pageInit=function(){var t=s("date");e.user={tel:"",verifyCode:"",phoneCode:"",password:"",confirmPassword:"",recommend:a.getUrlParams().referralCode?a.getUrlParams().referralCode:""},e.checked=!0,e.formInfo={isSubmitting:!1,buttonText:"立即注册",checked:!0};var o=window._appConfig.proxyPath;e.refreshVerifyCode=function(){var i=t(new Date,"yyyyMMddHHmmss")+Math.random();d.uid=n.encode(i);var a=o+r.VERIFY_CODE+"?type="+d.type+"&uid="+d.uid;e.verifyCodeUrl=a},e.refreshVerifyCode()},e.pageInit(),e.hideTip=function(){$("#registerTipModal").modal("hide")},e.hideRegister=function(){l(),$("#register-modal form")[0].reset(),$("#register-modal").modal("hide")},e.sendType="获取验证码";var u=60,h=/^1[0-9]{10}$/;e.checkPhone=function(){return e.user.tel?e.user.tel.match(h)?(e.errorPhoneMsgShow=!1,!0):(e.errorPhoneMsgShow=!0,e.errorPhoneMsg="填写有效手机号码",!1):(e.errorPhoneMsgShow=!0,e.errorPhoneMsg="填写手机号码",!1)},e.checkVerifyCode=function(){return e.user.verifyCode?4!==e.user.verifyCode.length?(e.errorCodeMsgShow=!0,e.errorCodeMsg="填写有效验证码",!1):(e.errorCodeMsgShow=!1,!0):(e.errorCodeMsgShow=!0,e.errorCodeMsg="填写验证码",!1)},e.checkPhoneCode=function(){return e.user.phoneCode?6!==e.user.phoneCode.length?(e.errorBackCodeMsg="",e.errorPhoneCodeMsgShow=!0,e.errorPhoneCodeMsg="填写有效手机验证码",!1):(e.errorPhoneCodeMsgShow=!1,!0):(e.errorBackCodeMsg="",e.errorPhoneCodeMsgShow=!0,e.errorPhoneCodeMsg="填写手机验证码",!1)},e.checkPassword=function(){return e.user.password?e.user.password.length<6||e.user.password.length>16?(e.errorPasswordMsgShow=!0,e.errorPasswordMsg="密码长度为6到16位字符",e.isSafety=!1,!1):(e.errorPasswordMsgShow=!1,!0):(e.errorPasswordMsgShow=!0,e.errorPasswordMsg="填写密码",e.isSafety=!1,!1)},e.checkSafety=function(){var t=/(\d+)|([a-zA-Z]+)|([@#$%^&,. \/?';:=-_`~ *+"]+)/,o=/((\d+[@#$%^&,. \/?';:=-_`~ *+"]+)([@#$%^&,. \/?';:=-_`~ *+"]\d)*)|((\d+[a-zA-Z]+)(\d[a-zA-Z])*)|(([a-zA-Z]+[@#$%^&,. \/?';:=-_`~ *+"]+)([@#$%^&,. \/?';:=-_`~ *+"][a-zA-Z])*)|(([a-zA-Z]+\d+)(\d[a-zA-Z])*)/,r=/(((\d+[@#$%^&,. \/?';:=-_`~ *+"]+[a-zA-Z]+)(\d[a-zA-Z][@#$%^&,. \/?';:=-_`~ *+"])*)|((\d+[a-zA-Z]+[@#$%^&,. \/?';:=-_`~ *+"]+)(\d[a-zA-Z][@#$%^&,. \/?';:=-_`~ *+"])*)|(([@#$%^&,. \/?';:=-_`~ *+"]+\d+[a-zA-Z]+)(\d[a-zA-Z][@#$%^&,. \/?';:=-_`~ *+"])*)|(([@#$%^&,. \/?';:=-_`~ *+"]+a-zA-Z]+\d+)(\d[a-zA-Z][@#$%^&,. \/?';:=-_`~ *+"])*)|(([a-zA-Z]+\d+[@#$%^&,. \/?';:=-_`~ *+"]+)(\d[a-zA-Z][@#$%^&,. \/?';:=-_`~ *+"])*)|(([a-zA-Z]+[@#$%^&,. \/?';:=-_`~ *+"]+\d+)(\d[a-zA-Z][@#$%^&,. \/?';:=-_`~ *+"])*))/;return e.checkPassword()&&(t.test(e.user.password)&&(e.safeLevel=1,e.isSafety=!0),o.test(e.user.password)&&(e.safeLevel=2,e.isSafety=!0),r.test(e.user.password)&&(e.safeLevel=3,e.isSafety=!0)),e.errorConfirmPasswordMsgShow=!1,!0},e.sendPhoneCode=function(){e.checkPhone()&&e.checkVerifyCode()&&(e.codeSending||(e.codeSending=!0,d.verifyCode=e.user.verifyCode,d.tel=e.user.tel,o.post(r.SEND_PHONE_CODE,d).then(function(t){l(),"000000"===t.code?(e.successCodeMsgShow=!0,e.errorBackCodeMsg=t.data.validTime,c()):"101004"===t.code?(e.codeSending=!1,e.errorPhoneMsgShow=!0,e.errorPhoneMsg='该手机号已注册，请<a class="login-direct" href="/login">直接登录</a>',e.refreshVerifyCode()):"101006"===t.code?(e.codeSending=!1,e.errorCodeMsgShow=!0,e.errorCodeMsg="图片验证码错误，点击图片可刷新",e.refreshVerifyCode()):"101007"===t.code?(e.codeSending=!1,e.successCodeMsgShow=!1,e.errorPhoneCodeMsgShow=!0,e.errorPhoneCodeMsg=t.msg):(e.codeSending=!1,e.errorPhoneCodeMsgShow=!0,e.errorPhoneCodeMsg=t.msg,e.refreshVerifyCode())},function(e){})))},e.register=function(){if(e.checkPhone()&&e.checkVerifyCode()&&e.checkPhoneCode()&&e.checkPassword()){d.tel=e.user.tel,d.verifyCode=e.user.verifyCode,d.telCode=e.user.phoneCode,d.password=e.user.password,d.recommend=e.user.recommend?e.user.recommend:"";var t=$("#agreement").prop("checked");t?o.post(r.REGISTER,d).then(function(t){l(),"000000"===t.code?window.location.reload():("101007"===t.code?(e.errorPhoneCodeMsgShow=!0,e.errorPhoneCodeMsg=t.msg):"101004"===t.code?(e.errorPhoneMsgShow=!0,e.errorPhoneMsg=t.msg):"101006"===t.code?(e.errorCodeMsgShow=!0,e.errorCodeMsg=t.msg):(e.errorRegMsgShow=!0,e.errorRegMsg=t.msg),e.refreshVerifyCode())},function(e){}):(e.tipMsg="请同意《石投金融网站服务协议》！",$("#registerTipModal").modal("show"))}}}])},{15:15,9:9}],38:[function(e,t,o){"use strict";var r=e(15);r.controller("PublicAutumnCtrl",["$scope","request","api","utils",function(e,t,o,r){function n(){e.errorRealNameShow=!1,e.errorPhoneMsgShow=!1,e.errorMsg=""}e.formInfo={isSubmitting:!1,buttonText:"立即报名"},e.pageInit=function(){$(window).resize(),$(window).scroll()},$(window).resize(function(){$(".register-now").css("right",200);var e=($(window).width()-$(".container-activity").width())/2-15,t=$(".register-now").width()+15;e<parseInt($(".register-now").css("right"))+$(".register-now").width()?e>t?($(".register-now").css("right",t+(e-t)/2-$(".register-now").width()),$(".register-now").show()):$(".register-now").hide():$(".register-now").show()}),$(window).scroll(function(){var e=$(window).scrollTop();600>=e?$(".register-now").css("bottom","100px"):$(".register-now").css("bottom","50%")}),e.pageInit(),e.checkRealName=function(){if(!e.name)return e.errorRealNameShow=!0,e.errorMsg="请填写真实姓名",!1;var t=/^([\u4e00-\u9fa5]){2,11}$/;return t.test(e.name)?(e.errorRealNameShow=!1,e.errorMsg="",!0):(e.errorRealNameShow=!0,e.errorMsg="请填写有效的真实姓名",!1)},e.checkPhone=function(){if(!e.phone)return e.errorPhoneMsgShow=!0,e.errorMsg="请填写手机号码",!1;var t=/^1[0-9]{10}$/;return t.test(e.phone)?(e.errorPhoneMsgShow=!1,e.errorMsg="",!0):(e.errorPhoneMsgShow=!0,e.errorMsg="请填写有效的手机号码",!1)},e.register=function(){if(!e.formInfo.isSubmitting&&e.checkRealName()&&e.checkPhone()){e.formInfo={isSubmitting:!0,buttonText:"提交中..."};var r={name:e.name,tel:e.phone,groupKey:"GKR"};t.post(o.SEND_EMAIL,r).then(function(t){n(),"000000"===t.code?$("#send-email-modal").modal():(e.formInfo={isSubmitting:!1,buttonText:"立即报名"},e.errorMsg=t.msg)},function(e){})}},$("#send-email-modal").on("hide.bs.modal",function(){window.location.reload()})}])},{15:15}],39:[function(e,t,o){"use strict";var r=e(15),n=e("swiper");r.controller("PublicMarchCtrl",["$scope","request","api","utils","$timeout",function(e,t,o,r,i){function a(){var e=$(window).width(),t=(e-1e3)/2;$(".qr-wrapper").css({right:t-210}),1460>e&&$(".qr-wrapper").css({right:t-150}),$(".qr-wrapper").css(1280>=e?{top:330}:{top:400})}function s(){e.errorRealNameShow=!1,e.errorPhoneMsgShow=!1,e.errorMsg="",e.errorNameMsg=""}var l;i(function(){l=new n(".swiper-container",{autoplay:5e3,paginationClickable:!0,autoplayDisableOnInteraction:!1,loop:!0})},100),$(".left-arrow").click(function(e){e.preventDefault(),l.swipePrev()}),$(".right-arrow").click(function(e){e.preventDefault(),l.swipeNext()}),a(),$(window).resize(function(){a()}),e.pageInit=function(){var t=new Date;if("2017"==t.getFullYear()&&t.getMonth()+1=="5"){var o=t.getDate();e.formInfo=o>=22&&27>o?{isSubmitting:!1,buttonText:"立即报名"}:{isSubmitting:!0,buttonText:"本期报名结束"}}else e.formInfo={isSubmitting:!0,buttonText:"本期报名结束"};if("2017"==t.getFullYear()&&t.getMonth()+1=="7"){var r=t.getDate();e.lyFormInfo=r>=14&&21>r?{isLySubmitting:!1,buttonLyText:"立即报名"}:{isLySubmitting:!0,buttonLyText:"本期报名结束"}}else e.lyFormInfo={isLySubmitting:!0,buttonLyText:"本期报名结束"};if("2017"==t.getFullYear()&&t.getMonth()+1=="9"){var r=t.getDate();e.sepFormInfo=r>=7&&22>r?{isSepSubmitting:!1,buttonSepText:"立即报名"}:{isSepSubmitting:!0,buttonSepText:"本期报名结束"}}else e.sepFormInfo={isSepSubmitting:!0,buttonSepText:"本期报名结束"};$(window).resize(),$(window).scroll()},$(window).resize(function(){$(".register-now").css("right",200);var e=($(window).width()-$(".container-activity").width())/2-15,t=$(".register-now").width()+15;e<parseInt($(".register-now").css("right"))+$(".register-now").width()?e>t?($(".register-now").css("right",t+(e-t)/2-$(".register-now").width()),$(".register-now").show()):$(".register-now").hide():$(".register-now").show()}),$(window).scroll(function(){var e=$(window).scrollTop();600>=e?$(".register-now").css("bottom","100px"):$(".register-now").css("bottom","50%")}),e.pageInit(),s(),e.checkRealName=function(){if(!e.name)return e.errorRealNameShow=!0,e.errorNameMsg="请填写真实姓名",!1;var t=/^([\u4e00-\u9fa5]){2,11}$/;return t.test(e.name)?(e.errorRealNameShow=!1,e.errorNameMsg="",!0):(e.errorRealNameShow=!0,e.errorNameMsg="请填写有效的真实姓名",!1)},e.checkPhone=function(){if(!e.phone)return e.errorPhoneMsgShow=!0,e.errorMsg="请填写手机号码",!1;var t=/^1[0-9]{10}$/;return t.test(e.phone)?(e.errorPhoneMsgShow=!1,e.errorMsg="",!0):(e.errorPhoneMsgShow=!0,e.errorMsg="请填写有效的手机号码",!1)},e.register=function(){if(!e.formInfo.isSubmitting&&e.checkRealName()&&e.checkPhone()){e.formInfo={isSubmitting:!0,buttonText:"提交中..."};var r={name:e.name,tel:e.phone,groupKey:"GKR"};t.post(o.SEND_EMAIL,r).then(function(t){s(),"000000"===t.code?$("#send-email-modal").modal():(e.formInfo={isSubmitting:!1,buttonText:"立即报名"},e.errorMsg=t.msg)},function(e){})}},e.lyRegister=function(){if(!e.lyFormInfo.isLySubmitting&&e.checkRealName()&&e.checkPhone()){e.lyFormInfo={isLySubmitting:!0,buttonLyText:"提交中..."};var r={name:e.name,tel:e.phone,groupKey:"GKR"};t.post(o.SEND_EMAIL,r).then(function(t){s(),"000000"===t.code?$("#send-email-modal").modal():(e.lyFormInfo={isLySubmitting:!1,buttonLyText:"立即报名"},e.errorMsg=t.msg)},function(e){})}},e.sepRegister=function(){if(!e.sepFormInfo.isSepSubmitting&&e.checkRealName()&&e.checkPhone()){e.sepFormInfo={isSepSubmitting:!0,buttonSepText:"提交中..."};var r={name:e.name,tel:e.phone,groupKey:"GKR"};t.post(o.SEND_EMAIL,r).then(function(t){s(),"000000"===t.code?$("#send-email-modal").modal():(e.sepFormInfo={isSepSubmitting:!1,buttonSepText:"立即报名"},e.errorMsg=t.msg)},function(e){})}},$("#send-email-modal").on("hide.bs.modal",function(){window.location.reload()})}])},{15:15,swiper:"swiper"}],40:[function(e,t,o){"use strict";var r=e(15),n=e("swiper");r.controller("PublicDayTemplateCtrl",["$scope","request","api","utils","$timeout",function(e,t,o,r,i){function a(){var e=$(window).width(),t=(e-1e3)/2;$(".qr-wrapper").css({right:t-210}),1460>e&&$(".qr-wrapper").css({right:t-150}),$(".qr-wrapper").css(1280>=e?{top:330}:{top:400})}function s(){e.errorRealNameShow=!1,e.errorPhoneMsgShow=!1,e.errorMsg="",e.errorNameMsg=""}var l,c;a(),$(window).resize(function(){a()}),e.formInfo={isSubmitting:!1,buttonText:"立即报名"},e.pageInit=function(){$(window).resize(),$(window).scroll()},$(window).resize(function(){$(".register-now").css("right",200);var e=($(window).width()-$(".container-activity").width())/2-15,t=$(".register-now").width()+15;e<parseInt($(".register-now").css("right"))+$(".register-now").width()?e>t?($(".register-now").css("right",t+(e-t)/2-$(".register-now").width()),$(".register-now").show()):$(".register-now").hide():$(".register-now").show()}),$(window).scroll(function(){var e=$(window).scrollTop();600>=e?$(".register-now").css("bottom","100px"):$(".register-now").css("bottom","50%")}),e.pageInit(),s(),e.checkRealName=function(){if(!e.name)return e.errorRealNameShow=!0,e.errorNameMsg="请填写真实姓名",!1;var t=/^([\u4e00-\u9fa5]){2,11}$/;return t.test(e.name)?(e.errorRealNameShow=!1,e.errorNameMsg="",!0):(e.errorRealNameShow=!0,e.errorNameMsg="请填写有效的真实姓名",!1)},e.checkPhone=function(){if(!e.phone)return e.errorPhoneMsgShow=!0,e.errorMsg="请填写手机号码",!1;var t=/^1[0-9]{10}$/;return t.test(e.phone)?(e.errorPhoneMsgShow=!1,e.errorMsg="",!0):(e.errorPhoneMsgShow=!0,e.errorMsg="请填写有效的手机号码",!1)},e.register=function(){if(!e.formInfo.isSubmitting&&e.checkRealName()&&e.checkPhone()){e.formInfo={isSubmitting:!0,buttonText:"提交中..."};var r={name:e.name,phone:e.phone};t.post(o.PUBLIC_DAY_APPLY_ACTIVITY,r).then(function(t){s(),"000000"===t.code?(e.resultInfo=t.data,$("#send-email-modal").modal()):(e.formInfo={isSubmitting:!1,buttonText:"立即报名"},e.errorMsg=t.msg)},function(e){})}},$("#send-email-modal").on("hide.bs.modal",function(){window.location.reload()}),e.loadCount=0,e.loading=!0,e.pageInit=function(){t.get(o.PUBLIC_DAY_GET_ACTIVITY,{}).then(function(t){"000000"===t.code&&(e.activityInfo=t.data,e.activityInfo&&($(".dec-banner-wrapper .dec-banner").css("background","url("+e.activityInfo.banner+") no-repeat center"),$(".qr-wrapper").css("background","url("+e.activityInfo.floatImage+") no-repeat center")),++e.loadCount)},function(e){}),t.get(o.PUBLIC_DAY_GET_PROCESSES,{}).then(function(t){++e.loadCount,"000000"===t.code&&(e.processesInfo=t.data)},function(e){}),t.get(o.PUBLIC_DAY_GET_PRESENTER,{}).then(function(t){++e.loadCount,"000000"===t.code&&(e.presenterInfo=t.data)},function(e){}),t.get(o.PUBLIC_DAY_GET_AWARDS,{}).then(function(t){if(++e.loadCount,"000000"===t.code&&(e.awardsInfo=t.data,e.awardsInfo&&e.awardsInfo.length>3)){for(var o=e.awardsInfo,r="",a=$(".lottery-part .swiper-wrapper .swiper-slide").removeClass("hide"),s=0,c=0,d=o.length;d>s;s++,c++,c=c>2?0:c)0==c&&(r+='<div class="swiper-slide">'),a.find("div").toggleClass("mid-pic",1==c).find("a").attr("href",o[s].imageBig).find("img").attr("src",o[s].image),r+=a.html(),(2==c||s==d-1&&2!=c)&&(r+="</div>");$(".lottery-part .swiper-container .swiper-wrapper").html($.trim(r)),i(function(){l=new n(".lottery-part .swiper-container",{autoplay:5e3,paginationClickable:!0,autoplayDisableOnInteraction:!1,loop:!0})},100),$(".lottery-part .left-arrow").click(function(e){e.preventDefault(),l.swipePrev()}),$(".lottery-part .right-arrow").click(function(e){e.preventDefault(),l.swipeNext()})}},function(e){}),t.get(o.PUBLIC_DAY_GET_FEEDBACK,{}).then(function(t){if(++e.loadCount,"000000"===t.code&&(e.feedbackInfo=t.data,e.feedbackInfo&&e.feedbackInfo.length>0)){for(var o=e.feedbackInfo,r="",a=$(".voice .swiper-wrapper .swiper-slide").removeClass("hide"),s=0,l=0,d=o.length;d>s;s++,l++,l=l>2?0:l)0==l&&(r+='<div class="swiper-slide">'),a.find("div").toggleClass("mid-pic",1==l).find("a").attr("href",o[s].imageBig).find("img").attr("src",o[s].image),r+=a.html(),(2==l||s==d-1&&2!=l)&&(r+="</div>");$(".voice .icon-font").toggle(e.feedbackInfo&&e.feedbackInfo.length>3),$(".voice .swiper-container .swiper-wrapper").html($.trim(r)),e.feedbackInfo&&e.feedbackInfo.length>3&&(i(function(){c=new n(".voice .swiper-container",{autoplay:5e3,paginationClickable:!0,autoplayDisableOnInteraction:!1,loop:!0})},100),$(".voice .left-arrow").click(function(e){e.preventDefault(),c.swipePrev()}),$(".voice .right-arrow").click(function(e){e.preventDefault(),c.swipeNext()}))}},function(e){}),t.get(o.PUBLIC_DAY_GET_REVIEW_ACTIVITIES,{page:1,rows:12}).then(function(t){if(++e.loadCount,"000000"===t.code&&(e.reviewInfo=t.data,e.reviewInfo&&e.reviewInfo.items)){for(var o=e.reviewInfo.items,r="",n=$(".footer-rules .container .news").removeClass("hide"),i=0,a=o.length;a>i;i++)n.find("img").attr({src:o[i].reviewImage,alt:o[i].title}),n.find(".news-title").text(o[i].title),n.find(".news-content").text(o[i].summary),n.find(".link-blue").attr("href",o[i].reviewUrl),r+=n.prop("outerHTML");$(".footer-rules .container").html($.trim(r))}},function(e){}),e.$watch("loadCount",function(t){t>5&&(e.loading=!1)})},e.pageInit()}])},{15:15,swiper:"swiper"}],41:[function(e,t,o){"use strict";var r=e(15);r.controller("Quarter2rdCtrl",["$scope","request","api","utils",function(e,t,o,r){$("title").html("2017年第二季度运营报告新鲜出炉-石投金融")}])},{15:15}],42:[function(e,t,o){"use strict";var r=e(15),n=e(9).Base64;r.controller("RecommendFriendsCtrl",["$scope","request","api","$filter",function(e,t,o,r){function i(){$(".my-reward .qr-area").css($(window).scrollTop()>=s+$(".how-to-recommend").height()/2?{top:"auto",bottom:"370px"}:{top:"540px",bottom:"auto"})}if(e.loggedIn=window.loggedIn,e.contentTitle="",e.getDetail=function(t){$(".account-modal .modal-body").empty(),".redpacket"==t?(e.headerTitle="红包使用规则",$(".account-modal .modal-dialog").css({width:"900px",height:"600px"}).find(".modal-body").css("height","490px")):(e.headerTitle="",$(".account-modal .modal-dialog").css({width:"450px",height:"auto"}).find(".modal-body").css("height","auto")),$(".account-modal .modal-body").append($(t).clone())},e.showLoginForm=function(){$("#login-modal").modal({show:!0,backdrop:"static",keyboard:!1}).show(),$(".modal-backdrop").show(),$("body,html").css({overflow:"hidden","padding-right":0})},e.locatRule=function(){$("body,html").animate({scrollTop:1600},300)},$(".gotoregister").click(function(){$("#login-modal").hide(),$("#register-modal").show(),$("body,html").css({overflow:"hidden","padding-right":0})}),$(".gotologin").click(function(){$("#register-modal").hide(),$("#login-modal").show(),$("body,html").css({overflow:"hidden","padding-right":0})}),$(".form-modal .pop-modal-close").click(function(){$(".form-modal").hide(),$(".modal-backdrop").hide(),$("body,html").css({overflow:"auto"})}),window.loggedIn){var a={page:1,rows:5};t.post(o.RENCOMMEND_FRIENDS,a).then(function(t){e.loading=!1,"000000"===t.code&&(e.recommendInfo=t.data,e.referralCode=e.recommendInfo.code,e.getUserInfo())},function(e){}),e.getUserInfo=function(){t.post(o.USER_INFO,{}).then(function(t){"000000"===t.code&&(e.userTel=t.data.tel,e.userName="",t.data.realname?e.userName=t.data.realName:t.data.name&&(e.userName=r("limitToStr")(t.data.name,5)),e.createQr())},function(e){})},e.createQr=function(){t.get(o.RECOMMEND_ACTIVE,{}).then(function(t){if("000000"===t.code){var r=window._appConfig.proxyPath,i=t.data.url+"?referralCode="+e.referralCode+"&userName="+n.encode(e.userName)+"&linkSource=pc",a=r+o.IMAGE_QRCODE+"?url="+encodeURIComponent(i)+"&width=250&height=250";e.reqQrUrl=a;var s=r+o.RECOMMEND_2CODE+"?recommendCode="+encodeURIComponent(i)+"&width=250&height=250";e.reqQrLogoUrl=s}},function(e){})}}var s=$(".how-to-recommend").offset().top;$(window).scroll(i),i()}])},{15:15,9:9}],43:[function(e,t,o){"use strict";var r=e(15);r.controller("RiskEvaluationLPCtrl",["$scope",function(e){e.showPart1=!1,e.showPart2=!1,e.showMore1=function(){e.showPart1=!e.showPart1},e.showMore2=function(){e.showPart2=!e.showPart2}}])},{15:15}],44:[function(e,t,o){"use strict";var r=e(15);e(54),r.controller("ShitouDomainLotteryCtrl",["$scope","$http","request","api","$timeout","$interval","utils",function(e,t,o,r,n,i,a){e.urlParams=a.getUrlParams();var s=e.urlParams.lotteryCode;$(".right-banner").hide(),e.isRotating=!1;e.lotteryTip={},e.recordsInfo={},e.originRecordsInfo={},e.vr={},e.xm={},e.rb={},e.userRecordsInfo={};var l=0;e.lotteryCount=0,e.domainCollect=!1;var c=window._appConfig.proxyPath;e.letterStatus={s:0,h:0,i:0,t:0,o:0,u:0};var d,u,h,p,f,g,m=1,v=8,y=300,l=!1;e.loggedIn=window.loggedIn,e.domainCollectUsers=0,e.commonModal={headerTitle:"提示"};var p={recordsParams:{lotteryCode:s,page:1,rows:100},lotteryTotalRecords:"",userTotalRecords:"",initData:function(){var t=new Date;t.setDate(t.getDate()-1);var o=t.getDate();e.deadlineDate=o,e.loginLink="/login?from="+encodeURIComponent(window.location.href),window.loggedIn&&(p.updateLotteryInfo(),p.checkDomainWords(),p.reloadUserReords(p.recordsParams)),p.getCollectDomainUsers(),p.reloadLotteryRecords(p.recordsParams)},updateLotteryInfo:function(){o.post(r.INIT_LOTTERY_INFO,{lotteryCode:s}).then(function(t){"000000"===t.code?(e.lotteryCount=t.data.lotteryCount<0?0:t.data.lotteryCount,e.userName=t.data.userRealName):e.errorMsg=t.msg},function(e){}),e.userTel||o.post(r.LOTTERY_URER_INFO,{}).then(function(t){"000000"===t.code?e.userTel=t.data.tel:e.errorMsg=t.msg},function(e){})},reloadLotteryRecords:function(t){o.post(r.LOTTRY_RECORDS,t).then(function(t){"000000"===t.code?(e.recordsInfo=t.data,p.lotteryTotalRecords=t.data.totalRecord,e.originRecordsInfo=t.data,e.jQueryNiceScroll(),0===l&&($(".pagination li").remove("li:first-child"),$(".pagination").find("li").last().remove(),l=1)):(e.recordsInfo.totalRecord=0,e.errorMsg=t.msg),e.$broadcast("lazyLoadingFinished")},function(e){})},getLotteryResult:function(){o.post(r.DOUBLE_ELEVEN_LOTTERY,{lotteryCode:s}).then(function(t){"000000"===t.code?("000"===t.data.code?(e.lotteryData=t.data,p.startLottery(e.lotteryData),p.lightBlink()):"100"===t.data.code?(e.lotteryData={},e.lotteryData.lotteryRefer="lottery_9",p.startLottery(e.lotteryData),p.lightBlink()):"101"===t.data.code?(e.isRotating=!e.isRotating,p.showCommonModal("立即投资","no",!1,"您当前没有抽奖机会，立即投资赚取更多抽奖机会！","","/investment-list",!1,!0)):(e.isRotating=!e.isRotating,p.showCommonModal("确认","modal",!1,t.data.message,"")),p.updateLotteryInfo()):"510010"===t.code?(e.lotteryData.lotteryRefer="lottery_9",p.startLottery(e.lotteryData),p.updateLotteryInfo(),p.lightBlink()):"000005"===t.code||"000003"===t.code?location.href=e.loginLink:(e.isRotating=!e.isRotating,e.errorMsg=t.msg,p.showCommonModal("确认","modal",!1,t.msg,""))},function(t){e.isRotating=!e.isRotating,e.errorMsg=t.msg,p.showCommonModal("确认","modal",!1,"服务器忙,请稍后再试","")})},showCommonModal:function(t,o,r,n,i,a,s){e.commonModal.btnText=t,e.commonModal.dataDismiss=o,e.commonModal.showTitle=r,e.commonModal.contentDetail=n,e.commonModal.btnText2=i,e.commonModal.btnHref=a,e.commonModal.covertActive=s,e.$$phase||e.$apply(),$(".db-lottery-common-modal").modal("show")},reloadUserReords:function(){var t={lotteryCode:s,page:1,rows:100};o.post(r.LOTTERY_USER_RECORDS,t).then(function(t){"000000"===t.code?(e.userRecordsInfo=t.data,p.lightDomain(),0===l&&($(".pagination li").remove("li:first-child"),$(".pagination").find("li").last().remove(),l=1)):(e.userRecordsInfo.totalRecord=0,e.errorMsg=t.msg)},function(e){})},checkDomainWords:function(){o.post(r.LOTTERY_CHECK_DOMAIN,{lotteryCode:s}).then(function(t){"000000"===t.code?0==t.data.count?e.domainCollect=!1:1==t.data.count&&(e.domainCollect=!0):e.errorMsg=t.msg},function(e){})},getCollectDomainUsers:function(){o.post(r.LOTTERY_COLLECT_DOMAIN_USERS,{lotteryCode:s}).then(function(t){"000000"===t.code?(e.domainCollectUsers=t.data.count,e.QrPath=t.data.shitouPath,p.getQrcodeImg(),e.$$phase||e.$apply()):e.errorMsg=t.msg},function(e){})},startLottery:function(t){function o(e,t){var o=t-e,r=Math.random();return e+Math.round(r*o)}h=t.lotteryRefer.split("lottery_")[1];var r=(t.lotteryRefer,{rewardId:h});switch(t.lotteryRefer){case"lottery_1":r={name:"S",type:"letter"};break;case"lottery_2":r={name:"H",type:"letter"};break;case"lottery_3":r={name:"I",type:"letter"};break;case"lottery_4":r={name:"代金券",type:"voucher",num:"10"};break;case"lottery_5":r={name:"U",type:"letter"};break;case"lottery_6":r={name:"O",type:"letter"};break;case"lottery_7":r={name:"T",type:"letter"};break;case"lottery_8":r={name:"代金券",type:"voucher",num:"5"};break;case"lottery_9":r={name:"再接再厉",type:""};break;default:r={name:"再接再厉",type:""}}r.rewardId=h,r.lotteryPublishDesc=t.lotteryPublishDesc,r.message=t.message,e.lotteryTip=r,h=parseInt(h),l=!0,m=1,d=o(3,6),u=o(3,4),v=8,y=300,p.showLottery(t.lotteryRefer)},showLottery:function(t){var o=t.split("lottery_")[1];m>v&&(m=1,u--),$("#lottery-wrapper li").find("img.award-light").hide(),$("#lottery-wrapper li").find("img.award-normal").show(),$("#lottery_"+m).find("img.award-normal").hide(),$("#lottery_"+m).find("img.award-light").show(),m>d&&(y=150),0>=u&&(o==m-1||"lottery_8"==t)?(e.isRotating=!e.isRotating,p.getCollectDomainUsers(),p.checkDomainWords(),p.reloadLotteryRecords(p.recordsParams),p.reloadUserReords(p.recordsParams),p.updateLotteryInfo(),$("#lottery-wrapper li").find("img.award-normal").show(),$("#lottery-wrapper li").find("img.award-light").hide(),$(".lottery-tip-modal").modal("show"),clearInterval(f),clearTimeout(g)):0>=u&&"lottery_9"==t?(e.isRotating=!e.isRotating,p.updateLotteryInfo(),$("#lottery-wrapper li").find("img.award-normal").show(),$("#lottery-wrapper li").find("img.award-light").hide(),$(".lottery-tip-modal").modal("show"),clearInterval(f),clearTimeout(g)):g=setTimeout(function(){p.showLottery(t)},y),m++},lightBlink:function(){clearInterval(f),f=setInterval(function(){$(".lamp").css("opacity",1).siblings(".lamp1").css("opacity",0),setTimeout(function(){$(".lamp1").css("opacity",1).siblings(".lamp").css("opacity",0)},300)},600)},getQrcodeImg:function(){var t=e.QrPath+"activity/shitou-domain-lottery?lotteryCode="+encodeURIComponent(s),o=c+r.RECOMMEND_2CODE+"?recommendCode="+encodeURIComponent(t);e.Qrcode=o},lightDomain:function(){for(var t={s:0,h:0,i:0,t:0,o:0,u:0},o=0;o<e.userRecordsInfo.items.length;o++){switch(e.userRecordsInfo.items[o].prizeTitle){case"s":t.s=t.s+1;break;case"h":t.h=t.h+1;break;case"i":t.i=t.i+1;break;case"t":t.t=t.t+1;break;case"o":t.o=t.o+1;break;case"u":t.u=t.u+1}}e.letterStatus=t}};p.initData(),e.lotteryGo=function(){return window.loggedIn?e.isRotating?!1:(e.isRotating=!e.isRotating,void p.getLotteryResult()):(p.showCommonModal("立即登录","no",!0,"您还未登录，请先登录！","",e.loginLink),!1)},e.openRuleModal=function(){$(".lottery-rule-modal").modal("show")},e.jQueryNiceScroll=function(){$(".shitou-domain-lottery-wrapper .lottery-info .records-list .scrollbar").niceScroll({cursorborder:"",cursorcolor:"#5a087f",background:"#851eb4",autohidemode:!1,cursorwidth:10})},e.openCountCoinModal=function(){e.countCoin={selected:1,investMoney:"",coins:0},$(".count-coin-modal").modal("show")},e.countCoin={selected:1,investMoney:"",coins:0,errorNumMsg:"输入的金额格式错误",showError:!1},e.moneyChange=function(){if(isNaN(e.countCoin.investMoney))return e.countCoin.showError=!0,e.countCoin.coins=0,!1;var t=parseFloat(e.countCoin.investMoney);if(t>1e8)e.countCoin.investMoney=1e8,e.countCoin.showError=!1;else{if(0>t)return e.countCoin.showError=!0,e.countCoin.coins=0,!1;e.countCoin.showError=!1}},e.countGoldCoin=function(){if(!e.countCoin.investMoney||""==e.countCoin.investMoney||isNaN(e.countCoin.investMoney))return e.countCoin.showError=!0,e.countCoin.coins=0,!1;var t=parseFloat(e.countCoin.investMoney);if(0>t)return e.countCoin.showError=!0,e.countCoin.coins=0,!1;e.countCoin.showError=!1;var o=e.countCoin.selected*t/5e3;e.countCoin.coins=Math.floor(o)},e.selectPeroid=function(t){e.countCoin.selected=t},e.userTab=!1,$('.shitou-domain-lottery-wrapper a[data-toggle="tab"]').on("show.bs.tab",function(t){var o=$(t.target).attr("href");if("#records-list-tab"==o)e.userTab=!1;else if("#user-records-tab"==o){if(!e.loggedIn)return p.showCommonModal("立即登录","no",!1,"您还未登录，请先登录！","",e.loginLink),!1;e.userTab=!0}e.$$phase||e.$apply()}),e.fullOpacity=!1,i(function(){e.fullOpacity=!e.fullOpacity},500),$(".shitou-domain-lottery-wrapper .star-01").animate({top:"260px",left:"-1%"},1500),$(".shitou-domain-lottery-wrapper .star-02").animate({top:"25px",right:"19%"},1500),$(".shitou-domain-lottery-wrapper .star-03").animate({top:"150px",right:"6%"},1500),$(".shitou-domain-lottery-wrapper .star-05").animate({top:"20px",left:"13%"},1500),$(".banner-light-01").animate({top:"0px",left:"5%"},1500),$(".banner-light-02").animate({top:"0px",right:"5%"},1500),i(function(){w()},1500);var w=function(){for(var e=[".shitou-domain-lottery-wrapper .star-01",".shitou-domain-lottery-wrapper .star-02",".shitou-domain-lottery-wrapper .star-03",".shitou-domain-lottery-wrapper .star-05"],t=0;t<e.length;t++){var o=$(e[t]).attr("class");-1!=o.indexOf("sway-right")?($(e[t]).removeClass("sway-right"),$(e[t]).addClass("sway-left")):($(e[t]).removeClass("sway-left"),$(e[t]).addClass("sway-right"))}}}])},{15:15,54:54}],45:[function(e,t,o){"use strict";var r=e(15),n=e("swiper");r.controller("SummitCtrl",["$scope","$timeout",function(e,t){e.currentPoint=0,t(function(){var t=(new n(".main-swiper",{mode:"vertical",mousewheelControl:!0,pagination:".main-pagination",paginationClickable:!0,onSlideChangeStart:function(t){e.currentPoint=t.activeIndex,e.$$phase||e.$apply()}}),new n(".review-swiper",{mode:"horizontal",autoplay:5e3,loop:!0,pagination:".review-pagination",paginationClickable:!0})),o=new n(".commit-swiper",{mode:"horizontal",autoplay:5e3,loop:!0,pagination:".commit-pagination",paginationClickable:!0});$(".review-prev").on("click",function(e){e.preventDefault(),t.swipePrev()}),$(".review-next").on("click",function(e){e.preventDefault(),t.swipeNext()}),$(".commit-prev").on("click",function(e){e.preventDefault(),o.swipePrev()}),$(".commit-next").on("click",function(e){e.preventDefault(),o.swipeNext()})},300)}])},{15:15,swiper:"swiper"}],46:[function(e,t,o){var r=e(15),n=e("swiper");r.controller("suzhouCtrl",["$scope",function(e){new n(".my-swiper",{mode:"horizontal",autoplay:2e3,pagination:".pagination",paginationClickable:!0,loop:!0})}])},{15:15,swiper:"swiper"}],47:[function(e,t,o){"use strict";var r=e(15);r.controller("ThreeYearCtrl",["$scope","request","api","utils",function(e,t,o,r){e.openRuleModal=function(){$("#lottery-rule-modal").modal("show")};var n=window.deviceRedirect,i=window._appConfig.proxyPath;$(".right-banner").hide();var a=function(){var t=n+"/activity/tree-planting",r=i+o.RECOMMEND_2CODE+"?recommendCode="+encodeURIComponent(t);e.Qrcode=r};a(),e.goShare=function(){$(".share-modal").modal("show")}}])},{15:15}],48:[function(e,t,o){"use strict";var r=e(15);r.controller("TreePlantingCtrl",["$scope","request","api","utils",function(e,t,o,r){e.openRuleModal=function(){$("#lottery-rule-modal").modal("show")};var n=window.deviceRedirect,i=window._appConfig.proxyPath;$(".right-banner").hide();var a=function(){var t=n+"/activity/tree-planting",r=i+o.RECOMMEND_2CODE+"?recommendCode="+encodeURIComponent(t);e.Qrcode=r};a(),e.goShare=function(){$(".share-modal").modal("show")}}])},{15:15}],49:[function(e,t,o){"use strict";var r=e(15);r.controller("UserIntegratorCtrl",["$scope","$http","request","api",function(e,t,o,r){e.taskPoint=0,e.currentTask="",e.getTask=function(t){e.loading=!0,o.post(r.INTEGRATOR,{userId:userId}).then(function(t){e.loading=!1,"000000"===t.code&&(e.taskList=t.data.integralTasks,e.currentTask=e.taskList[e.taskPoint].taskDetails,e.assignLink(e.currentTask))},function(e){}),e.taskPoint==t||(e.taskPoint=t,e.currentTask=e.taskList[e.taskPoint].taskDetails,e.assignLink(e.currentTask))},e.pageInit=function(){e.getTask(0)},e.pageInit(),e.assignLink=function(e){for(var t=0,o=e.length;o>t;t++){var r=e[t],n=r.taskCode;r.completed?(r.href="",r.target=""):(r.target="_blank","WEB_SIGN"==n?r.href="/my-account#account-home":"AUTOTENDER_SUCCESS"==n?r.href="/my-account/auto-invest#auto-invest-1":"FIRST_TENDER"==n||"INVESTMENT_SUCCESS"==n?r.href="/investment-list":"DANGER_ASSESSMENT"==n?r.href="/my-account/basic-info?resetType=4#basic-info-1":"REGISTER"==n?r.href="/register":"OPEN_HF"==n?r.href="/my-account/basic-info?resetType=4#basic-info-1":"BINDCARD"==n?r.href="/my-account/basic-info?resetType=5#basic-info-1":"FIRST_RECHARGE"==n?r.href="/my-account/sh-bank/add-funds#assets-management-1":("RECOMMEND_REGISTER"==n||"RECOMMEND_INVESTMENT"==n)&&(r.href="/my-account/invite-friends#recommend-management-1"))}},e.eventType=function(t){"OPEN_HF"===t&&(loggedIn?e.chinapnrRegister():window.location.href="/login?from="+encodeURIComponent(window.location.href))}}])},{15:15}],50:[function(e,t,o){"use strict";var r=e(15),n=e(9).Base64;r.controller("YearEndBonusCtrl",["$scope","$http","request","api","$filter","$interval","utils",function(e,t,o,r,i,a,s){e.urlParams=s.getUrlParams();var l=(e.urlParams.lotteryCode,window._appConfig.proxyPath);e.loggedIn=window.loggedIn,e.loading=!0;var c=!1;e.phoneChange=function(){c&&(/^1\d{10}$/.test(e.telphone)?e.showErrorMsg=!1:(e.validPhoneMsg="手机号码格式错误",e.showErrorMsg=!0),e.telphone&&""!=e.telphone||(e.validPhoneMsg="手机号码不能为空",e.showErrorMsg=!0))},e.verifyCodeChange=function(){if(c){if(!e.verifyCode||""==e.verifyCode)return e.validPhoneMsg="验证码不能为空",e.showVerifyMsg=!0,!1;e.showVerifyMsg=!1}},e.getCoupons=function(){if(e.loggedIn)p();
else{if(c=!0,!e.telphone||""==e.telphone)return e.validPhoneMsg="手机号码不能为空",e.showErrorMsg=!0,e.showVerifyMsg=!1,!1;if(!/^1\d{10}$/.test(e.telphone))return e.validPhoneMsg="手机号码格式错误",e.showErrorMsg=!0,e.showVerifyMsg=!1,!1;if(!e.verifyCode||""==e.verifyCode)return e.validPhoneMsg="验证码不能为空",e.showVerifyMsg=!0,e.showErrorMsg=!1,!1;h()}},e.refreshVerifyCode=function(){var t=i("date"),o=t(new Date,"yyyyMMddHHmmss")+Math.random();e.uid=n.encode(o);var a=l+r.YEAR_END_GET_VERIFYCODE+"?uid="+e.uid;e.verifyCodeUrl=a},e.refreshVerifyCode(),e.active=!0,e.activityNotStart=!1,e.activityEnded=!1;var d=function(){var t=new Date,o=new Date(Date.parse("2017/06/17")),r=new Date(Date.parse("2017/07/12 23:59:59"));o>t?(e.activityNotStart=!0,e.active=!1):t>r?(e.activityEnded=!0,e.active=!1):e.active=!0},u=function(){o.post(r.YEAR_END_GET_FLAG,{}).then(function(t){"000000"===t.code?t.data.yearAwardFlag?(e.showResult=!0,p()):(e.showResult=!1,d()):(e.errorMsg=t.msg,d())},function(t){e.errorMsg=t.msg})};u();var h=function(){var t={verifyCode:e.verifyCode,uid:e.uid};o.post(r.YEAR_END_VERIFY_CODE,t).then(function(t){"000000"===t.code?t.data.data?p():(e.validPhoneMsg="验证码错误",e.showVerifyMsg=!0,e.showErrorMsg=!1,e.refreshVerifyCode()):e.errorMsg=t.msg},function(t){e.errorMsg=t.msg})},p=function(){o.post(r.YEAR_END_GET_COUPONS,{userTel:e.telphone}).then(function(t){"000000"===t.code?(e.showResult=!0,e.resultMsg=t.data.resultMsg,localStorage.setItem("showYearActivity","true")):e.errorMsg=t.msg},function(t){e.errorMsg=t.msg})},f=function(){o.post(r.USER_INFO,{}).then(function(t){"000000"===t.code?(e.telphone=t.data.tel,e.username=t.data.name,o.post(r.MY_ACCOUNT_BASE,{}).then(function(t){e.loading=!1,"000000"===t.code?e.username=1==t.data.isChinapnr?t.data.name:t.data.name:e.errorMsg=t.msg},function(t){e.errorMsg="服务器繁忙,请稍后再试"})):e.errorMsg=t.msg},function(t){e.errorMsg="服务器繁忙,请稍后再试"})};e.loggedIn?f():e.loading=!1}])},{15:15,9:9}],51:[function(e,t,o){"use strict";function r(e){var t=parseFloat((e+"").replaceAll(c,"").replaceAll(",",""));return 0>t?0:t}function n(e){return parseFloat((e+"").replaceAll(c,"").replaceAll(",","").replaceAll("-",""))}var i=e("angular"),a=i.module("shitouCurrency",[]),s="元",l="万元",c="¥";a.filter("stMoneyToNumber",function(){return function(e){return r(e)}}),a.filter("stCurrency",["$filter",function(e){return function(t,o,n,i){return t=r(t),t=e("number")(t,n?0:2),o?c+t:i?t:t+s}}]),a.filter("stCurrencyContainNegative",["$filter",function(e){return function(t,o,n,i){var a=!1;return 0>t&&(t=-t,a=!0),t=r(t),a&&(t=-t),t=e("number")(t,n?0:2),o?c+t:i?t:t+s}}]),a.filter("stMoney",["$filter","$sce",function(e,t){return function(o,n,i,a,c,d){o=r(o);var u=e("number"),h="",p=s,f=a||0==a?a:2;if(n){var g=1,m=1e4;(o>=m||d)&&(g=m,p=l),h=u(o/g,o%g==0?0:f)}else h=u(o,f);var v=h.indexOf("."),y=0>v?h:h.substring(0,v),w=0>v?"":h.substring(v);p=c?"":p;var b=y+(i?"":"<small>")+w+p+(i?"":"</small>");return t.trustAsHtml(b)}}]),a.filter("formatMoney",["$filter","$sce",function(e,t){return function(o,r,i,a,c,d){var u=0>o?"-":"";o=n(o);var h=e("number"),p="",f=s,g=a||0==a?a:2;if(r){var m=1,v=1e4;(o>=v||d)&&(m=v,f=l),p=h(o/m,o%m==0?0:g)}else p=h(o,g);var y=p.indexOf("."),w=0>y?p:p.substring(0,y),b=0>y?"":p.substring(y);f=c?"":f;var I=u+w+(i?"":"<small>")+b+f+(i?"":"</small>");return t.trustAsHtml(I)}}]),a.filter("stAprSamll",["$filter","$sce",function(e,t){return function(e,o){var r=e,n=r.substring(0,r.length-1),i=r.substring(r.length,r.length-1),a=n+(o?"":"<small>")+i+(o?"":"</small>");return t.trustAsHtml(a)}}]),a.filter("filterNum",function(){return function(e){return e?e.replace(".0",""):""}}),a.filter("filterNumAll",function(){return function(e){return e?e.split(".00").join(""):""}}),a.filter("encryptString",function(){return function(e){var t=e.substr(0,1),o=e.substr(e.length-1,1);return t+"*****"+o}}),a.filter("hideString",function(){return function(e){var t=e.substr(0,2),o=e.substr(e.length-2,2);return t+"**"+o}}),a.filter("subDate",function(){return function(e){return e?e.substring(5):""}}),a.filter("limitToStr",function(){return function(e,t){return e.length>t&&(e=e.substring(0,t)+"..."),e}}),a.filter("subYMD",function(){return function(e){return e?e.substr(0,10):""}}),a.filter("fuzzyDisplay",function(){return function(e,t){var o=e&&t?e.length-2*t:0;if(e&&o>0){for(var r="",n=o;n>0;n--)r+="*";e=e.replace(e.substring(t,e.length-t),r)}return e}}),a.filter("cutOutString",function(){return function(e,t){return e.length>t?e.substr(0,t)+"...":e}}),a.filter("fuzzyDisplayUpgrade",function(){return function(e,t,o){if(e&&t>=0&&o<e.length){for(var r="",n=t;o>=n;n++)r+="*";e=e.substring(0,t)+r+e.substring(o+1)}return e}}),a.filter("cutOutDescString",function(){return function(e){if(e&&e.length>=2){var t=e.substring(0,2);"项目"==t&&(e=e.substring(2,e.length))}return e}}),t.exports="shitouCurrency"},{angular:"angular"}],52:[function(e,t,o){var r=e("angular"),n=e(14);e("angular-cookies");{var i=r.module("stHttp",["ngCookies"]),a=e("jquery");window._appConfig}i.value("api",n),i.factory("request",["$http","$window","$q","$filter","$cookies",function(e,t,o,n,i){var s=n("date"),l={$http:e};return l.send=function(t,n){var i={url:t,timeout:2e4,headers:{"Content-Type":"application/x-www-form-urlencoded",timestamp:s(new Date,"yyyyMMddHHmmss"),clientCode:"web"}};return e(r.extend(i,n)).then(function(e){if("000005"==e.data.code)return void(location.href="/login");var t=o.defer();return t.resolve(e.data),t.promise},function(e){var t=o.defer();return t.reject(e.data),t.promise})},l.get=function(e,o,n){var i=t.navigator.userAgent;return i.match(/Trident/i)&&i.match(/MSIE 8.0/i)&&e&&(e+=(-1===e.indexOf("?")?"?":"&")+"random="+(new Date).getTime()),l.send(e,r.extend(n?n:{},{method:"GET",params:o}))},l.post=function(e,t,o){return l.send(e,r.extend(o?o:{},{method:"POST",data:a.param(t)}))},l.put=function(e,t,o){return l.send(e,r.extend(o?o:{},{method:"PUT",data:a.param(t)}))},l.jsonp=function(e,t,o){return l.send(e,r.extend(o?o:{},{method:"JSONP",params:r.extend(t?t:{},{callback:"JSON_CALLBACK"})}))},l}]),t.exports="stHttp"},{14:14,angular:"angular","angular-cookies":"angular-cookies",jquery:"jquery"}],53:[function(e,t,o){"use strict";var r=e("angular"),n=r.module("stUtils",[]),i=navigator.userAgent.toLowerCase();n.factory("utils",[function(){return{getUrlParams:function(){var e={},t=location.search,o=t.lastIndexOf("?");if(o>=0){var r=t.slice(o+1).split("&");for(var n in r){var i=r[n],a=i.split("=");e[a[0]]=a[1]}}return e},nowToRangeGivenTime:function(e){var t={hour:0,minute:0,second:0},o=3600,r=60;return t.hour=Math.floor(e/o),e-=o*t.hour,t.minute=Math.floor(e/r),e-=r*t.minute,t.second=e,t.hour=t.hour<10?"0"+String(t.hour):t.hour,t.minute=t.minute<10?"0"+String(t.minute):t.minute,t.second=t.second<10?"0"+String(t.second):t.second,t},convertToTimeMs:function(e){return new Date(e.substring(0,4),Number(e.substring(5,7))-1,e.substring(8,10),e.substring(11,13),e.substring(14,16),e.substring(17,19)).getTime()},isIOS:function(){return i.indexOf("iphone")>=0||i.indexOf("ipad")>=0},isAndroid:function(){return i.indexOf("android")>=0},isInWechat:function(){return i.indexOf("micromessenger")>=0},isSecure:function(){return"https:"===location.protocol},CDN:function(e){return e?(e.indexOf("www.shitou.com/img/")>-1?e=e.replaceAll("www.shitou.com/img/","bmstatic.shitou.com/img/"):e.indexOf("www.shitou.com/pic/")>-1&&(e=e.replaceAll("www.shitou.com/pic/","bmstatic.shitou.com/pic/")),e):""}}}]),t.exports="stUtils"},{angular:"angular"}],54:[function(e,t,o){!function(r){"function"==typeof define&&define.amd?define(["jquery"],r):"object"==typeof o?t.exports=r(e("jquery")):r(jQuery)}(function(e){"use strict";function t(){var e=document.getElementsByTagName("script"),t=e.length?e[e.length-1].src.split("?")[0]:"";return t.split("/").length>0?t.split("/").slice(0,-1).join("/")+"/":""}function o(e,t,o){for(var r=0;r<t.length;r++)o(e,t[r])}var r=!1,n=!1,i=0,a=2e3,s=0,l=e,c=["webkit","ms","moz","o"],d=window.requestAnimationFrame||!1,u=window.cancelAnimationFrame||!1;if(!d)for(var h in c){var p=c[h];if(d=window[p+"RequestAnimationFrame"]){u=window[p+"CancelAnimationFrame"]||window[p+"CancelRequestAnimationFrame"];break}}var f=window.MutationObserver||window.WebKitMutationObserver||!1,g={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:t(),preventmultitouchscrolling:!0,disablemutationobserver:!1},m=!1,v=function(){function e(){var e=["grab","-webkit-grab","-moz-grab"];(i.ischrome&&!i.ischrome38||i.isie)&&(e=[]);for(var t=0;t<e.length;t++){var r=e[t];if(o.cursor=r,o.cursor==r)return r}return"url(//patriciaportfolio.googlecode.com/files/openhand.cur),n-resize"}if(m)return m;var t=document.createElement("DIV"),o=t.style,r=navigator.userAgent,n=navigator.platform,i={};i.haspointerlock="pointerLockElement"in document||"webkitPointerLockElement"in document||"mozPointerLockElement"in document,i.isopera="opera"in window,i.isopera12=i.isopera&&"getUserMedia"in navigator,i.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),i.isie="all"in document&&"attachEvent"in t&&!i.isopera,i.isieold=i.isie&&!("msInterpolationMode"in o),i.isie7=!(!i.isie||i.isieold||"documentMode"in document&&7!=document.documentMode),i.isie8=i.isie&&"documentMode"in document&&8==document.documentMode,i.isie9=i.isie&&"performance"in window&&9==document.documentMode,i.isie10=i.isie&&"performance"in window&&10==document.documentMode,i.isie11="msRequestFullscreen"in t&&document.documentMode>=11,i.isieedge12=navigator.userAgent.match(/Edge\/12\./),i.isieedge="msOverflowStyle"in t,i.ismodernie=i.isie11||i.isieedge,i.isie9mobile=/iemobile.9/i.test(r),i.isie9mobile&&(i.isie9=!1),i.isie7mobile=!i.isie9mobile&&i.isie7&&/iemobile/i.test(r),i.ismozilla="MozAppearance"in o,i.iswebkit="WebkitAppearance"in o,i.ischrome="chrome"in window,i.ischrome38=i.ischrome&&"touchAction"in o,i.ischrome22=!i.ischrome38&&i.ischrome&&i.haspointerlock,i.ischrome26=!i.ischrome38&&i.ischrome&&"transition"in o,i.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,i.hasw3ctouch=(window.PointerEvent||!1)&&(navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0),i.hasmstouch=!i.hasw3ctouch&&(window.MSPointerEvent||!1),i.ismac=/^mac$/i.test(n),i.isios=i.cantouch&&/iphone|ipad|ipod/i.test(n),i.isios4=i.isios&&!("seal"in Object),i.isios7=i.isios&&"webkitHidden"in document,i.isios8=i.isios&&"hidden"in document,i.isandroid=/android/i.test(r),i.haseventlistener="addEventListener"in t,i.trstyle=!1,i.hastransform=!1,i.hastranslate3d=!1,i.transitionstyle=!1,i.hastransition=!1,i.transitionend=!1;var a,s=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(a=0;a<s.length;a++)if(void 0!==o[s[a]]){i.trstyle=s[a];break}i.hastransform=!!i.trstyle,i.hastransform&&(o[i.trstyle]="translate3d(1px,2px,3px)",i.hastranslate3d=/translate3d/.test(o[i.trstyle])),i.transitionstyle=!1,i.prefixstyle="",i.transitionend=!1,s=["transition","webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"];var l=["","-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],c=["transitionend","webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"];for(a=0;a<s.length;a++)if(s[a]in o){i.transitionstyle=s[a],i.prefixstyle=l[a],i.transitionend=c[a];break}return i.ischrome26&&(i.prefixstyle=l[1]),i.hastransition=i.transitionstyle,i.cursorgrabvalue=e(),i.hasmousecapture="setCapture"in t,i.hasMutationObserver=f!==!1,t=null,m=i,i},y=function(e,t){function o(){var e=y.doc.css(C.trstyle);return e&&"matrix"==e.substr(0,6)?e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1}function c(){var e=y.win;if("zIndex"in e)return e.zIndex();for(;e.length>0;){if(9==e[0].nodeType)return!1;var t=e.css("zIndex");if(!isNaN(t)&&0!=t)return parseInt(t);e=e.parent()}return!1}function h(e,t,o){var r=e.css(t),n=parseFloat(r);if(isNaN(n)){n=S[r]||0;var i=3==n?o?y.win.outerHeight()-y.win.innerHeight():y.win.outerWidth()-y.win.innerWidth():1;return y.isie8&&n&&(n+=1),i?n:0}return n}function p(e,t,o,r){y._bind(e,t,function(r){var r=r?r:window.event,n={original:r,target:r.target||r.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==r.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return r.preventDefault?r.preventDefault():r.returnValue=!1,!1},stopImmediatePropagation:function(){r.stopImmediatePropagation?r.stopImmediatePropagation():r.cancelBubble=!0}};return"mousewheel"==t?(r.wheelDeltaX&&(n.deltaX=-1/40*r.wheelDeltaX),r.wheelDeltaY&&(n.deltaY=-1/40*r.wheelDeltaY),!n.deltaY&&!n.deltaX&&(n.deltaY=-1/40*r.wheelDelta)):n.deltaY=r.detail,o.call(e,n)},r)}function m(e,t,o){var r,n;if(0==e.deltaMode?(r=-Math.floor(e.deltaX*(y.opt.mousescrollstep/54)),n=-Math.floor(e.deltaY*(y.opt.mousescrollstep/54))):1==e.deltaMode&&(r=-Math.floor(e.deltaX*y.opt.mousescrollstep),n=-Math.floor(e.deltaY*y.opt.mousescrollstep)),t&&y.opt.oneaxismousemode&&0==r&&n&&(r=n,n=0,o)){var i=0>r?y.getScrollLeft()>=y.page.maxw:y.getScrollLeft()<=0;i&&(n=r,r=0)}if(y.isrtlmode&&(r=-r),r&&(y.scrollmom&&y.scrollmom.stop(),y.lastdeltax+=r,y.debounced("mousewheelx",function(){var e=y.lastdeltax;y.lastdeltax=0,y.rail.drag||y.doScrollLeftBy(e)},15)),n){if(y.opt.nativeparentscrolling&&o&&!y.ispage&&!y.zoomactive)if(0>n){if(y.getScrollTop()>=y.page.maxh)return!0}else if(y.getScrollTop()<=0)return!0;y.scrollmom&&y.scrollmom.stop(),y.lastdeltay+=n,y.synched("mousewheely",function(){var e=y.lastdeltay;y.lastdeltay=0,y.rail.drag||y.doScrollBy(e)},15)}return e.stopImmediatePropagation(),e.preventDefault()}var y=this;if(this.version="3.6.8",this.name="nicescroll",this.me=t,this.opt={doc:l("body"),win:!1},l.extend(this.opt,g),this.opt.snapbackspeed=80,e)for(var b in y.opt)void 0!==e[b]&&(y.opt[b]=e[b]);if(y.opt.disablemutationobserver&&(f=!1),this.doc=y.opt.doc,this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(y.opt.win?y.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=y.opt.win!==!1,this.win=y.opt.win||(this.ispage?l(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?l(window):this.win,this.body=l("body"),this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=y.opt.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==this.opt.rtlmode){var I=this.win[0]==window?this.body:this.win,T=I.css("writing-mode")||I.css("-webkit-writing-mode")||I.css("-ms-writing-mode")||I.css("-moz-writing-mode");"horizontal-tb"==T||"lr-tb"==T||""==T?(this.isrtlmode="rtl"==I.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==T||"tb"==T||"tb-rl"==T||"rl-tb"==T,this.isvertical="vertical-rl"==T||"tb"==T||"tb-rl"==T)}else this.isrtlmode=this.opt.rtlmode===!0,this.isvertical=!1;this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1;do this.id="ascrail"+a++;while(document.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.visibility=!0,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=y.opt.overflowx,this.overflowy=y.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=v();var C=l.extend({},this.detected);this.canhwscroll=C.hastransform&&y.opt.hwacceleration,this.ishwscroll=this.canhwscroll&&y.haswrapper,this.hasreversehr=this.isrtlmode?this.isvertical?!(C.iswebkit||C.isie||C.isie11):!(C.iswebkit||C.isie&&!C.isie10&&!C.isie11):!1,this.istouchcapable=!1,C.cantouch||!C.hasw3ctouch&&!C.hasmstouch?!C.cantouch||C.isios||C.isandroid||!C.iswebkit&&!C.ismozilla||(this.istouchcapable=!0):this.istouchcapable=!0,y.opt.enablemouselockapi||(C.hasmousecapture=!1,C.haspointerlock=!1),this.debounced=function(e,t,o){if(y){var r=y.delaylist[e]||!1;r||(t.call(y),y.delaylist[e]={h:d(function(){y.delaylist[e].fn.call(y),y.delaylist[e]=!1},o)}),y.delaylist[e].fn=t}};var _=!1;this.synched=function(e,t){function o(){_||(d(function(){if(y){_=!1;for(var e in y.synclist){var t=y.synclist[e];t&&t.call(y),y.synclist[e]=!1}}}),_=!0)}return y.synclist[e]=t,o(),e},this.unsynched=function(e){y.synclist[e]&&(y.synclist[e]=!1)},this.css=function(e,t){for(var o in t)y.saved.css.push([e,o,e.css(o)]),e.css(o,t[o])},this.scrollTop=function(e){return void 0===e?y.getScrollTop():y.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?y.getScrollLeft():y.setScrollLeft(e)};var E=function(e,t,o,r,n,i,a){this.st=e,this.ed=t,this.spd=o,this.p1=r||0,this.p2=n||1,this.p3=i||0,this.p4=a||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st};if(E.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=(new Date).getTime(),t=1-(e-this.ts)/this.spd,o=this.B2(t)+this.B3(t)+this.B4(t);return 0>t?this.ed:this.st+Math.round(this.df*o)},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},C.hastranslate3d&&C.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(e){if(!e){var t=o();if(t)return 16==t.length?-t[13]:-t[5];if(y.timerscroll&&y.timerscroll.bz)return y.timerscroll.bz.getNow()}return y.doc.translate.y},this.getScrollLeft=function(e){if(!e){var t=o();if(t)return 16==t.length?-t[12]:-t[4];if(y.timerscroll&&y.timerscroll.bh)return y.timerscroll.bh.getNow()}return y.doc.translate.x},this.notifyScrollEvent=function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scroll",!1,!0,window,1),t.niceevent=!0,e.dispatchEvent(t)};var x=this.isrtlmode?1:-1;C.hastranslate3d&&y.opt.enabletranslate3d?(this.setScrollTop=function(e,t){y.doc.translate.y=e,y.doc.translate.ty=-1*e+"px",y.doc.css(C.trstyle,"translate3d("+y.doc.translate.tx+","+y.doc.translate.ty+",0px)"),t||y.notifyScrollEvent(y.win[0])},this.setScrollLeft=function(e,t){y.doc.translate.x=e,y.doc.translate.tx=e*x+"px",y.doc.css(C.trstyle,"translate3d("+y.doc.translate.tx+","+y.doc.translate.ty+",0px)"),t||y.notifyScrollEvent(y.win[0])}):(this.setScrollTop=function(e,t){y.doc.translate.y=e,y.doc.translate.ty=-1*e+"px",y.doc.css(C.trstyle,"translate("+y.doc.translate.tx+","+y.doc.translate.ty+")"),t||y.notifyScrollEvent(y.win[0])},this.setScrollLeft=function(e,t){y.doc.translate.x=e,y.doc.translate.tx=e*x+"px",y.doc.css(C.trstyle,"translate("+y.doc.translate.tx+","+y.doc.translate.ty+")"),t||y.notifyScrollEvent(y.win[0])})}else this.getScrollTop=function(){return y.docscroll.scrollTop()},this.setScrollTop=function(e){return setTimeout(function(){y&&y.docscroll.scrollTop(e)},1)},this.getScrollLeft=function(){var e;return e=y.hasreversehr?y.detected.ismozilla?y.page.maxw-Math.abs(y.docscroll.scrollLeft()):y.page.maxw-y.docscroll.scrollLeft():y.docscroll.scrollLeft()},this.setScrollLeft=function(e){return setTimeout(function(){return y?(y.hasreversehr&&(e=y.detected.ismozilla?-(y.page.maxw-e):y.page.maxw-e),y.docscroll.scrollLeft(e)):void 0},1)};this.getTarget=function(e){return e?e.target?e.target:e.srcElement?e.srcElement:!1:!1},this.hasParent=function(e,t){if(!e)return!1;for(var o=e.target||e.srcElement||e||!1;o&&o.id!=t;)o=o.parentNode||!1;return o!==!1};var S={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}},this.getOffset=function(){if(y.isfixed){var e=y.win.offset(),t=y.getDocumentScrollOffset();return e.top-=t.top,e.left-=t.left,e}var o=y.win.offset();if(!y.viewport)return o;var r=y.viewport.offset();return{top:o.top-r.top,left:o.left-r.left}},this.updateScrollBar=function(e){var t,o;if(y.ishwscroll)y.rail.css({height:y.win.innerHeight()-(y.opt.railpadding.top+y.opt.railpadding.bottom)}),y.railh&&y.railh.css({width:y.win.innerWidth()-(y.opt.railpadding.left+y.opt.railpadding.right)});else{var r=y.getOffset();if(t={top:r.top,left:r.left-(y.opt.railpadding.left+y.opt.railpadding.right)},t.top+=h(y.win,"border-top-width",!0),t.left+=y.rail.align?y.win.outerWidth()-h(y.win,"border-right-width")-y.rail.width:h(y.win,"border-left-width"),o=y.opt.railoffset,o&&(o.top&&(t.top+=o.top),o.left&&(t.left+=o.left)),y.railslocked||y.rail.css({top:t.top,left:t.left,height:(e?e.h:y.win.innerHeight())-(y.opt.railpadding.top+y.opt.railpadding.bottom)}),y.zoom&&y.zoom.css({top:t.top+1,left:1==y.rail.align?t.left-20:t.left+y.rail.width+4}),y.railh&&!y.railslocked){t={top:r.top,left:r.left},o=y.opt.railhoffset,o&&(o.top&&(t.top+=o.top),o.left&&(t.left+=o.left));var n=y.railh.align?t.top+h(y.win,"border-top-width",!0)+y.win.innerHeight()-y.railh.height:t.top+h(y.win,"border-top-width",!0),i=t.left+h(y.win,"border-left-width");y.railh.css({top:n-(y.opt.railpadding.top+y.opt.railpadding.bottom),left:i,width:y.railh.width})}}},this.doRailClick=function(e,t,o){var r,n,i,a;y.railslocked||(y.cancelEvent(e),t?(r=o?y.doScrollLeft:y.doScrollTop,i=o?(e.pageX-y.railh.offset().left-y.cursorwidth/2)*y.scrollratio.x:(e.pageY-y.rail.offset().top-y.cursorheight/2)*y.scrollratio.y,r(i)):(r=o?y.doScrollLeftBy:y.doScrollBy,i=o?y.scroll.x:y.scroll.y,a=o?e.pageX-y.railh.offset().left:e.pageY-y.rail.offset().top,n=o?y.view.w:y.view.h,r(i>=a?n:-n)))},y.hasanimationframe=d,y.hascancelanimationframe=u,y.hasanimationframe?y.hascancelanimationframe||(u=function(){y.cancelAnimationFrame=!0}):(d=function(e){return setTimeout(e,15-Math.floor(+new Date/1e3)%16)},u=clearTimeout),this.init=function(){if(y.saved.css=[],C.isie7mobile)return!0;if(C.isoperamini)return!0;C.isie10?"-ms-touch-action":"touch-action";C.hasmstouch&&y.css(y.ispage?l("html"):y.win,{_touchaction:"none"});var e=C.ismodernie||C.isie10?{"-ms-overflow-style":"none"}:{"overflow-y":"hidden"};if(y.zindex="auto",y.zindex=y.ispage||"auto"!=y.opt.zindex?y.opt.zindex:c()||"auto",!y.ispage&&"auto"!=y.zindex&&y.zindex>s&&(s=y.zindex),y.isie&&0==y.zindex&&"auto"==y.opt.zindex&&(y.zindex="auto"),!y.ispage||!C.cantouch&&!C.isieold&&!C.isie9mobile){var t=y.docscroll;y.ispage&&(t=y.haswrapper?y.win:y.doc),C.isie9mobile||y.css(t,e),y.ispage&&C.isie7&&("BODY"==y.doc[0].nodeName?y.css(l("html"),{"overflow-y":"hidden"}):"HTML"==y.doc[0].nodeName&&y.css(l("body"),e)),!C.isios||y.ispage||y.haswrapper||y.css(l("body"),{"-webkit-overflow-scrolling":"touch"});var o=l(document.createElement("div"));o.css({position:"relative",top:0,"float":"right",width:y.opt.cursorwidth,height:0,"background-color":y.opt.cursorcolor,border:y.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":y.opt.cursorborderradius,"-moz-border-radius":y.opt.cursorborderradius,"border-radius":y.opt.cursorborderradius}),o.hborder=parseFloat(o.outerHeight()-o.innerHeight()),o.addClass("nicescroll-cursors"),y.cursor=o;var a=l(document.createElement("div"));a.attr("id",y.id),a.addClass("nicescroll-rails nicescroll-rails-vr");var d,u,h=["left","right","top","bottom"];for(var p in h)u=h[p],d=y.opt.railpadding[u],d?a.css("padding-"+u,d+"px"):y.opt.railpadding[u]=0;a.append(o),a.width=Math.max(parseFloat(y.opt.cursorwidth),o.outerWidth()),a.css({width:a.width+"px",zIndex:y.zindex,background:y.opt.background,cursor:"default"}),a.visibility=!0,a.scrollable=!0,a.align="left"==y.opt.railalign?0:1,y.rail=a,y.rail.drag=!1;var g=!1;!y.opt.boxzoom||y.ispage||C.isieold||(g=document.createElement("div"),y.bind(g,"click",y.doZoom),y.bind(g,"mouseenter",function(){y.zoom.css("opacity",y.opt.cursoropacitymax)}),y.bind(g,"mouseleave",function(){y.zoom.css("opacity",y.opt.cursoropacitymin)}),y.zoom=l(g),y.zoom.css({cursor:"pointer",zIndex:y.zindex,backgroundImage:"url("+y.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),y.opt.dblclickzoom&&y.bind(y.win,"dblclick",y.doZoom),C.cantouch&&y.opt.gesturezoom&&(y.ongesturezoom=function(e){return e.scale>1.5&&y.doZoomIn(e),e.scale<.8&&y.doZoomOut(e),y.cancelEvent(e)},y.bind(y.win,"gestureend",y.ongesturezoom))),y.railh=!1;var m;if(y.opt.horizrailenabled){y.css(t,{overflowX:"hidden"});var o=l(document.createElement("div"));o.css({position:"absolute",top:0,height:y.opt.cursorwidth,width:0,backgroundColor:y.opt.cursorcolor,border:y.opt.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":y.opt.cursorborderradius,"-moz-border-radius":y.opt.cursorborderradius,"border-radius":y.opt.cursorborderradius}),C.isieold&&o.css("overflow","hidden"),o.wborder=parseFloat(o.outerWidth()-o.innerWidth()),o.addClass("nicescroll-cursors"),y.cursorh=o,m=l(document.createElement("div")),m.attr("id",y.id+"-hr"),m.addClass("nicescroll-rails nicescroll-rails-hr"),m.height=Math.max(parseFloat(y.opt.cursorwidth),o.outerHeight()),m.css({height:m.height+"px",zIndex:y.zindex,background:y.opt.background}),m.append(o),m.visibility=!0,m.scrollable=!0,m.align="top"==y.opt.railvalign?0:1,y.railh=m,y.railh.drag=!1}if(y.ispage)a.css({position:"fixed",top:0,height:"100%"}),a.css(a.align?{right:0}:{left:0}),y.body.append(a),y.railh&&(m.css({position:"fixed",left:0,width:"100%"}),m.css(m.align?{bottom:0}:{top:0}),y.body.append(m));else{if(y.ishwscroll){"static"==y.win.css("position")&&y.css(y.win,{position:"relative"});var v="HTML"==y.win[0].nodeName?y.body:y.win;l(v).scrollTop(0).scrollLeft(0),y.zoom&&(y.zoom.css({position:"absolute",top:1,right:0,"margin-right":a.width+4}),v.append(y.zoom)),a.css({position:"absolute",top:0}),a.css(a.align?{right:0}:{left:0}),v.append(a),m&&(m.css({position:"absolute",left:0,bottom:0}),m.css(m.align?{bottom:0}:{top:0}),v.append(m))}else{y.isfixed="fixed"==y.win.css("position");var b=y.isfixed?"fixed":"absolute";y.isfixed||(y.viewport=y.getViewport(y.win[0])),y.viewport&&(y.body=y.viewport,0==/fixed|absolute/.test(y.viewport.css("position"))&&y.css(y.viewport,{position:"relative"})),a.css({position:b}),y.zoom&&y.zoom.css({position:b}),y.updateScrollBar(),y.body.append(a),y.zoom&&y.body.append(y.zoom),y.railh&&(m.css({position:b}),y.body.append(m))}C.isios&&y.css(y.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),C.isie&&y.opt.disableoutline&&y.win.attr("hideFocus","true"),C.iswebkit&&y.opt.disableoutline&&y.win.css("outline","none")}if(y.opt.autohidemode===!1?(y.autohidedom=!1,y.rail.css({opacity:y.opt.cursoropacitymax}),y.railh&&y.railh.css({opacity:y.opt.cursoropacitymax})):y.opt.autohidemode===!0||"leave"===y.opt.autohidemode?(y.autohidedom=l().add(y.rail),C.isie8&&(y.autohidedom=y.autohidedom.add(y.cursor)),y.railh&&(y.autohidedom=y.autohidedom.add(y.railh)),y.railh&&C.isie8&&(y.autohidedom=y.autohidedom.add(y.cursorh))):"scroll"==y.opt.autohidemode?(y.autohidedom=l().add(y.rail),y.railh&&(y.autohidedom=y.autohidedom.add(y.railh))):"cursor"==y.opt.autohidemode?(y.autohidedom=l().add(y.cursor),y.railh&&(y.autohidedom=y.autohidedom.add(y.cursorh))):"hidden"==y.opt.autohidemode&&(y.autohidedom=!1,y.hide(),y.railslocked=!1),C.isie9mobile){y.scrollmom=new w(y),y.onmangotouch=function(){var e=y.getScrollTop(),t=y.getScrollLeft();if(e==y.scrollmom.lastscrolly&&t==y.scrollmom.lastscrollx)return!0;var o=e-y.mangotouch.sy,r=t-y.mangotouch.sx,n=Math.round(Math.sqrt(Math.pow(r,2)+Math.pow(o,2)));if(0!=n){var i=0>o?-1:1,a=0>r?-1:1,s=+new Date;if(y.mangotouch.lazy&&clearTimeout(y.mangotouch.lazy),s-y.mangotouch.tm>80||y.mangotouch.dry!=i||y.mangotouch.drx!=a)y.scrollmom.stop(),y.scrollmom.reset(t,e),y.mangotouch.sy=e,y.mangotouch.ly=e,y.mangotouch.sx=t,y.mangotouch.lx=t,y.mangotouch.dry=i,y.mangotouch.drx=a,y.mangotouch.tm=s;else{y.scrollmom.stop(),y.scrollmom.update(y.mangotouch.sx-r,y.mangotouch.sy-o),y.mangotouch.tm=s;var l=Math.max(Math.abs(y.mangotouch.ly-e),Math.abs(y.mangotouch.lx-t));y.mangotouch.ly=e,y.mangotouch.lx=t,l>2&&(y.mangotouch.lazy=setTimeout(function(){y.mangotouch.lazy=!1,y.mangotouch.dry=0,y.mangotouch.drx=0,y.mangotouch.tm=0,y.scrollmom.doMomentum(30)},100))}}};var I=y.getScrollTop(),T=y.getScrollLeft();y.mangotouch={sy:I,ly:I,dry:0,sx:T,lx:T,drx:0,lazy:!1,tm:0},y.bind(y.docscroll,"scroll",y.onmangotouch)}else{if(C.cantouch||y.istouchcapable||y.opt.touchbehavior||C.hasmstouch){y.scrollmom=new w(y),y.ontouchstart=function(e){if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(y.hasmoving=!1,!y.railslocked){var t;if(C.hasmstouch)for(t=e.target?e.target:!1;t;){var o=l(t).getNiceScroll();if(o.length>0&&o[0].me==y.me)break;if(o.length>0)return!1;if("DIV"==t.nodeName&&t.id==y.id)break;t=t.parentNode?t.parentNode:!1}if(y.cancelScroll(),t=y.getTarget(e)){var r=/INPUT/i.test(t.nodeName)&&/range/i.test(t.type);if(r)return y.stopPropagation(e)}if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),y.forcescreen){var n=e;e={original:e.original?e.original:e},e.clientX=n.screenX,e.clientY=n.screenY}if(y.rail.drag={x:e.clientX,y:e.clientY,sx:y.scroll.x,sy:y.scroll.y,st:y.getScrollTop(),sl:y.getScrollLeft(),pt:2,dl:!1},y.ispage||!y.opt.directionlockdeadzone)y.rail.drag.dl="f";else{var i={w:l(window).width(),h:l(window).height()},a={w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},s=Math.max(0,a.h-i.h),c=Math.max(0,a.w-i.w);y.rail.drag.ck=!y.rail.scrollable&&y.railh.scrollable?s>0?"v":!1:y.rail.scrollable&&!y.railh.scrollable&&c>0?"h":!1,y.rail.drag.ck||(y.rail.drag.dl="f")}if(y.opt.touchbehavior&&y.isiframe&&C.isie){var d=y.win.position();y.rail.drag.x+=d.left,y.rail.drag.y+=d.top}if(y.hasmoving=!1,y.lastmouseup=!1,y.scrollmom.reset(e.clientX,e.clientY),!C.cantouch&&!this.istouchcapable&&!e.pointerType){var u=t?/INPUT|SELECT|TEXTAREA/i.test(t.nodeName):!1;if(!u)return!y.ispage&&C.hasmousecapture&&t.setCapture(),y.opt.touchbehavior?(t.onclick&&!t._onclick&&(t._onclick=t.onclick,t.onclick=function(e){return y.hasmoving?!1:void t._onclick.call(this,e)}),y.cancelEvent(e)):y.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(l(t).attr("type"))&&(pc={tg:t,click:!1},y.preventclick=pc)}}},y.ontouchend=function(e){if(!y.rail.drag)return!0;if(2==y.rail.drag.pt){if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(y.scrollmom.doMomentum(),y.rail.drag=!1,y.hasmoving&&(y.lastmouseup=!0,y.hideCursor(),C.hasmousecapture&&document.releaseCapture(),!C.cantouch))return y.cancelEvent(e)}else if(1==y.rail.drag.pt)return y.onmouseup(e)};var _=y.opt.touchbehavior&&y.isiframe&&!C.hasmousecapture;y.ontouchmove=function(e,t){if(!y.rail.drag)return!1;if(e.targetTouches&&y.opt.preventmultitouchscrolling&&e.targetTouches.length>1)return!1;

if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(2==y.rail.drag.pt){if(C.cantouch&&C.isios&&void 0===e.original)return!0;y.hasmoving=!0,y.preventclick&&!y.preventclick.click&&(y.preventclick.click=y.preventclick.tg.onclick||!1,y.preventclick.tg.onclick=y.onpreventclick);var o=l.extend({original:e},e);if(e=o,"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),y.forcescreen){var r=e;e={original:e.original?e.original:e},e.clientX=r.screenX,e.clientY=r.screenY}var n,i;if(i=n=0,_&&!t){var a=y.win.position();i=-a.left,n=-a.top}var s=e.clientY+n,c=s-y.rail.drag.y,d=e.clientX+i,u=d-y.rail.drag.x,h=y.rail.drag.st-c;y.ishwscroll&&y.opt.bouncescroll?0>h?h=Math.round(h/2):h>y.page.maxh&&(h=y.page.maxh+Math.round((h-y.page.maxh)/2)):(0>h&&(h=0,s=0),h>y.page.maxh&&(h=y.page.maxh,s=0));var p;y.railh&&y.railh.scrollable&&(p=y.isrtlmode?u-y.rail.drag.sl:y.rail.drag.sl-u,y.ishwscroll&&y.opt.bouncescroll?0>p?p=Math.round(p/2):p>y.page.maxw&&(p=y.page.maxw+Math.round((p-y.page.maxw)/2)):(0>p&&(p=0,d=0),p>y.page.maxw&&(p=y.page.maxw,d=0)));var f=!1;if(y.rail.drag.dl)f=!0,"v"==y.rail.drag.dl?p=y.rail.drag.sl:"h"==y.rail.drag.dl&&(h=y.rail.drag.st);else{var g=Math.abs(c),m=Math.abs(u),v=y.opt.directionlockdeadzone;if("v"==y.rail.drag.ck){if(g>v&&.3*g>=m)return y.rail.drag=!1,!0;m>v&&(y.rail.drag.dl="f",l("body").scrollTop(l("body").scrollTop()))}else if("h"==y.rail.drag.ck){if(m>v&&.3*m>=g)return y.rail.drag=!1,!0;g>v&&(y.rail.drag.dl="f",l("body").scrollLeft(l("body").scrollLeft()))}}if(y.synched("touchmove",function(){y.rail.drag&&2==y.rail.drag.pt&&(y.prepareTransition&&y.prepareTransition(0),y.rail.scrollable&&y.setScrollTop(h),y.scrollmom.update(d,s),y.railh&&y.railh.scrollable?(y.setScrollLeft(p),y.showCursor(h,p)):y.showCursor(h),C.isie10&&document.selection.clear())}),C.ischrome&&y.istouchcapable&&(f=!1),f)return y.cancelEvent(e)}else if(1==y.rail.drag.pt)return y.onmousemove(e)}}if(y.onmousedown=function(e,t){if(!y.rail.drag||1==y.rail.drag.pt){if(y.railslocked)return y.cancelEvent(e);y.cancelScroll(),y.rail.drag={x:e.clientX,y:e.clientY,sx:y.scroll.x,sy:y.scroll.y,pt:1,hr:!!t};var o=y.getTarget(e);return!y.ispage&&C.hasmousecapture&&o.setCapture(),y.isiframe&&!C.hasmousecapture&&(y.saved.csspointerevents=y.doc.css("pointer-events"),y.css(y.doc,{"pointer-events":"none"})),y.hasmoving=!1,y.cancelEvent(e)}},y.onmouseup=function(e){return y.rail.drag?1!=y.rail.drag.pt?!0:(C.hasmousecapture&&document.releaseCapture(),y.isiframe&&!C.hasmousecapture&&y.doc.css("pointer-events",y.saved.csspointerevents),y.rail.drag=!1,y.hasmoving&&y.triggerScrollEnd(),y.cancelEvent(e)):void 0},y.onmousemove=function(e){if(y.rail.drag){if(1!=y.rail.drag.pt)return;if(C.ischrome&&0==e.which)return y.onmouseup(e);if(y.cursorfreezed=!0,y.hasmoving=!0,y.rail.drag.hr){y.scroll.x=y.rail.drag.sx+(e.clientX-y.rail.drag.x),y.scroll.x<0&&(y.scroll.x=0);var t=y.scrollvaluemaxw;y.scroll.x>t&&(y.scroll.x=t)}else{y.scroll.y=y.rail.drag.sy+(e.clientY-y.rail.drag.y),y.scroll.y<0&&(y.scroll.y=0);var o=y.scrollvaluemax;y.scroll.y>o&&(y.scroll.y=o)}return y.synched("mousemove",function(){y.rail.drag&&1==y.rail.drag.pt&&(y.showCursor(),y.rail.drag.hr?y.hasreversehr?y.doScrollLeft(y.scrollvaluemaxw-Math.round(y.scroll.x*y.scrollratio.x),y.opt.cursordragspeed):y.doScrollLeft(Math.round(y.scroll.x*y.scrollratio.x),y.opt.cursordragspeed):y.doScrollTop(Math.round(y.scroll.y*y.scrollratio.y),y.opt.cursordragspeed))}),y.cancelEvent(e)}y.checkarea=0},C.cantouch||y.opt.touchbehavior)y.onpreventclick=function(e){return y.preventclick?(y.preventclick.tg.onclick=y.preventclick.click,y.preventclick=!1,y.cancelEvent(e)):void 0},y.bind(y.win,"mousedown",y.ontouchstart),y.onclick=C.isios?!1:function(e){return y.lastmouseup?(y.lastmouseup=!1,y.cancelEvent(e)):!0},y.opt.grabcursorenabled&&C.cursorgrabvalue&&(y.css(y.ispage?y.doc:y.win,{cursor:C.cursorgrabvalue}),y.css(y.rail,{cursor:C.cursorgrabvalue}));else{var E=function(e){if(y.selectiondrag){if(e){var t=y.win.outerHeight(),o=e.pageY-y.selectiondrag.top;o>0&&t>o&&(o=0),o>=t&&(o-=t),y.selectiondrag.df=o}if(0!=y.selectiondrag.df){var r=2*-Math.floor(y.selectiondrag.df/6);y.doScrollBy(r),y.debounced("doselectionscroll",function(){E()},50)}}};y.hasTextSelected="getSelection"in document?function(){return document.getSelection().rangeCount>0}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},y.onselectionstart=function(e){y.ispage||(y.selectiondrag=y.win.offset())},y.onselectionend=function(e){y.selectiondrag=!1},y.onselectiondrag=function(e){y.selectiondrag&&y.hasTextSelected()&&y.debounced("selectionscroll",function(){E(e)},250)}}C.hasw3ctouch?(y.css(y.rail,{"touch-action":"none"}),y.css(y.cursor,{"touch-action":"none"}),y.bind(y.win,"pointerdown",y.ontouchstart),y.bind(document,"pointerup",y.ontouchend),y.bind(document,"pointermove",y.ontouchmove)):C.hasmstouch?(y.css(y.rail,{"-ms-touch-action":"none"}),y.css(y.cursor,{"-ms-touch-action":"none"}),y.bind(y.win,"MSPointerDown",y.ontouchstart),y.bind(document,"MSPointerUp",y.ontouchend),y.bind(document,"MSPointerMove",y.ontouchmove),y.bind(y.cursor,"MSGestureHold",function(e){e.preventDefault()}),y.bind(y.cursor,"contextmenu",function(e){e.preventDefault()})):this.istouchcapable&&(y.bind(y.win,"touchstart",y.ontouchstart),y.bind(document,"touchend",y.ontouchend),y.bind(document,"touchcancel",y.ontouchend),y.bind(document,"touchmove",y.ontouchmove)),(y.opt.cursordragontouch||!C.cantouch&&!y.opt.touchbehavior)&&(y.rail.css({cursor:"default"}),y.railh&&y.railh.css({cursor:"default"}),y.jqbind(y.rail,"mouseenter",function(){return y.ispage||y.win.is(":visible")?(y.canshowonmouseevent&&y.showCursor(),void(y.rail.active=!0)):!1}),y.jqbind(y.rail,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}),y.opt.sensitiverail&&(y.bind(y.rail,"click",function(e){y.doRailClick(e,!1,!1)}),y.bind(y.rail,"dblclick",function(e){y.doRailClick(e,!0,!1)}),y.bind(y.cursor,"click",function(e){y.cancelEvent(e)}),y.bind(y.cursor,"dblclick",function(e){y.cancelEvent(e)})),y.railh&&(y.jqbind(y.railh,"mouseenter",function(){return y.ispage||y.win.is(":visible")?(y.canshowonmouseevent&&y.showCursor(),void(y.rail.active=!0)):!1}),y.jqbind(y.railh,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}),y.opt.sensitiverail&&(y.bind(y.railh,"click",function(e){y.doRailClick(e,!1,!0)}),y.bind(y.railh,"dblclick",function(e){y.doRailClick(e,!0,!0)}),y.bind(y.cursorh,"click",function(e){y.cancelEvent(e)}),y.bind(y.cursorh,"dblclick",function(e){y.cancelEvent(e)})))),C.cantouch||y.opt.touchbehavior?(y.bind(C.hasmousecapture?y.win:document,"mouseup",y.ontouchend),y.bind(document,"mousemove",y.ontouchmove),y.onclick&&y.bind(document,"click",y.onclick),y.opt.cursordragontouch?(y.bind(y.cursor,"mousedown",y.onmousedown),y.bind(y.cursor,"mouseup",y.onmouseup),y.cursorh&&y.bind(y.cursorh,"mousedown",function(e){y.onmousedown(e,!0)}),y.cursorh&&y.bind(y.cursorh,"mouseup",y.onmouseup)):(y.bind(y.rail,"mousedown",function(e){e.preventDefault()}),y.railh&&y.bind(y.railh,"mousedown",function(e){e.preventDefault()}))):(y.bind(C.hasmousecapture?y.win:document,"mouseup",y.onmouseup),y.bind(document,"mousemove",y.onmousemove),y.onclick&&y.bind(document,"click",y.onclick),y.bind(y.cursor,"mousedown",y.onmousedown),y.bind(y.cursor,"mouseup",y.onmouseup),y.railh&&(y.bind(y.cursorh,"mousedown",function(e){y.onmousedown(e,!0)}),y.bind(y.cursorh,"mouseup",y.onmouseup)),!y.ispage&&y.opt.enablescrollonselection&&(y.bind(y.win[0],"mousedown",y.onselectionstart),y.bind(document,"mouseup",y.onselectionend),y.bind(y.cursor,"mouseup",y.onselectionend),y.cursorh&&y.bind(y.cursorh,"mouseup",y.onselectionend),y.bind(document,"mousemove",y.onselectiondrag)),y.zoom&&(y.jqbind(y.zoom,"mouseenter",function(){y.canshowonmouseevent&&y.showCursor(),y.rail.active=!0}),y.jqbind(y.zoom,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}))),y.opt.enablemousewheel&&(y.isiframe||y.mousewheel(C.isie&&y.ispage?document:y.win,y.onmousewheel),y.mousewheel(y.rail,y.onmousewheel),y.railh&&y.mousewheel(y.railh,y.onmousewheelhr)),y.ispage||C.cantouch||/HTML|^BODY/.test(y.win[0].nodeName)||(y.win.attr("tabindex")||y.win.attr({tabindex:i++}),y.jqbind(y.win,"focus",function(e){r=y.getTarget(e).id||!0,y.hasfocus=!0,y.canshowonmouseevent&&y.noticeCursor()}),y.jqbind(y.win,"blur",function(e){r=!1,y.hasfocus=!1}),y.jqbind(y.win,"mouseenter",function(e){n=y.getTarget(e).id||!0,y.hasmousefocus=!0,y.canshowonmouseevent&&y.noticeCursor()}),y.jqbind(y.win,"mouseleave",function(){n=!1,y.hasmousefocus=!1,y.rail.drag||y.hideCursor()}))}if(y.onkeypress=function(e){if(y.railslocked&&0==y.page.maxh)return!0;e=e?e:window.e;var t=y.getTarget(e);if(t&&/INPUT|TEXTAREA|SELECT|OPTION/.test(t.nodeName)){var o=t.getAttribute("type")||t.type||!1;if(!o||!/submit|button|cancel/i.tp)return!0}if(l(t).attr("contenteditable"))return!0;if(y.hasfocus||y.hasmousefocus&&!r||y.ispage&&!r&&!n){var i=e.keyCode;if(y.railslocked&&27!=i)return y.cancelEvent(e);var a=e.ctrlKey||!1,s=e.shiftKey||!1,c=!1;switch(i){case 38:case 63233:y.doScrollBy(72),c=!0;break;case 40:case 63235:y.doScrollBy(-72),c=!0;break;case 37:case 63232:y.railh&&(a?y.doScrollLeft(0):y.doScrollLeftBy(72),c=!0);break;case 39:case 63234:y.railh&&(a?y.doScrollLeft(y.page.maxw):y.doScrollLeftBy(-72),c=!0);break;case 33:case 63276:y.doScrollBy(y.view.h),c=!0;break;case 34:case 63277:y.doScrollBy(-y.view.h),c=!0;break;case 36:case 63273:y.railh&&a?y.doScrollPos(0,0):y.doScrollTo(0),c=!0;break;case 35:case 63275:y.railh&&a?y.doScrollPos(y.page.maxw,y.page.maxh):y.doScrollTo(y.page.maxh),c=!0;break;case 32:y.opt.spacebarenabled&&(y.doScrollBy(s?y.view.h:-y.view.h),c=!0);break;case 27:y.zoomactive&&(y.doZoom(),c=!0)}if(c)return y.cancelEvent(e)}},y.opt.enablekeyboard&&y.bind(document,C.isopera&&!C.isopera12?"keypress":"keydown",y.onkeypress),y.bind(document,"keydown",function(e){var t=e.ctrlKey||!1;t&&(y.wheelprevented=!0)}),y.bind(document,"keyup",function(e){var t=e.ctrlKey||!1;t||(y.wheelprevented=!1)}),y.bind(window,"blur",function(e){y.wheelprevented=!1}),y.bind(window,"resize",y.lazyResize),y.bind(window,"orientationchange",y.lazyResize),y.bind(window,"load",y.lazyResize),C.ischrome&&!y.ispage&&!y.haswrapper){var x=y.win.attr("style"),S=parseFloat(y.win.css("width"))+1;y.win.css("width",S),y.synched("chromefix",function(){y.win.attr("style",x)})}y.onAttributeChange=function(e){y.lazyResize(y.isieold?250:30)},y.isie11||f===!1||(y.observerbody=new f(function(e){return e.forEach(function(e){return"attributes"==e.type?l("body").hasClass("modal-open")&&l("body").hasClass("modal-dialog")&&!l.contains(l(".modal-dialog")[0],y.doc[0])?y.hide():y.show():void 0}),document.body.scrollHeight!=y.page.maxh?y.lazyResize(30):void 0}),y.observerbody.observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),y.ispage||y.haswrapper||(f!==!1?(y.observer=new f(function(e){e.forEach(y.onAttributeChange)}),y.observer.observe(y.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),y.observerremover=new f(function(e){e.forEach(function(e){if(e.removedNodes.length>0)for(var t in e.removedNodes)if(y&&e.removedNodes[t]==y.win[0])return y.remove()})}),y.observerremover.observe(y.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(y.bind(y.win,C.isie&&!C.isie9?"propertychange":"DOMAttrModified",y.onAttributeChange),C.isie9&&y.win[0].attachEvent("onpropertychange",y.onAttributeChange),y.bind(y.win,"DOMNodeRemoved",function(e){e.target==y.win[0]&&y.remove()}))),!y.ispage&&y.opt.boxzoom&&y.bind(window,"resize",y.resizeZoom),y.istextarea&&(y.bind(y.win,"keydown",y.lazyResize),y.bind(y.win,"mouseup",y.lazyResize)),y.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var A=function(){y.iframexd=!1;var t;try{t="contentDocument"in this?this.contentDocument:this.contentWindow.document;{t.domain}}catch(o){y.iframexd=!0,t=!1}if(y.iframexd)return"console"in window,!0;if(y.forcescreen=!0,y.isiframe&&(y.iframe={doc:l(t),html:y.doc.contents().find("html")[0],body:y.doc.contents().find("body")[0]},y.getContentSize=function(){return{w:Math.max(y.iframe.html.scrollWidth,y.iframe.body.scrollWidth),h:Math.max(y.iframe.html.scrollHeight,y.iframe.body.scrollHeight)}},y.docscroll=l(y.iframe.body)),!C.isios&&y.opt.iframeautoresize&&!y.isiframe){y.win.scrollTop(0),y.doc.height("");var r=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight);y.doc.height(r)}y.lazyResize(30),C.isie7&&y.css(l(y.iframe.html),e),y.css(l(y.iframe.body),e),C.isios&&y.haswrapper&&y.css(l(t.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?y.bind(this.contentWindow,"scroll",y.onscroll):y.bind(t,"scroll",y.onscroll),y.opt.enablemousewheel&&y.mousewheel(t,y.onmousewheel),y.opt.enablekeyboard&&y.bind(t,C.isopera?"keypress":"keydown",y.onkeypress),(C.cantouch||y.opt.touchbehavior)&&(y.bind(t,"mousedown",y.ontouchstart),y.bind(t,"mousemove",function(e){return y.ontouchmove(e,!0)}),y.opt.grabcursorenabled&&C.cursorgrabvalue&&y.css(l(t.body),{cursor:C.cursorgrabvalue})),y.bind(t,"mouseup",y.ontouchend),y.zoom&&(y.opt.dblclickzoom&&y.bind(t,"dblclick",y.doZoom),y.ongesturezoom&&y.bind(t,"gestureend",y.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){A.call(y.doc[0],!1)},500),y.bind(this.doc,"load",A)}},this.showCursor=function(e,t){if(y.cursortimeout&&(clearTimeout(y.cursortimeout),y.cursortimeout=0),y.rail){if(y.autohidedom&&(y.autohidedom.stop().css({opacity:y.opt.cursoropacitymax}),y.cursoractive=!0),y.rail.drag&&1==y.rail.drag.pt||(void 0!==e&&e!==!1&&(y.scroll.y=Math.round(1*e/y.scrollratio.y)),void 0!==t&&(y.scroll.x=Math.round(1*t/y.scrollratio.x))),y.cursor.css({height:y.cursorheight,top:y.scroll.y}),y.cursorh){var o=y.hasreversehr?y.scrollvaluemaxw-y.scroll.x:y.scroll.x;y.cursorh.css(!y.rail.align&&y.rail.visibility?{width:y.cursorwidth,left:o+y.rail.width}:{width:y.cursorwidth,left:o}),y.cursoractive=!0}y.zoom&&y.zoom.stop().css({opacity:y.opt.cursoropacitymax})}},this.hideCursor=function(e){y.cursortimeout||y.rail&&y.autohidedom&&(y.hasmousefocus&&"leave"==y.opt.autohidemode||(y.cursortimeout=setTimeout(function(){y.rail.active&&y.showonmouseevent||(y.autohidedom.stop().animate({opacity:y.opt.cursoropacitymin}),y.zoom&&y.zoom.stop().animate({opacity:y.opt.cursoropacitymin}),y.cursoractive=!1),y.cursortimeout=0},e||y.opt.hidecursordelay)))},this.noticeCursor=function(e,t,o){y.showCursor(t,o),y.rail.active||y.hideCursor(e)},this.getContentSize=y.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:y.haswrapper?function(){return{w:y.doc.outerWidth()+parseInt(y.win.css("paddingLeft"))+parseInt(y.win.css("paddingRight")),h:y.doc.outerHeight()+parseInt(y.win.css("paddingTop"))+parseInt(y.win.css("paddingBottom"))}}:function(){return{w:y.docscroll[0].scrollWidth,h:y.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!y||!y.win)return!1;if(!y.haswrapper&&!y.ispage){if("none"==y.win.css("display"))return y.visibility&&y.hideRail().hideRailHr(),!1;y.hidden||y.visibility||y.showRail().showRailHr()}var o=y.page.maxh,r=y.page.maxw,n={h:y.view.h,w:y.view.w};if(y.view={w:y.ispage?y.win.width():parseInt(y.win[0].clientWidth),h:y.ispage?y.win.height():parseInt(y.win[0].clientHeight)},y.page=t?t:y.getContentSize(),y.page.maxh=Math.max(0,y.page.h-y.view.h),y.page.maxw=Math.max(0,y.page.w-y.view.w),y.page.maxh==o&&y.page.maxw==r&&y.view.w==n.w&&y.view.h==n.h){if(y.ispage)return y;var i=y.win.offset();if(y.lastposition){var a=y.lastposition;if(a.top==i.top&&a.left==i.left)return y}y.lastposition=i}if(0==y.page.maxh?(y.hideRail(),y.scrollvaluemax=0,y.scroll.y=0,y.scrollratio.y=0,y.cursorheight=0,y.setScrollTop(0),y.rail&&(y.rail.scrollable=!1)):(y.page.maxh-=y.opt.railpadding.top+y.opt.railpadding.bottom,y.rail.scrollable=!0),0==y.page.maxw?(y.hideRailHr(),y.scrollvaluemaxw=0,y.scroll.x=0,y.scrollratio.x=0,y.cursorwidth=0,y.setScrollLeft(0),y.railh&&(y.railh.scrollable=!1)):(y.page.maxw-=y.opt.railpadding.left+y.opt.railpadding.right,y.railh&&(y.railh.scrollable=y.opt.horizrailenabled)),y.railslocked=y.locked||0==y.page.maxh&&0==y.page.maxw,y.railslocked)return y.ispage||y.updateScrollBar(y.view),!1;y.hidden||y.visibility?!y.railh||y.hidden||y.railh.visibility||y.showRailHr():y.showRail().showRailHr(),y.istextarea&&y.win.css("resize")&&"none"!=y.win.css("resize")&&(y.view.h-=20),y.cursorheight=Math.min(y.view.h,Math.round(y.view.h*(y.view.h/y.page.h))),y.cursorheight=y.opt.cursorfixedheight?y.opt.cursorfixedheight:Math.max(y.opt.cursorminheight,y.cursorheight),y.cursorwidth=Math.min(y.view.w,Math.round(y.view.w*(y.view.w/y.page.w))),y.cursorwidth=y.opt.cursorfixedheight?y.opt.cursorfixedheight:Math.max(y.opt.cursorminheight,y.cursorwidth),y.scrollvaluemax=y.view.h-y.cursorheight-y.cursor.hborder-(y.opt.railpadding.top+y.opt.railpadding.bottom),y.railh&&(y.railh.width=y.page.maxh>0?y.view.w-y.rail.width:y.view.w,y.scrollvaluemaxw=y.railh.width-y.cursorwidth-y.cursorh.wborder-(y.opt.railpadding.left+y.opt.railpadding.right)),y.ispage||y.updateScrollBar(y.view),y.scrollratio={x:y.page.maxw/y.scrollvaluemaxw,y:y.page.maxh/y.scrollvaluemax};var s=y.getScrollTop();return s>y.page.maxh?y.doScrollTop(y.page.maxh):(y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.scroll.x=Math.round(y.getScrollLeft()*(1/y.scrollratio.x)),y.cursoractive&&y.noticeCursor()),y.scroll.y&&0==y.getScrollTop()&&y.doScrollTo(Math.floor(y.scroll.y*y.scrollratio.y)),y},this.resize=y.onResize,this.hlazyresize=0,this.lazyResize=function(e){return y.hlazyresize&&clearTimeout(y.hlazyresize),y.hlazyresize=setTimeout(function(){y&&y.show().resize()},240),y},this.jqbind=function(e,t,o){y.events.push({e:e,n:t,f:o,q:!0}),l(e).bind(t,o)},this.mousewheel=function(e,t,o){var r="jquery"in e?e[0]:e;if("onwheel"in document.createElement("div"))y._bind(r,"wheel",t,o||!1);else{var n=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";p(r,n,t,o||!1),"DOMMouseScroll"==n&&p(r,"MozMousePixelScroll",t,o||!1)}},C.haseventlistener?(this.bind=function(e,t,o,r){var n="jquery"in e?e[0]:e;y._bind(n,t,o,r||!1)},this._bind=function(e,t,o,r){y.events.push({e:e,n:t,f:o,b:r,q:!1}),e.addEventListener(t,o,r||!1)},this.cancelEvent=function(e){if(!e)return!1;var e=e.original?e.original:e;return e.cancelable&&e.preventDefault(),e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),!1},this.stopPropagation=function(e){if(!e)return!1;var e=e.original?e.original:e;return e.stopPropagation(),!1},this._unbind=function(e,t,o,r){e.removeEventListener(t,o,r)}):(this.bind=function(e,t,o,r){var n="jquery"in e?e[0]:e;y._bind(n,t,function(e){return e=e||window.event||!1,e&&e.srcElement&&(e.target=e.srcElement),"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop),o.call(n,e)===!1||r===!1?y.cancelEvent(e):!0})},this._bind=function(e,t,o,r){y.events.push({e:e,n:t,f:o,b:r,q:!1}),e.attachEvent?e.attachEvent("on"+t,o):e["on"+t]=o},this.cancelEvent=function(e){var e=window.event||!1;return e?(e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1,!1):!1},this.stopPropagation=function(e){var e=window.event||!1;return e?(e.cancelBubble=!0,!1):!1},this._unbind=function(e,t,o,r){e.detachEvent?e.detachEvent("on"+t,o):e["on"+t]=!1}),this.unbindAll=function(){for(var e=0;e<y.events.length;e++){var t=y.events[e];t.q?t.e.unbind(t.n,t.f):y._unbind(t.e,t.n,t.f,t.b)}},this.showRail=function(){return 0==y.page.maxh||!y.ispage&&"none"==y.win.css("display")||(y.visibility=!0,y.rail.visibility=!0,y.rail.css("display","block")),y},this.showRailHr=function(){return y.railh?(0==y.page.maxw||!y.ispage&&"none"==y.win.css("display")||(y.railh.visibility=!0,y.railh.css("display","block")),y):y},this.hideRail=function(){return y.visibility=!1,y.rail.visibility=!1,y.rail.css("display","none"),y},this.hideRailHr=function(){return y.railh?(y.railh.visibility=!1,y.railh.css("display","none"),y):y},this.show=function(){return y.hidden=!1,y.railslocked=!1,y.showRail().showRailHr()},this.hide=function(){return y.hidden=!0,y.railslocked=!0,y.hideRail().hideRailHr()},this.toggle=function(){return y.hidden?y.show():y.hide()},this.remove=function(){y.stop(),y.cursortimeout&&clearTimeout(y.cursortimeout);for(var e in y.delaylist)y.delaylist[e]&&u(y.delaylist[e].h);y.doZoomOut(),y.unbindAll(),C.isie9&&y.win[0].detachEvent("onpropertychange",y.onAttributeChange),y.observer!==!1&&y.observer.disconnect(),y.observerremover!==!1&&y.observerremover.disconnect(),y.observerbody!==!1&&y.observerbody.disconnect(),y.events=null,y.cursor&&y.cursor.remove(),y.cursorh&&y.cursorh.remove(),y.rail&&y.rail.remove(),y.railh&&y.railh.remove(),y.zoom&&y.zoom.remove();for(var t=0;t<y.saved.css.length;t++){var o=y.saved.css[t];o[0].css(o[1],void 0===o[2]?"":o[2])}y.saved=!1,y.me.data("__nicescroll","");var r=l.nicescroll;r.each(function(e){if(this&&this.id===y.id){delete r[e];for(var t=++e;t<r.length;t++,e++)r[e]=r[t];r.length--,r.length&&delete r[r.length]}});for(var n in y)y[n]=null,delete y[n];y=null},this.scrollstart=function(e){return this.onscrollstart=e,y},this.scrollend=function(e){return this.onscrollend=e,y},this.scrollcancel=function(e){return this.onscrollcancel=e,y},this.zoomin=function(e){return this.onzoomin=e,y},this.zoomout=function(e){return this.onzoomout=e,y},this.isScrollable=function(e){var t=e.target?e.target:e;if("OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){var o=l(t),r=o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"";if(/scroll|auto/.test(r))return t.clientHeight!=t.scrollHeight;t=t.parentNode?t.parentNode:!1}return!1},this.getViewport=function(e){for(var t=e&&e.parentNode?e.parentNode:!1;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){var o=l(t);if(/fixed|absolute/.test(o.css("position")))return o;var r=o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"";if(/scroll|auto/.test(r)&&t.clientHeight!=t.scrollHeight)return o;if(o.getNiceScroll().length>0)return o;t=t.parentNode?t.parentNode:!1}return!1},this.triggerScrollEnd=function(){if(y.onscrollend){var e=y.getScrollLeft(),t=y.getScrollTop(),o={type:"scrollend",current:{x:e,y:t},end:{x:e,y:t}};y.onscrollend.call(y,o)}},this.onmousewheel=function(e){if(!y.wheelprevented){if(y.railslocked)return y.debounced("checkunlock",y.resize,250),!0;if(y.rail.drag)return y.cancelEvent(e);if("auto"==y.opt.oneaxismousemode&&0!=e.deltaX&&(y.opt.oneaxismousemode=!1),y.opt.oneaxismousemode&&0==e.deltaX&&!y.rail.scrollable)return y.railh&&y.railh.scrollable?y.onmousewheelhr(e):!0;var t=+new Date,o=!1;if(y.opt.preservenativescrolling&&y.checkarea+600<t&&(y.nativescrollingarea=y.isScrollable(e),o=!0),y.checkarea=t,y.nativescrollingarea)return!0;var r=m(e,!1,o);return r&&(y.checkarea=0),r}},this.onmousewheelhr=function(e){if(!y.wheelprevented){if(y.railslocked||!y.railh.scrollable)return!0;if(y.rail.drag)return y.cancelEvent(e);var t=+new Date,o=!1;return y.opt.preservenativescrolling&&y.checkarea+600<t&&(y.nativescrollingarea=y.isScrollable(e),o=!0),y.checkarea=t,y.nativescrollingarea?!0:y.railslocked?y.cancelEvent(e):m(e,!0,o)}},this.stop=function(){return y.cancelScroll(),y.scrollmon&&y.scrollmon.stop(),y.cursorfreezed=!1,y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.noticeCursor(),y},this.getTransitionSpeed=function(e){var t=Math.round(10*y.opt.scrollspeed),o=Math.min(t,Math.round(e/20*y.opt.scrollspeed));return o>20?o:0},y.opt.smoothscroll?y.ishwscroll&&C.hastransition&&y.opt.usetransition&&y.opt.smoothscroll?(this.prepareTransition=function(e,t){var o=t?e>20?e:0:y.getTransitionSpeed(e),r=o?C.prefixstyle+"transform "+o+"ms ease-out":"";return y.lasttransitionstyle&&y.lasttransitionstyle==r||(y.lasttransitionstyle=r,y.doc.css(C.transitionstyle,r)),o},this.doScrollLeft=function(e,t){var o=y.scrollrunning?y.newscrolly:y.getScrollTop();y.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=y.scrollrunning?y.newscrollx:y.getScrollLeft();y.doScrollPos(o,e,t)},this.doScrollPos=function(e,t,o){var r=y.getScrollTop(),n=y.getScrollLeft();return((y.newscrolly-r)*(t-r)<0||(y.newscrollx-n)*(e-n)<0)&&y.cancelScroll(),0==y.opt.bouncescroll&&(0>t?t=0:t>y.page.maxh&&(t=y.page.maxh),0>e?e=0:e>y.page.maxw&&(e=y.page.maxw)),y.scrollrunning&&e==y.newscrollx&&t==y.newscrolly?!1:(y.newscrolly=t,y.newscrollx=e,y.newscrollspeed=o||!1,y.timer?!1:void(y.timer=setTimeout(function(){var o=y.getScrollTop(),r=y.getScrollLeft(),n={};n.x=e-r,n.y=t-o,n.px=r,n.py=o;var i=Math.round(Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))),a=y.newscrollspeed&&y.newscrollspeed>1?y.newscrollspeed:y.getTransitionSpeed(i);if(y.newscrollspeed&&y.newscrollspeed<=1&&(a*=y.newscrollspeed),y.prepareTransition(a,!0),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),a>0){if(!y.scrollrunning&&y.onscrollstart){var s={type:"scrollstart",current:{x:r,y:o},request:{x:e,y:t},end:{x:y.newscrollx,y:y.newscrolly},speed:a};y.onscrollstart.call(y,s)}C.transitionend?y.scrollendtrapped||(y.scrollendtrapped=!0,y.bind(y.doc,C.transitionend,y.onScrollTransitionEnd,!1)):(y.scrollendtrapped&&clearTimeout(y.scrollendtrapped),y.scrollendtrapped=setTimeout(y.onScrollTransitionEnd,a));var l=o,c=r;y.timerscroll={bz:new E(l,y.newscrolly,a,0,0,.58,1),bh:new E(c,y.newscrollx,a,0,0,.58,1)},y.cursorfreezed||(y.timerscroll.tm=setInterval(function(){y.showCursor(y.getScrollTop(),y.getScrollLeft())},60))}y.synched("doScroll-set",function(){y.timer=0,y.scrollendtrapped&&(y.scrollrunning=!0),y.setScrollTop(y.newscrolly),y.setScrollLeft(y.newscrollx),y.scrollendtrapped||y.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){if(!y.scrollendtrapped)return!0;var e=y.getScrollTop(),t=y.getScrollLeft();return y.scrollrunning=!1,C.transitionend||clearTimeout(C.transitionend),y.scrollendtrapped=!1,y._unbind(y.doc[0],C.transitionend,y.onScrollTransitionEnd),y.prepareTransition(0),y.setScrollTop(e),y.railh&&y.setScrollLeft(t),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),y.timerscroll=!1,y.cursorfreezed=!1,y.showCursor(e,t),y},this.onScrollTransitionEnd=function(){y.scrollendtrapped&&y._unbind(y.doc[0],C.transitionend,y.onScrollTransitionEnd),y.scrollendtrapped=!1,y.prepareTransition(0),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),y.timerscroll=!1;var e=y.getScrollTop(),t=y.getScrollLeft();return y.setScrollTop(e),y.railh&&y.setScrollLeft(t),y.noticeCursor(!1,e,t),y.cursorfreezed=!1,0>e?e=0:e>y.page.maxh&&(e=y.page.maxh),0>t?t=0:t>y.page.maxw&&(t=y.page.maxw),e!=y.newscrolly||t!=y.newscrollx?y.doScrollPos(t,e,y.opt.snapbackspeed):(y.onscrollend&&y.scrollrunning&&y.triggerScrollEnd(),void(y.scrollrunning=!1))}):(this.doScrollLeft=function(e,t){var o=y.scrollrunning?y.newscrolly:y.getScrollTop();y.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=y.scrollrunning?y.newscrollx:y.getScrollLeft();y.doScrollPos(o,e,t)},this.doScrollPos=function(e,t,o){function r(){if(y.cancelAnimationFrame)return!0;if(y.scrollrunning=!0,h=1-h)return y.timer=d(r)||1;var e,t,o=0,n=t=y.getScrollTop();if(y.dst.ay){n=y.bzscroll?y.dst.py+y.bzscroll.getNow()*y.dst.ay:y.newscrolly;var i=n-t;(0>i&&n<y.newscrolly||i>0&&n>y.newscrolly)&&(n=y.newscrolly),y.setScrollTop(n),n==y.newscrolly&&(o=1)}else o=1;var a=e=y.getScrollLeft();if(y.dst.ax){a=y.bzscroll?y.dst.px+y.bzscroll.getNow()*y.dst.ax:y.newscrollx;var i=a-e;(0>i&&a<y.newscrollx||i>0&&a>y.newscrollx)&&(a=y.newscrollx),y.setScrollLeft(a),a==y.newscrollx&&(o+=1)}else o+=1;2==o?(y.timer=0,y.cursorfreezed=!1,y.bzscroll=!1,y.scrollrunning=!1,0>n?n=0:n>y.page.maxh&&(n=Math.max(0,y.page.maxh)),0>a?a=0:a>y.page.maxw&&(a=y.page.maxw),a!=y.newscrollx||n!=y.newscrolly?y.doScrollPos(a,n):y.onscrollend&&y.triggerScrollEnd()):y.timer=d(r)||1}var t=void 0===t||t===!1?y.getScrollTop(!0):t;if(y.timer&&y.newscrolly==t&&y.newscrollx==e)return!0;y.timer&&u(y.timer),y.timer=0;var n=y.getScrollTop(),i=y.getScrollLeft();((y.newscrolly-n)*(t-n)<0||(y.newscrollx-i)*(e-i)<0)&&y.cancelScroll(),y.newscrolly=t,y.newscrollx=e,y.bouncescroll&&y.rail.visibility||(y.newscrolly<0?y.newscrolly=0:y.newscrolly>y.page.maxh&&(y.newscrolly=y.page.maxh)),y.bouncescroll&&y.railh.visibility||(y.newscrollx<0?y.newscrollx=0:y.newscrollx>y.page.maxw&&(y.newscrollx=y.page.maxw)),y.dst={},y.dst.x=e-i,y.dst.y=t-n,y.dst.px=i,y.dst.py=n;var a=Math.round(Math.sqrt(Math.pow(y.dst.x,2)+Math.pow(y.dst.y,2)));y.dst.ax=y.dst.x/a,y.dst.ay=y.dst.y/a;var s=0,l=a;0==y.dst.x?(s=n,l=t,y.dst.ay=1,y.dst.py=0):0==y.dst.y&&(s=i,l=e,y.dst.ax=1,y.dst.px=0);var c=y.getTransitionSpeed(a);if(o&&1>=o&&(c*=o),y.bzscroll=c>0?y.bzscroll?y.bzscroll.update(l,c):new E(s,l,c,0,1,0,1):!1,!y.timer){(n==y.page.maxh&&t>=y.page.maxh||i==y.page.maxw&&e>=y.page.maxw)&&y.checkContentSize();var h=1;if(y.cancelAnimationFrame=!1,y.timer=1,y.onscrollstart&&!y.scrollrunning){var p={type:"scrollstart",current:{x:i,y:n},request:{x:e,y:t},end:{x:y.newscrollx,y:y.newscrolly},speed:c};y.onscrollstart.call(y,p)}r(),(n==y.page.maxh&&t>=n||i==y.page.maxw&&e>=i)&&y.checkContentSize(),y.noticeCursor()}},this.cancelScroll=function(){return y.timer&&u(y.timer),y.timer=0,y.bzscroll=!1,y.scrollrunning=!1,y}):(this.doScrollLeft=function(e,t){var o=y.getScrollTop();y.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=y.getScrollLeft();y.doScrollPos(o,e,t)},this.doScrollPos=function(e,t,o){var r=e>y.page.maxw?y.page.maxw:e;0>r&&(r=0);var n=t>y.page.maxh?y.page.maxh:t;0>n&&(n=0),y.synched("scroll",function(){y.setScrollTop(n),y.setScrollLeft(r)})},this.cancelScroll=function(){}),this.doScrollBy=function(e,t){var o=0;if(t)o=Math.floor((y.scroll.y-e)*y.scrollratio.y);else{var r=y.timer?y.newscrolly:y.getScrollTop(!0);o=r-e}if(y.bouncescroll){var n=Math.round(y.view.h/2);-n>o?o=-n:o>y.page.maxh+n&&(o=y.page.maxh+n)}y.cursorfreezed=!1;var i=y.getScrollTop(!0);return 0>o&&0>=i?y.noticeCursor():o>y.page.maxh&&i>=y.page.maxh?(y.checkContentSize(),y.noticeCursor()):void y.doScrollTop(o)},this.doScrollLeftBy=function(e,t){var o=0;if(t)o=Math.floor((y.scroll.x-e)*y.scrollratio.x);else{var r=y.timer?y.newscrollx:y.getScrollLeft(!0);o=r-e}if(y.bouncescroll){var n=Math.round(y.view.w/2);-n>o?o=-n:o>y.page.maxw+n&&(o=y.page.maxw+n)}y.cursorfreezed=!1;var i=y.getScrollLeft(!0);return 0>o&&0>=i?y.noticeCursor():o>y.page.maxw&&i>=y.page.maxw?y.noticeCursor():void y.doScrollLeft(o)},this.doScrollTo=function(e,t){var o=t?Math.round(e*y.scrollratio.y):e;0>o?o=0:o>y.page.maxh&&(o=y.page.maxh),y.cursorfreezed=!1,y.doScrollTop(e)},this.checkContentSize=function(){var e=y.getContentSize();(e.h!=y.page.h||e.w!=y.page.w)&&y.resize(!1,e)},y.onscroll=function(e){y.rail.drag||y.cursorfreezed||y.synched("scroll",function(){y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.railh&&(y.scroll.x=Math.round(y.getScrollLeft()*(1/y.scrollratio.x))),y.noticeCursor()})},y.bind(y.docscroll,"scroll",y.onscroll),this.doZoomIn=function(e){if(!y.zoomactive){y.zoomactive=!0,y.zoomrestore={style:{}};var t=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],o=y.win[0].style;for(var r in t){var n=t[r];y.zoomrestore.style[n]=void 0!==o[n]?o[n]:""}y.zoomrestore.style.width=y.win.css("width"),y.zoomrestore.style.height=y.win.css("height"),y.zoomrestore.padding={w:y.win.outerWidth()-y.win.width(),h:y.win.outerHeight()-y.win.height()},C.isios4&&(y.zoomrestore.scrollTop=l(window).scrollTop(),l(window).scrollTop(0)),y.win.css({position:C.isios4?"absolute":"fixed",top:0,left:0,zIndex:s+100,margin:0});var i=y.win.css("backgroundColor");return(""==i||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(i))&&y.win.css("backgroundColor","#fff"),y.rail.css({zIndex:s+101}),y.zoom.css({zIndex:s+102}),y.zoom.css("backgroundPosition","0px -18px"),y.resizeZoom(),y.onzoomin&&y.onzoomin.call(y),
y.cancelEvent(e)}},this.doZoomOut=function(e){return y.zoomactive?(y.zoomactive=!1,y.win.css("margin",""),y.win.css(y.zoomrestore.style),C.isios4&&l(window).scrollTop(y.zoomrestore.scrollTop),y.rail.css({"z-index":y.zindex}),y.zoom.css({"z-index":y.zindex}),y.zoomrestore=!1,y.zoom.css("backgroundPosition","0px 0px"),y.onResize(),y.onzoomout&&y.onzoomout.call(y),y.cancelEvent(e)):void 0},this.doZoom=function(e){return y.zoomactive?y.doZoomOut(e):y.doZoomIn(e)},this.resizeZoom=function(){if(y.zoomactive){var e=y.getScrollTop();y.win.css({width:l(window).width()-y.zoomrestore.padding.w+"px",height:l(window).height()-y.zoomrestore.padding.h+"px"}),y.onResize(),y.setScrollTop(Math.min(y.page.maxh,e))}},this.init(),l.nicescroll.push(this)},w=function(e){var t=this;this.nc=e,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.time=function(){return+new Date},this.reset=function(e,o){t.stop();var r=t.time();t.steptime=0,t.lasttime=r,t.speedx=0,t.speedy=0,t.lastx=e,t.lasty=o,t.lastscrollx=-1,t.lastscrolly=-1},this.update=function(e,o){var r=t.time();t.steptime=r-t.lasttime,t.lasttime=r;var n=o-t.lasty,i=e-t.lastx,a=t.nc.getScrollTop(),s=t.nc.getScrollLeft(),l=a+n,c=s+i;t.snapx=0>c||c>t.nc.page.maxw,t.snapy=0>l||l>t.nc.page.maxh,t.speedx=i,t.speedy=n,t.lastx=e,t.lasty=o},this.stop=function(){t.nc.unsynched("domomentum2d"),t.timer&&clearTimeout(t.timer),t.timer=0,t.lastscrollx=-1,t.lastscrolly=-1},this.doSnapy=function(e,o){var r=!1;0>o?(o=0,r=!0):o>t.nc.page.maxh&&(o=t.nc.page.maxh,r=!0),0>e?(e=0,r=!0):e>t.nc.page.maxw&&(e=t.nc.page.maxw,r=!0),r?t.nc.doScrollPos(e,o,t.nc.opt.snapbackspeed):t.nc.triggerScrollEnd()},this.doMomentum=function(e){var o=t.time(),r=e?o+e:t.lasttime,n=t.nc.getScrollLeft(),i=t.nc.getScrollTop(),a=t.nc.page.maxh,s=t.nc.page.maxw;t.speedx=s>0?Math.min(60,t.speedx):0,t.speedy=a>0?Math.min(60,t.speedy):0;var l=r&&60>=o-r;(0>i||i>a||0>n||n>s)&&(l=!1);var c=t.speedy&&l?t.speedy:!1,d=t.speedx&&l?t.speedx:!1;if(c||d){var u=Math.max(16,t.steptime);if(u>50){var h=u/50;t.speedx*=h,t.speedy*=h,u=50}t.demulxy=0,t.lastscrollx=t.nc.getScrollLeft(),t.chkx=t.lastscrollx,t.lastscrolly=t.nc.getScrollTop(),t.chky=t.lastscrolly;var p=t.lastscrollx,f=t.lastscrolly,g=function(){var e=t.time()-o>600?.04:.02;t.speedx&&(p=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=p,(0>p||p>s)&&(e=.1)),t.speedy&&(f=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=f,(0>f||f>a)&&(e=.1)),t.demulxy=Math.min(1,t.demulxy+e),t.nc.synched("domomentum2d",function(){if(t.speedx){{t.nc.getScrollLeft()}t.chkx=p,t.nc.setScrollLeft(p)}if(t.speedy){{t.nc.getScrollTop()}t.chky=f,t.nc.setScrollTop(f)}t.timer||(t.nc.hideCursor(),t.doSnapy(p,f))}),t.demulxy<1?t.timer=setTimeout(g,u):(t.stop(),t.nc.hideCursor(),t.doSnapy(p,f))};g()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},b=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(e,t,o){var r=l.data(e,"__nicescroll")||!1;return r&&r.ishwscroll?r.getScrollTop():b.call(e)},set:function(e,t){var o=l.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollTop(parseInt(t)):b.call(e,t),this}},e.fn.scrollTop=function(e){if(void 0===e){var t=this[0]?l.data(this[0],"__nicescroll")||!1:!1;return t&&t.ishwscroll?t.getScrollTop():b.call(this)}return this.each(function(){var t=l.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollTop(parseInt(e)):b.call(l(this),e)})};var I=e.fn.scrollLeft;l.cssHooks.pageXOffset={get:function(e,t,o){var r=l.data(e,"__nicescroll")||!1;return r&&r.ishwscroll?r.getScrollLeft():I.call(e)},set:function(e,t){var o=l.data(e,"__nicescroll")||!1;return o&&o.ishwscroll?o.setScrollLeft(parseInt(t)):I.call(e,t),this}},e.fn.scrollLeft=function(e){if(void 0===e){var t=this[0]?l.data(this[0],"__nicescroll")||!1:!1;return t&&t.ishwscroll?t.getScrollLeft():I.call(this)}return this.each(function(){var t=l.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollLeft(parseInt(e)):I.call(l(this),e)})};var T=function(e){var t=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){return l.each(t,e),t},this.push=function(e){t[t.length]=e,t.length++},this.eq=function(e){return t[e]},e)for(var o=0;o<e.length;o++){var r=l.data(e[o],"__nicescroll")||!1;r&&(this[this.length]=r,this.length++)}return this};o(T.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(e,t){e[t]=function(){var e=arguments;return this.each(function(){this[t].apply(this,e)})}}),e.fn.getNiceScroll=function(e){return void 0===e?new T(this):this[e]&&l.data(this[e],"__nicescroll")||!1},e.expr[":"].nicescroll=function(e){return void 0!==l.data(e,"__nicescroll")},l.fn.niceScroll=function(e,t){void 0!==t||"object"!=typeof e||"jquery"in e||(t=e,e=!1),t=l.extend({},t);var o=new T;void 0===t&&(t={}),e&&(t.doc=l(e),t.win=l(this));var r=!("doc"in t);return r||"win"in t||(t.win=l(this)),this.each(function(){var e=l(this).data("__nicescroll")||!1;e||(t.doc=r?l(this):t.doc,e=new y(t,l(this)),l(this).data("__nicescroll",e)),o.push(e)}),1==o.length?o[0]:o},window.NiceScroll={getjQuery:function(){return e}},l.nicescroll||(l.nicescroll=new T,l.nicescroll.options=g)})},{jquery:"jquery"}]},{},[15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50]);